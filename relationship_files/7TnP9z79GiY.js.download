if (self.CavalryLogger) { CavalryLogger.start_js(["8RQ1x"]); }

__d("FantaTabMainPlaceholder.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx("div",{className:"_59v1",children:h.jsx("div",{className:"_5qi9 _5qib",children:h.jsx("div",{className:"_3_9e _s0f _50mz _50m_ fbNub _50-v opened _27_3",children:h.jsx("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent _6vu1",children:h.jsx("div",{className:"fbNubFlyoutOuter",children:h.jsx("div",{className:"fbNubFlyoutInner _6vu1 _6z9d",children:h.jsx("div",{className:"_5-kq",children:h.jsx(b("XUISpinner.react"),{})})})})})})})})}}),null);
__d("FantaTabsSlimApp",["Bootloader","BootloadOnRender.react","ChatPerfInstrumentation","FantaTabMainPlaceholder.react","FantaTabsAppBase","JSResource","LazyComponent.react","React","ReactDOM","UserActivity","emptyFunction","gkx","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h,i=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$FantaTabsSlimApp1=!1,d.$FantaTabsSlimApp3=function(a,c){d.$FantaTabsSlimApp1?b("ifRequired")("FantaMessageActions",function(d){b("setImmediate")(function(){d.receivedNewMessage(a,c)})}):d.$FantaTabsSlimApp2(function(){b("ifRequired")("FantaMessageActions",function(d){b("setImmediate")(function(){d.receivedNewMessage(a,c)})})})},c)||babelHelpers.assertThisInitialized(d)}var e=c.prototype;e.getPumpedUp=function(a){this.$FantaTabsSlimApp1?a():this.$FantaTabsSlimApp2(a)};e.silentPumpUp=function(){this.$FantaTabsSlimApp1||this.$FantaTabsSlimApp2(b("emptyFunction"),!0)};e.getViewComponent=function(a){a=a?g.jsx("div",{}):g.jsx(b("FantaTabMainPlaceholder.react"),{});return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{loadDataOnMount:!1}),loader:b("JSResource")("FantaMercuryTabsWithMain.react").__setRef("FantaTabsSlimApp"),placeholder:a})};e.initializeFantaData=function(a){var c=this;d(["FantaCookieUtil","MercuryThreadInformer","PresenceState"],function(d,e,f){f.registerStateLoader(function(e){if(c.$FantaTabsSlimApp1)b("ifRequired")("FantaTabActions",function(c){b("ifRequired")("FantaAppStore",function(b){c.loadFromData(d.convertCookieData(e,b.getState().tabGroup,a))})});else{var f=d.convertCookieData(e,null,a);f&&f.tabs.length>0&&c.$FantaTabsSlimApp2(function(){b("ifRequired")("FantaTabActions",function(a){a.loadFromData(f)})})}}),f.doSync(),e.get().subscribe("threads-updated",function(a,c){b("ifRequired")("FantaGetMessageActions",function(a){Object.keys(c).forEach(function(c){b("setImmediate")(function(){a.refreshThread(c)})})})}),b("ChatPerfInstrumentation").logInitData()})};e.$FantaTabsSlimApp2=function(a,c){var e=this;b("ifRequired")("FantaAppStore",function(b){a()},function(){d(["FantaAppStore","FantaCookieUtil","FantaMessageActions","FantaTabActions","FantaTabViewportManager","PresenceState"],function(d,f,g,j,k,l){l.registerStateStorer(function(a){if(!b("UserActivity").isOnTab()&&!b("UserActivity").isActive(i)&&!b("gkx")("678595"))return a;var c=d.getState().tabGroup;if(!h||h&&!h.equals(c)){h=c;return f.createCookieData(c,a)}else return a}),b("ReactDOM").render(e.getViewComponent(c),e.tabsElem),k.init(e.tabsElem),e.$FantaTabsSlimApp1=!0,a()})})};e.initializeFantaUI=function(){var a=this;b("gkx")("1105821")?b("Bootloader").loadModules(["ZenonMessageHandler"],function(a){a.init()},"FantaTabsSlimApp"):b("Bootloader").loadModules(["FBRTCMessageHandler"],function(a){a.init()},"FantaTabsSlimApp");d(["FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","MercuryBrowserAlerts"],function(c,d,e,f,g){g.init(),c.registerForNewLogMessage(a.$FantaTabsSlimApp3),c.registerForNewMessage(a.$FantaTabsSlimApp3),b("ChatPerfInstrumentation").logInitUI(),b("ChatPerfInstrumentation").logDisplayDone()})};return c}(b("FantaTabsAppBase"));e.exports=new a()}),null);