if (self.CavalryLogger) { CavalryLogger.start_js(["+1O1z"]); }

__d("MessengerCreateVideoMeetupLinkMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:b},params:{id:"3346221745407746",metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoChatLinksUserActionsMultiplexLogger",["requireCond","cr:1443591"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1443591");e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["Promise","requireCond","cr:1012418","MessengerCreateVideoMeetupLinkMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("cr:1012418").commitMutation;b("cr:1012418").graphql;function a(a,c,d,e){d===void 0&&(d=!0);return new(b("Promise"))(function(f,i){h(a,{mutation:g!==void 0?g:g=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b;b=a==null?void 0:(b=a.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.link_url;a=a==null?void 0:(a=a.create_video_meetup_link)==null?void 0:(a=a.meetup_link)==null?void 0:a.link_hash;return b!=null&&a!=null?f({linkHash:a,linkUrl:b}):i({error:"Failed to create linkurl."})},onError:function(a){i(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{link_surface:c,should_allow_anonymous_guests:d}}}})})}}),null);
__d("randomZenonCallID",["Random"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return String(b("Random").uint32()+1)}}),null);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=2,h=6,i=36,j=2176782336;function a(){var a="";for(var c=0;c<g;c++){var d=Math.floor(b("Random").random()*j).toString(i);while(d.length<h)d="0"+d;a+=d}return a}}),null);
__d("ZenonPreCallHookBuilderHelper",["regeneratorRuntime","Promise","ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","URI","VideoChatLinksUserActionsMultiplexLogger","XGroupCallController","ZenonCallWindowErrors","gkx","isWorkplaceDotComURI","randomZenonCallID","randomZenonNonce"],(function(a,b,c,d,e,f){"use strict";f.acceptCall=a;f.createMeetup=c;f.joinMeetup=d;f.startCall=e;var g;function a(a,c){var d,e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(a===null)){k.next=2;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 2:d=a.callInviteModel,e=a.callWindowController;f=d.getCurrentInvite();if(!(f===null)){k.next=6;break}throw new(b("ZenonCallWindowErrors").InviteNotFoundError)();case 6:if(!(f.type!=="ringing"||f.context.type!=="thread")){k.next=8;break}throw new(b("ZenonCallWindowErrors").CannotAcceptInviteError)();case 8:g=b("randomZenonNonce")();h=e.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},joinContext:{thread:f.context.type==="thread"?f.context.thread:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g}),i=h[0],j=h[1];d.accept(g,{isPopupBlocked:i===null,trigger:c});k.next=13;return b("regeneratorRuntime").awrap(j);case 13:case"end":return k.stop()}},null,this)}function c(a,c,d,e,f){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(a===null)){i.next=2;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 2:j(f,d,e).setEvent("meetup_attempt_create_meetup").log();i.prev=3;i.next=6;return b("regeneratorRuntime").awrap(b("MessengerCreateVideoMeetupLinkMutation")(c,b("gkx")("1224637")?"WORKPLACE":void 0,!b("gkx")("1224637"),f));case 6:g=i.sent;h=g.linkUrl;if(!(h!=null)){i.next=13;break}j(f,d,e).setEvent("meetup_create_success").setVideoCallLinkURLRaw(h).log();return i.abrupt("return",h);case 13:j(f,d,e).setEvent("meetup_create_failed").log();case 14:return i.abrupt("return",h);case 17:i.prev=17;i.t0=i["catch"](3);j(f,d,e).setEvent("meetup_create_failed").log();j(f,d,e).setEvent("error").setErrorType("LinkCreationError "+i.t0.name).setErrorDetails(i.t0.description).log();throw i.t0;case 22:case"end":return i.stop()}},null,this,[[3,17]])}function d(a,c,d,e,f,j){var k,l,m,n,o,p,q,r,s,t,u,v;return b("regeneratorRuntime").async(function(w){while(1)switch(w.prev=w.next){case 0:f===void 0&&(f=!1);j===void 0&&(j=!1);if(!(a===null)){w.next=4;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 4:l=a.callWindowController,m=a.incomingRingSDK;n=b("randomZenonNonce")();o=b("randomZenonCallID")();p=c;b("gkx")("1583309")&&!b("isWorkplaceDotComURI")((g||(g=b("URI"))).getRequestURI())&&(r=(q=b("ConstUriUtils").getUri(c))==null?void 0:q.getQueryParam("funnel_session_id"),s=h(c),p=i(s,f?n:null,e,r!=null?String(r):null,j));if(!(p==null)){w.next=11;break}return w.abrupt("return",b("Promise").reject("An invalid URI was provided"));case 11:t=l.initCall({context:{callID:o,existingCall:null,intent:"start or join",invitees:[]},joinContext:{linkUrl:p,type:"link"},mediaType:"video",nonce:n}),u=t[0],v=t[1];m.startCallIntent(n,{callID:o,callTrigger:(k=d)!=null?k:"meetup_join",isPopupBlocked:u===null,isVideo:!0,peerID:"MW_PEER_ID",protocol:"mw"});w.next=15;return b("regeneratorRuntime").awrap(v);case 15:case"end":return w.stop()}},null,this)}function e(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:d=c.existingCall,e=c.extra,f=c.invitees,g=c.mediaType,h=c.thread,i=c.trigger;if(!(a===null)){q.next=3;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 3:j=a.callWindowController,k=a.incomingRingSDK;l=b("randomZenonCallID")();m=b("randomZenonNonce")();n=j.initCall({context:{callID:l,existingCall:d,intent:"start or join",invitees:f},extra:e,joinContext:{thread:h,type:"thread"},mediaType:g,nonce:m}),o=n[0],p=n[1];k.startCallIntent(m,{alohaEscalatedMW:p.then(function(a){return a.alohaEscalatedMW}),callID:l,callTrigger:i,isPopupBlocked:o===null,isVideo:g==="video",peerID:h.type===1?h.id:"MW_PEER_ID",protocol:h.type===1?"p2p":"mw"});q.next=10;return b("regeneratorRuntime").awrap(p);case 10:case"end":return q.stop()}},null,this)}function h(a){var c=b("ConstUriUtils").getUri(a),d=c==null?void 0:c.getDomain();c=c==null?void 0:(c=c.stripTrailingSlash())==null?void 0:c.getPath();if(c==null)return null;if(d==="msngr.com")return c.substring(1);var e=/^\/v(id)?\//;if(d==="m.me"&&e.test(c))return c.replace(e,"");b("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return null}function i(a,c,d,e,f){if(a==null)return"";c=b("XGroupCallController").getURIBuilder().setString("call_context","LINK:"+a).setString("nonce",c).setString("funnel_session_id",e).setFBIDSet("users_to_ring",(a=d)!=null?a:[]).setBool("auto_join",f?!0:null).getURI().getQualifiedURI();return c.setDomain(c.getDomain().replace(/\w+\.com/,"messenger.com")).toString()}function j(a,c,d){return new(b("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(c).setComponent(d)}}),null);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_size:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,surface:!0,targeted_user_ids:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};e.exports=a}),null);