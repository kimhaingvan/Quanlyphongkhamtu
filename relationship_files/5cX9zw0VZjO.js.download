if (self.CavalryLogger) { CavalryLogger.start_js(["bSsNO"]); }

__d("PagesHomepagePageletUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PagesHomepagePageletUsageLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PagesHomepagePageletUsageLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PagesHomepagePageletUsageLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdminMessage=function(a){this.$1.admin_message=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setIsEmbedded=function(a){this.$1.is_embedded=a;return this};c.setUserMessage=function(a){this.$1.user_message=a;return this};return a}();c={admin_message:!0,event_name:!0,is_embedded:!0,user_message:!0};e.exports=a}),null);
__d("MessengerThreadlistFetcher.bs",["Promise","bs_curry","CurrentUser","MessagingTag","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MessengerGraphQLThreadlistFetcher.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a===b("MessagingTag").INBOX)return"INBOX";else if(a===b("MessagingTag").OTHER)return"OTHER";else if(a===b("MessagingTag").ACTION_ARCHIVED)return"ARCHIVED";else if(a===b("MessagingTag").SPAM)return"SPAM";else if(a===b("MessagingTag").PENDING)return"PENDING";else if(a===b("MessagingTag").PAGE_BACKGROUND)return"PAGE_BACKGROUND";else return}function a(a,c,d,e,f,h,i){var j=g(c);if(j!==void 0){j=j;e={limit:e,folder:c,tags:d==null?[j]:[j,d],timestamp:f,filter:d,includeDeliveryReceipts:!0,includeSeqID:!1,isWorkUser:b("CurrentUser").isWorkUser(),onlyPinnedThreads:null};b("MessengerGraphQLThreadlistFetcher.bs").fetchAll(a,[e],h,"fetch_threadlist").then(function(c){b("MercuryServerPayloadPreprocessor").getForFBID(a).handleUpdate(Object.assign(c,{payload_source:b("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO}));b("bs_curry")._1(i,!0);return b("Promise").resolve(0)})["catch"](function(a){b("bs_curry")._1(i,!1);return b("Promise").resolve(0)});return 0}else return 0}f.fetchThreadlist=a}),null);
__d("PagesMessagingLoadingRow.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_5y2c"+(this.props.useDarkVersion?"":" _4a7c")+(this.props.useDarkVersion?" _4a7d":"");a=b("joinClasses")(a,this.props.className);return h.jsx("div",{className:a})};return c}(h.Component);e.exports=a}),null);
__d("PagesMessagingRelativeTimestamp.react",["LongLiveTimer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){c=a.call(this,b,c)||this;c.state={relativeTime:c.$1(b.utcTimestamp,b.shouldShorternTime)};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){(a.utcTimestamp!==this.props.utcTimestamp||a.shouldShorternTime!==this.props.shouldShorternTime)&&this.setState({relativeTime:this.$1(a.utcTimestamp,a.shouldShorternTime)})};d.render=function(){return g.jsx("div",{className:this.props.className,children:g.jsx("abbr",{className:"livetimestamp","data-utime":this.props.utcTimestamp/h,"data-shorten":this.props.shouldShorternTime,children:this.state.relativeTime.text})})};d.$1=function(a,c){return b("LongLiveTimer").renderRelativeTimeToServer(a/h,c)};return c}(g.Component);e.exports=a}),null);
__d("PagesMessagingHomePageletLogger",["PagesHomepagePageletUsageTypedLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.$2=function(a,c){a={is_embedded:this.$1,event_name:a};c&&(a=Object.assign(a,c));c=new(b("PagesHomepagePageletUsageTypedLogger"))();c.updateData(a).log()};c.logEvent=function(a){this.$2(a,null)};c.logEventWithUserMessage=function(a,b){this.$2(a,{user_message:b})};c.logReplyMessage=function(a,b,c){this.$2(a,{user_message:b,admin_message:c})};return a}();e.exports=a}),null);
__d("PagesMessagingMessageSnippet.react",["cx","fbt","Image.react","Layout.react","LeftRight.react","MercuryThreadSnippet.react","PagesMessagingLoadingRow.react","PagesMessagingRelativeTimestamp.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_3sfn",this.props.className);return i.jsx("div",{className:a,"data-hover":"tooltip","data-tooltip-content":h._("Nh\u1ea5p \u0111\u1ec3 \u0111\u1ecdc v\u00e0 thao t\u00e1c tr\u00ean tin nh\u1eafn \u0111\u1ea7y \u0111\u1ee7."),role:"button",children:this.$1()})};d.$1=function(){return i.jsxs(b("Layout.react"),{children:[i.jsx(j,{children:this.$2()}),i.jsx(k,{children:this.$3()})]})};d.$2=function(){return!this.props.message?i.jsx(b("PagesMessagingLoadingRow.react"),{className:(this.props.placement==="aymt_homepage_panel"?"_3fep":"")+(this.props.placement==="admin_hovercard"?" _3feq":"")}):i.jsx(b("Image.react"),{className:(this.props.placement==="aymt_homepage_panel"?"_3fep":"")+(this.props.placement==="admin_hovercard"?" _3feq":""),src:this.props.message?this.props.message.senderImageSrc:""})};d.$3=function(){var a=this.props.message;if(!a)return i.jsxs("div",{className:"_3sfp",children:[i.jsx(b("PagesMessagingLoadingRow.react"),{className:"_3sfq"}),i.jsx(b("PagesMessagingLoadingRow.react"),{className:"_3sfr"})]});var c=null;this.props.placement==="admin_hovercard"&&(c=i.jsxs(b("LeftRight.react"),{children:[i.jsx("div",{className:"_2iz9",children:h._("Tin nh\u1eafn ch\u01b0a \u0111\u1ecdc m\u1edbi nh\u1ea5t")}),i.jsx(b("PagesMessagingRelativeTimestamp.react"),{className:"_2iz6",utcTimestamp:a.thread.last_message_timestamp,shouldShorternTime:!1})]}));return i.jsxs("div",{className:"_3sfp",children:[c,i.jsx("div",{className:(this.props.placement==="aymt_homepage_panel"?"_3fer":"")+(this.props.placement==="admin_hovercard"?" _3fes":"")+" _3sg9",children:a.senderName}),i.jsx(b("MercuryThreadSnippet.react"),{className:"_3sga _3sg9",participants:a.participants,shouldRenderYou:!1,thread:a.thread,viewer:this.props.pageID})]})};return c}(i.Component);e.exports=a}),null);
__d("PagesMessagingInboxOverview.react",["cx","fbt","invariant","LeftRight.react","Link.react","MercuryFilters.bs","MercuryIDs","MessagingTag","MessengerParticipants.bs","MessengerState.bs","MessengerThreadlistFetcher.bs","PagesMessagingHomePageletLogger","PagesMessagingMessageSnippet.react","PagesMessagingRelativeTimestamp.react","Random","React","XPagesManagerMessagesController","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("immutable").Map;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;c.$1=new(b("PagesMessagingHomePageletLogger"))(!0);c.state={isFetching:!1};return c}var d=c.prototype;d.componentDidMount=function(){this.fetch(),this.$1.logEvent("render")};d.UNSAFE_componentWillReceiveProps=function(a){a.pageInfo!==this.props.pageInfo&&this.fetch()};d.fetch=function(){var a=this;if(this.state.isFetching)return;this.setState({isFetching:!0},function(){b("MessengerThreadlistFetcher.bs").fetchThreadlist(a.props.pageInfo.id,b("MessagingTag").INBOX,b("MercuryFilters.bs").unread,5,null,!0,function(b){return a.setState({isFetching:!1})})})};d.render=function(){var a;this.state.isFetching?a=this.$2():a=this.$3();return j.jsx("div",{className:this.props.className,children:a})};d.$2=function(){return j.jsx(b("PagesMessagingMessageSnippet.react"),{className:"_2iza _12f2",message:null,pageID:this.props.pageInfo.id,placement:this.props.placement})};d.$4=function(a){return b("XPagesManagerMessagesController").getURIBuilder().setString("page_token",this.props.pageInfo.uriToken).setString("threadid",b("MercuryIDs").getUserIDFromThreadID(a.thread.thread_id)).setString("ref",this.props.placement).getURI()};d.$5=function(a){a=a[b("MessagingTag").INBOX]?a[b("MessagingTag").INBOX][b("MercuryFilters.bs").unread]:null;a=a?a.threadlist:null;if(!a||a.length===0)return null;a=this.props.showRandomMessage?a[Math.floor(b("Random").random()*a.length)]:a[0];a=b("MessengerState.bs").getThreadMetaNow(this.props.pageInfo.id,a);a||i(0,3277);var c=a.other_user_fbid;c||i(0,3278);c="fbid:"+c;c=b("MessengerParticipants.bs").getNow(c);return c==null?null:{senderImageSrc:c.image_src,senderName:c.name,senderShortName:c.short_name,thread:a,participants:k(b("immutable").Seq(a.participants).map(function(a){return[a,b("MessengerParticipants.bs").getNow(a)]}))}};d.$3=function(){var a=this;return j.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageInfo.id,children:function(c){c=b("MessengerState.bs").threadlistOrderMap(c);c=a.$5(c);if(c==null)return null;var d=null;a.props.placement==="aymt_homepage_panel"&&(d=j.jsxs(b("LeftRight.react"),{children:[j.jsx("div",{className:"_2iz9",children:h._("Tin nh\u1eafn ch\u01b0a \u0111\u1ecdc m\u1edbi nh\u1ea5t")}),j.jsx(b("PagesMessagingRelativeTimestamp.react"),{className:"_2iz6",shouldShorternTime:!1,utcTimestamp:c.thread.last_message_timestamp})]}));return j.jsxs(b("Link.react"),{className:"_2hlr",href:a.$4(c),children:[d,j.jsx(b("PagesMessagingMessageSnippet.react"),{className:"_2iza",message:c,pageID:a.props.pageInfo.id,placement:a.props.placement})]})}})};return c}(j.Component);e.exports=a}),null);
__d("PagesMessagingInlineInboxView.react",["PagesMessagingInboxOverview.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("PagesMessagingInboxOverview.react"),{pageInfo:this.props.pageInfo,showRandomMessage:this.props.showRandomMessage,placement:this.props.placement})};return c}(g.Component);e.exports=a}),null);