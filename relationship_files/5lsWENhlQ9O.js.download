if (self.CavalryLogger) { CavalryLogger.start_js(["sDRir"]); }

__d("ContentSearchEvents",[],(function(a,b,c,d,e,f){e.exports={CONTENT_SEARCH:"content_search",OPEN_TRAY:"open_tray",QUERY_RESULTS_LOADED:"query_results_loaded",RESULT_SENT:"result_sent",namesByValue:{content_search:"CONTENT_SEARCH",open_tray:"OPEN_TRAY",query_results_loaded:"QUERY_RESULTS_LOADED",result_sent:"RESULT_SENT"}}}),null);
__d("MessengerPlatformQueryType",[],(function(a,b,c,d,e,f){e.exports={SEARCH:0,MEDIAFY:1,TRENDING:2,SAMPLE:3,namesByValue:["SEARCH","MEDIAFY","TRENDING","SAMPLE"]}}),null);
__d("XMessengerPlatformContentSearchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/content_search/",{ftentidentifier:{type:"String"},q:{type:"String",defaultValue:""},qtype:{type:"Enum",defaultValue:0,enumType:0},resume:{type:"String",defaultValue:""},"interface":{type:"Enum",enumType:0},platform_fbids:{type:"IntVector"}})}),null);
__d("ChatContentSearch",["AsyncRequest","MessengerPlatformQueryType","XMessengerPlatformContentSearchController"],(function(a,b,c,d,e,f){"use strict";f.getContentForQuery=a;function a(a){var c=a.query,d=a.callback,e=a.ftentidentifier,f=a.resume,g=a.searchInterface;a=a.platformFBIDs;f=b("XMessengerPlatformContentSearchController").getURIBuilder().setString("resume",f);c!=null&&c.length>0?f.setString("q",c):f.setEnum("qtype",b("MessengerPlatformQueryType").TRENDING);g!=null&&f.setEnum("interface",g);a!=null&&f.setIntVector("platform_fbids",a);e!=null&&f.setString("ftentidentifier",e);c=new(b("AsyncRequest"))().setURI(f.getURI()).setHandler(d);c.send();return c}}),null);
__d("ChatContentSearchResult.react",["cx","fbt","AddCommentFlyoutSizeType","Image.react","Keys","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=274,k=308,l=137,m=152;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.stopPropagation(),d.props.onClick(d.props.result)},d.$2=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),d.props.onClick(d.props.result))},c)||babelHelpers.assertThisInitialized(d)}c.isWide=function(a){a=a.media.preview;return a.width>a.height*1.2};c.getScaledDimensions=function(a,b,c){a=a.media.preview;var d=a.height;a=a.width;var e=c?m:l;c=c?k:j;b=(b?c:e)/a;d*=b;a*=b;return{height:d,width:a}};var d=c.prototype;d.render=function(){var a=c.getScaledDimensions(this.props.result,this.props.isWide,this.props.size==="large");return i.jsx(b("ShimButton.react"),{"aria-label":h._("File GIF"),"data-testid":void 0,onClick:this.$1,onKeyPress:this.$2,tabIndex:0,children:i.jsx(b("Image.react"),{className:"_358"+(this.props.isWide?" _26n6":""),src:this.props.src,style:a})})};return c}(i.PureComponent);e.exports=a;a.defaultProps={size:b("AddCommentFlyoutSizeType").SMALL}}),null);
__d("ChatContentSearchResults.react",["cx","fbt","ix","Bootloader","ChatContentSearch","ChatContentSearchResult.react","Image.react","MercuryConfig","MessengerSpinner.react","React","ScrollableArea.react","debounce","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l={};function m(a){return a.replace(/^httpss/,"https")}var n={isLoading:!0,response:null,results:[]};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state=n;d.$12=function(){var a=(j||(j=b("performanceAbsoluteNow")))(),c=d.state.results?d.state.results.length:0;b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.COMPOSER_INTERACTION,"load_gif_result",JSON.stringify({length:c}),0,a)},"ChatContentSearchResults.react");d.$12=b("emptyFunction")};d.$6=function(){d.$7();d.$4=Date.now();if(d.state.response&&(!d.state.response.resultNextCursor||!d.props.query))return;var a=d.$13();d.setState({isLoading:!0});d.$1=b("ChatContentSearch").getContentForQuery({query:d.props.query,resume:a,callback:d.$14,searchInterface:d.props.searchInterface,platformFBIDs:d.props.platformFBIDs,ftentidentifier:d.props.ftentidentifier})};d.$14=function(a){d.$1===a.request&&(l=babelHelpers["extends"]({},l,a.payload.attribution),d.setState(function(b){return{isLoading:!1,response:a.payload,results:a.payload.resultGroup[0]?b.results.concat(a.payload.resultGroup[0].results):b.results}},function(){d.$4!==void 0&&(d.props.onResultsLoaded&&d.props.onResultsLoaded(Date.now()-d.$4),delete d.$4)}),delete d.$1)};d.$17=function(a){d.props.onSelect(a,l[a.platformFBID])};d.$9=function(){d.$18()&&!d.$1&&d.$2()};d.$5=function(a){d.setState(n,a)};d.$2=b("emptyFunction");d.$3=b("emptyFunction");return d}var d=c.prototype;d.componentDidMount=function(){this.$3=b("debounce")(this.$5,100),this.$2=b("debounce")(this.$6,200),this.$2()};d.componentWillUnmount=function(){this.$2.reset(),this.$3.reset(),this.$7()};d.componentDidUpdate=function(a){this.props.query!==a.query&&this.$3(this.$6)};d.render=function(){return(!this.state.response||!this.state.results.length)&&!this.state.isLoading?this.$8():k.jsxs(b("ScrollableArea.react"),{"data-testid":void 0,fade:!0,onScroll:this.$9,ref:"scrollable",children:[this.$10(),this.$11()]})};d.$11=function(){return!this.state.isLoading?null:k.jsx("div",{style:{marginTop:this.state.response?"10px":"140px",textAlign:"center"},children:k.jsx(b("MessengerSpinner.react"),{color:"grey",size:b("MessengerSpinner.react").medium_size})})};d.$13=function(){return this.state.response?this.state.response.resultNextCursor:void 0};d.$7=function(){this.setState({isLoading:!1}),this.$1&&(this.$1.abort(),delete this.$1,delete this.$4)};d.$8=function(){return k.jsxs("div",{className:"_85jd",children:[k.jsx(b("Image.react"),{src:i("87146")}),k.jsx("p",{children:h._("Kh\u00f4ng c\u00f3 file GIF n\u00e0o")})]})};d.$10=function(){var a=this;return!this.state.response||!this.state.results.length?null:this.state.results.map(function(c,d){var e=b("ChatContentSearchResult.react").isWide(c);if(!e&&c.platformFBID.toString()!==b("MercuryConfig").MessengerAppID){var f=d-a.$15(d),g=a.$16(d)-d;e=(f<=1||f%2!==0)&&g<=1}a.$12();return k.jsx(b("ChatContentSearchResult.react"),{isWide:e,"data-testid":void 0,onClick:a.$17,result:c,src:m(c.media.preview.url),size:a.props.size},"result:"+d+":"+c.resultID)})};d.$15=function(a){a=a;while(a>0){--a;if(b("ChatContentSearchResult.react").isWide(this.state.results[a]))return a}return a};d.$16=function(a){a=a;var c=this.state.results.length;while(a<c-1){++a;if(b("ChatContentSearchResult.react").isWide(this.state.results[a]))return a}return a};d.$18=function(){var a=this.refs.scrollable.getArea();return!!(a&&a.distanceToBottom()<=50)};return c}(k.PureComponent);a.defaultProps={"data-testid":"search-results",size:"small"};e.exports=a}),null);
__d("ChatContentSearchTrendingIndicator.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.shown!==this.props.shown};d.render=function(){return this.props.shown?j.jsxs("div",{className:"_515",children:[j.jsx(b("Image.react"),{src:i("28005")}),h._("Th\u1ecbnh h\u00e0nh")]}):null};return c}(j.Component);e.exports=a}),null);
__d("MessengerSearchInput.react",["cx","AbstractTextInput.react","React","XUICloseButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.focusInput=function(){c.refs.inputField.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_5iwm"+(this.props.isFocused||!!this.props.value?" _5iwn":"")),role:"search",children:[h.jsx(b("AbstractTextInput.react"),{className:"_3deo",onBlur:this.props.onBlur,onChange:this.props.onChange,onClick:this.props.onClick,onEnter:this.props.onEnter,onFocus:this.props.onFocus,placeholder:this.props.placeholder,ref:"inputField",value:this.props.value}),h.jsx(b("XUICloseButton.react"),{size:"small",onMouseDown:this.props.onClear,className:(this.props.value.length===0?"hidden_elem":"")+" _2xme"})]})};return c}(h.PureComponent);a.propTypes={isFocused:(c=b("prop-types")).bool,onBlur:c.func,onChange:c.func,onClear:c.func,onClick:c.func,onEnter:c.func,onFocus:c.func,placeholder:c.node,value:c.string.isRequired};e.exports=a}),null);
__d("ChatContentSearchFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","BanzaiLogger","Bootloader","ChatContentSearchResults.react","ChatContentSearchTrendingIndicator.react","ContentSearchEvents","Keys","MercuryShareAttachmentRenderLocations","MessengerPlatformInterfaceType","MessengerSearchInput.react","React","UFISearchInput.react","XUITextInput.react","gkx","performanceAbsoluteNow","prop-types","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=" ",l=/\s+/g,m=(a=b("MercuryShareAttachmentRenderLocations")).COMPOSER,n=a.MESSENGER,o=a.CHAT,p=406655189415060;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={query:b("gkx")("1645451")?"":d.props.query,viewerEnteredText:!1},d.$10=function(a){d.setState({query:a.target.value,viewerEnteredText:d.$9()||a.target.value.length>0})},d.$5=function(a){a.keyCode===b("Keys").ESC&&d.props.onEscKeyDown&&d.props.onEscKeyDown()},d.$8=function(a,c){d.$11(),d.props.onSelect(a,c),b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").RESULT_SENT,query:d.state.query,resultid:a.resultID})},d.$7=function(a){b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").QUERY_RESULTS_LOADED,query:d.state.query,inflighttime:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){var a=(i||(i=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,"mount_gif_flyout","",0,a)},"ChatContentSearchFlyout.react")};d.componentDidMount=function(){this.$2(),b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").OPEN_TRAY,query:this.state.query}),this.$1&&(this.$1.focusInput&&this.$1.focusInput())};c.getDerivedStateFromProps=function(a,c){return!c.viewerEnteredText?babelHelpers["extends"]({},c,{query:b("gkx")("1645451")?"":a.query}):c};d.render=function(){var a=this.$3(this.props.queryDefault),c=this.$4();return j.jsxs("div",{className:"_85nf",onKeyDown:this.$5,"data-testid":void 0,children:[j.jsx("div",{className:"_3mtr",children:this.$6()}),j.jsxs("div",{className:"_3mts",children:[j.jsx(b("ChatContentSearchResults.react"),{"data-testid":void 0,ftentidentifier:this.props.ftentidentifier,onResultsLoaded:this.$7,onSelect:this.$8,query:c,searchInterface:this.props.searchInterface,size:this.props.size,platformFBIDs:a.length===0?[]:[p]}),j.jsx(b("ChatContentSearchTrendingIndicator.react"),{shown:b("qex")._("1125322")?!1:c.length===0})]})]})};d.$4=function(){var a=this.$3(this.state.query),b=this.$3(this.props.queryDefault);return(this.$9()?a:a.length===0?b:a)||""};d.$6=function(){var a=this,c=this.$9(),d=this.props.location===n?b("MessengerSearchInput.react"):this.props.location===m?b("UFISearchInput.react"):b("XUITextInput.react");return j.jsx(d,{className:"_4qcs",isFocused:!0,onClick:function(a){return a&&a.stopPropagation()},onChange:this.$10,onClear:function(){a.setState({query:c?"":a.props.queryDefault,viewerEnteredText:c})},placeholder:h._("T\u00ecm ki\u1ebfm GIF tr\u00ean \u1ee9ng d\u1ee5ng..."),ref:function(b){return a.$1=b},value:this.state.query||""})};d.$3=function(a){return(a||"").trim().replace(l,k).toLowerCase()};d.$11=function(){var a=(i||(i=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerPoint(c.COMPOSER_INTERACTION,"send_gif","",0,a),b.markerEnd(c.COMPOSER_INTERACTION,"SUCCESS",0,a)},"ChatContentSearchFlyout.react")};d.$9=function(){return this.props.location===n||this.props.location===o};return c}(j.PureComponent);c.propTypes={ftentidentifier:(d=b("prop-types")).string,location:d.oneOf(a.getValues()),onEscKeyDown:d.func,onSelect:d.func.isRequired,query:d.string,searchInterface:d.oneOf([(f=b("MessengerPlatformInterfaceType")).UNKNOWN_INTERFACE,f.FB_INTERFACE,f.FB_POST_INTERFACE,f.MESSENGER_INTERFACE]),size:d.oneOf(Object.values(b("AddCommentFlyoutSizeType"))),queryDefault:d.string};c.defaultProps={size:b("AddCommentFlyoutSizeType").SMALL};e.exports=c}),null);
__d("ReactComposerSupportNowLazyAttachment.react",["ActorURI","Bootloader","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerSupportNowAttachmentBootstrapController","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSupportNowLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").SUPPORT_NOW},propTypes:{additionalFooterActions:b("prop-types").arrayOf(b("prop-types").element),bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootloader&&this.props.bootloader.supportNowAttachment?this.props.bootloader.supportNowAttachment(a):b("Bootloader").loadModules(["ReactComposerSupportNowAttachmentContainer.react"],a,"ReactComposerSupportNowLazyAttachment.react")},getBootstrapURI:function(){var a=b("XReactComposerSupportNowAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setString("profile_id",this.context.targetID).getURI();return b("ActorURI").create(a,this.context.actorID)}});e.exports=a}),null);
__d("ReactComposerStatusDonateButtonActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null},"ReactComposerStatusDonateButtonActionType");e.exports=a}),null);
__d("ReactComposerStatusDonateButtonStore",["ReactComposerStatusDonateButtonActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{charityName:"",fundraiserCampaignId:1,enabled:!1,textDisabled:!1,errors:!1}},function(a){switch(a.type){case b("ReactComposerStatusDonateButtonActionType").SET_DONATE_CONFIG:d&&d.$ReactComposerStatusDonateButtonStore1(a);break;case b("ReactComposerStatusDonateButtonActionType").UPDATE_TITLE:d&&d.$ReactComposerStatusDonateButtonStore2(a);break;case b("ReactComposerStatusDonateButtonActionType").UPDATE_DESCRIPTION:d&&d.$ReactComposerStatusDonateButtonStore3(a);break;case b("ReactComposerStatusDonateButtonActionType").SET_DATA:d&&d.$ReactComposerStatusDonateButtonStore4(a);break;case b("ReactComposerStatusDonateButtonActionType").SET_ENABLED:d&&d.$ReactComposerStatusDonateButtonStore5(a);break;case b("ReactComposerStatusDonateButtonActionType").SET_ERRORS:d&&d.$ReactComposerStatusDonateButtonStore6(a);break;case b("ReactComposerStatusDonateButtonActionType").SET_TEXT_DISABLED:d&&d.$ReactComposerStatusDonateButtonStore7(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getFundraiserCampaignID=function(a){return this.getComposerData(a).fundraiserCampaignId};d.getCharityName=function(a){return this.getComposerData(a).charityName};d.getTitle=function(a){return this.getComposerData(a).title};d.getDescription=function(a){return this.getComposerData(a).description};d.getEnabled=function(a){return this.getComposerData(a).enabled};d.getErrors=function(a){return this.getComposerData(a).errors};d.getTextDisabled=function(a){return this.getComposerData(a).textDisabled};d.$ReactComposerStatusDonateButtonStore1=function(a){var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.fundraiserCampaignId=b.fundraiserCampaignId;c.charityName=b.charityName;this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore2=function(a){var b=this.validateAction(a,["composerID","title"]),c=b[0];b=b[1];c=this.getComposerData(c);c.title=b.substring(0,60);this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore3=function(a){var b=this.validateAction(a,["composerID","description"]),c=b[0];b=b[1];c=this.getComposerData(c);c.description=b;this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore4=function(a){var b=this.validateAction(a,["composerID","title","description"]),c=b[0],d=b[1];b=b[2];c=this.getComposerData(c);c.title=d;c.description=b;this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore5=function(a){var b=this.validateAction(a,["composerID","enabled"]),c=b[0];b=b[1];c=this.getComposerData(c);c.enabled=b;this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore6=function(a){var b=this.validateAction(a,["composerID","errors"]),c=b[0];b=b[1];c=this.getComposerData(c);c.errors=b;this.emitChange(a.composerID)};d.$ReactComposerStatusDonateButtonStore7=function(a){var b=this.validateAction(a,["composerID","textDisabled"]),c=b[0];b=b[1];c=this.getComposerData(c);c.textDisabled=b;this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerStatusDonateButtonActions.react",["ReactComposerDispatcher","ReactComposerStatusDonateButtonActionType","ReactComposerStatusDonateButtonStore"],(function(a,b,c,d,e,f){b("ReactComposerStatusDonateButtonStore");a=function(){function a(){}var c=a.prototype;c.setConfig=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerStatusDonateButtonActionType").SET_DONATE_CONFIG,config:c})};c.setEnabled=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,enabled:c,type:b("ReactComposerStatusDonateButtonActionType").SET_ENABLED})};c.updateTitle=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,title:c,type:b("ReactComposerStatusDonateButtonActionType").UPDATE_TITLE})};c.updateDescription=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,description:c,type:b("ReactComposerStatusDonateButtonActionType").UPDATE_DESCRIPTION})};c.setData=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,title:c,description:d,type:b("ReactComposerStatusDonateButtonActionType").SET_DATA})};c.setErrors=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,errors:c,type:b("ReactComposerStatusDonateButtonActionType").SET_ERRORS})};c.setTextDisabled=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,textDisabled:c,type:b("ReactComposerStatusDonateButtonActionType").SET_TEXT_DISABLED})};return a}();c=new a();e.exports=c}),null);
__d("ReactComposerGIFToggleController.react",["Arbiter","ChatContentSearchFlyout.react","LayerTabIsolation","MessengerPlatformInterfaceType","React","ReactComposerContextTypes","ReactComposerEvents","ReactComposerScrapedAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerType","XUIContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerTaggerActions").selectTagger(d.context.composerID,d.props.loggingName,b("ReactComposerTaggerType").GIF,!1)},d.$3=function(){d.props.showFlyout&&b("ReactComposerTaggerActions").deselectCurrentTagger(d.context.composerID,d.props.loggingName)},d.$4=function(a){b("ReactComposerScrapedAttachmentActions").scrapeAttachment(d.context.composerID,d.context.targetID,a.source.url,d.context.composerType,d.context.actorID,d.props.loggingName),b("ReactComposerTaggerActions").setTaggerData(d.context.composerID,d.props.loggingName,b("ReactComposerTaggerType").GIF,{gifData:{url:a.source.url}}),d.$3(),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsxs("span",{onClick:this.props.onClick||this.$1,role:"presentation",children:[g.jsx("span",{className:this.props.spanClassName,ref:"container",children:this.props.children}),this.$2()]})};d.$2=function(){var a=this;return!this.props.showFlyout?null:g.jsx(b("XUIContextualDialog.react"),{alignment:this.props.alignment||"left",behaviors:{LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return a.refs.container},onBlur:this.props.onBlur||this.$3,onToggle:function(b){!b&&a.props.showFlyout&&(a.props.onBlur&&a.props.onBlur()||a.$3())},position:"below",shown:this.props.showFlyout,hasActionableContext:!0,width:278,children:g.jsx("div",{children:g.jsx(b("ChatContentSearchFlyout.react"),{onEscKeyDown:this.props.onBlur||this.$3,onSelect:this.props.onSelect||this.$4,searchInterface:b("MessengerPlatformInterfaceType").FB_POST_INTERFACE,shown:this.props.showFlyout})})})};return c}(g.PureComponent);e.exports=a;a.contextTypes=b("ReactComposerContextTypes")}),null);
__d("ReactComposerMediaSproutContainer.react",["fbt","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerMediaSprout.react","ReactComposerMediaUploadStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.setState({showPagePostTemplateNux:!1}),b("ReactComposerTaggerActions").handleSetTaggerShowNUX(d.context.composerID,"page_post_template",!1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.composerID,b("ReactComposerAttachmentType").MEDIA);c=b("ReactComposerMediaUploadStore").getUploadsCount(d.composerID);var e=b("ReactComposerTaggerStore").shouldShowNUX(d.composerID,"page_post_template");d=b("ReactComposerAttachmentStore").isContentMultiShareAttachment(d.composerID)||b("ReactComposerTaggerStore").isDisabled(d.composerID,b("ReactComposerTaggerType").MEDIA);return{highlighted:!!c&&a,showPagePostTemplateNux:e,isDisabled:d}};var d=c.prototype;d.render=function(){var a=this;return this.state.isDisabled?h.jsx(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):h.jsxs("div",{children:[h.jsx(b("ReactComposerMediaSprout.react"),babelHelpers["extends"]({config:this.props.config,mediaType:"MEDIA",ref:"mediaSprout"},this.props,this.state)),h.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.mediaSprout},onCloseButtonClick:this.$1,position:"left",shown:this.state.showPagePostTemplateNux,children:g._("Nh\u1eefng b\u00e0i vi\u1ebft c\u00f3 \u1ea3nh th\u01b0\u1eddng nh\u1eadn \u0111\u01b0\u1ee3c nhi\u1ec1u l\u01b0\u1ee3t t\u01b0\u01a1ng t\u00e1c h\u01a1n.")})]})};return c}(h.PureComponent);a.contextTypes=b("ReactComposerContextTypes");c=b("FluxContainer").create(a,{withContext:!0,withProps:!0});e.exports=c}),null);
__d("ReactComposerSproutsLiveVideoSelector.react",["ix","fbt","React","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.defaultProps={onSelected:function(){}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:g("123206"),label:h._("Video tr\u1ef1c ti\u1ebfp"),onSelected:this.props.onSelected,dataTestID:"react-composer-live-video-selector-react"})};return c}(i.Component);e.exports=a}),null);
__d("ReactComposerSproutsLiveVideoDialogSelector.react",["Arbiter","Bootloader","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextConfig","ReactComposerEvents","ReactComposerLoggingName","ReactComposerSproutsLiveVideoSelector.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerAttachmentActions").selectAttachment(d.props.contextConfig.composerID,b("ReactComposerAttachmentType").LIVE_VIDEO,!0,b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR),setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.props.contextConfig.composerID)},0),b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(a){return a.startPreviewUI(d.props.contextConfig,d.props.config)},"ReactComposerSproutsLiveVideoDialogSelector.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("ReactComposerSproutsLiveVideoSelector.react"),{onSelected:this.$1})};return c}(g.Component);e.exports=a}),null);
__d("ReactFeedSproutsComposerX.react",["cx","Arbiter","Bootloader","JSResource","LitestandComposer","React","ReactComposerAsset3dEagerAttachment.react","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerCTALazyAttachment.react","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFooter.react","ReactComposerFooterWithDestinationPicker.react","ReactComposerHeaderContainer.react","ReactComposerInit","ReactComposerListLazyAttachment.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLivingRoomLazyAttachment.react","ReactComposerLocalDevPlatformLazyAttachment.react","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerMediaSproutContainer.react","ReactComposerMessageLazyAttachment.react","ReactComposerPagesBootloader","ReactComposerPlaceListLazyAttachment.react","ReactComposerPrefillUtils","ReactComposerShopLazyAttachment.react","ReactComposerSproutsAlbumSelector.react","ReactComposerSproutsListContainer.react","ReactComposerSproutsLiveVideoDialogSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerStatusEagerAttachment.react","ReactComposerSupportNowLazyAttachment.react","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerVisualPollLazyAttachment.react","ReactComposerWhatsAppMessageLazyAttachment.react","ReactComposerWithSprouts.react","ReactDOM","lazyLoadComponent","gkx"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ReactComposerFunFactSinglePromptTaggerContainer.react").__setRef("ReactFeedSproutsComposerX.react")),j=b("lazyLoadComponent")(b("JSResource")("ReactComposerFunFactAskPromptTaggerContainer.react").__setRef("ReactFeedSproutsComposerX.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getChildContext=function(){var a=b("ReactComposerContextProviderMixin").staticGetChildContext(this.props),c=this.props.contextConfig.composerType;c=c==="pages_feed"||c==="pages_posts";a.jsModules=Object.assign({},a.jsModules,{footerModule:b("gkx")("678359")&&!c?b("ReactComposerFooterWithDestinationPicker.react"):b("ReactComposerFooter.react"),ComposerSproutsListContainer:b("ReactComposerSproutsListContainer.react")});a.jsModules.sprouts=Object.assign({},a.jsModules.sprouts,{MEDIA:b("ReactComposerMediaSproutContainer.react")});return a};d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);if(this.props.wasStubbed&&a!==null&&a instanceof HTMLElement&&a.nodeType===Node.ELEMENT_NODE){var c=babelHelpers["extends"]({},this.props,{wasStubbed:!1});b("ReactComposerInit").initWithoutRendering(this.constructor,c,a);b("Arbiter").inform("ReactFeedComposerXBootloader/selectcomposer/"+this.props.contextConfig.composerID);this.props.wasStubbed&&b("Arbiter").inform("ReactFeedComposerXBootloader/bootload/"+this.props.contextConfig.composerID)}b("LitestandComposer").initComposer(this.props.contextConfig.composerID);c=this.props.prefillConfig;c&&c.selectedAttachment&&(b("ReactComposerAttachmentActions").selectAttachment(this.props.contextConfig.composerID,c.selectedAttachment,c.shouldActivateSelectedAttachment,c.loggingName,null,c.proxiedAttachmentID),c.shouldActivateSelectedAttachment&&b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.props.contextConfig.composerID));c&&c.selectedTagger&&b("ReactComposerTaggerActions").selectTagger(this.props.contextConfig.composerID,b("ReactComposerLoggingName").OTHERS,c.selectedTagger);this.$1();c&&b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,c,this.props.contextConfig.gks)};d.render=function(){var a=this.props.prefillConfig,c=this.$2(),d=c[0];c=c[1];return h.jsxs(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{activateOnInit:this.props.wasStubbed,className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig,promotedSprout:this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null},expandOnInit:a&&a.expandSproutsOnInit,children:[h.jsx(b("ReactComposerHeaderContainer.react"),babelHelpers["extends"]({},this.props,{children:d})),this.$3(),this.$4(),h.jsx(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer,children:c})]})};d.$5=function(){var a=this.props.config.attachmentsConfig,c=[];if(a[b("ReactComposerAttachmentType").STATUS].enabled){var d=[];a[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled||d.push(b("ReactComposerAttachmentType").LIVE_VIDEO);c.push(h.jsx(b("ReactComposerSproutsStatusAndMediaSelector.react"),{alternativeAttachmentIDs:d,label:a[b("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab},b("ReactComposerLoggingName").STATUS_TAB_SELECTOR))}this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab&&c.push(h.jsx(b("ReactComposerSproutsMediaSelector.react"),{config:this.props.config},b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR));d=this.props.contextConfig.gks&&this.props.contextConfig.gks.hideAlbumTab;if(a[b("ReactComposerAttachmentType").ALBUM].enabled&&!d){d=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTabUsesSelector;c.push(h.jsx(b("ReactComposerSproutsAlbumSelector.react"),{config:this.props.config,useCollectionSelector:d},b("ReactComposerLoggingName").ALBUM))}a[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled&&c.push(h.jsx(b("ReactComposerSproutsLiveVideoDialogSelector.react"),{contextConfig:this.props.contextConfig,config:this.props.config},b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR));return c};d.$2=function(){var a=this.$5(),b=[];b.push(this.$6());b.push(this.$7());b.push(this.$8());var c=this.$9();c&&b.push(c);c=this.$10();c&&b.push(c);c=this.$11();c&&b.push(c);c=this.$12();c&&b.push(c);c=this.$13();c&&b.push(c);c=this.$14();c&&b.push(c);c=this.$15();c&&b.push(c);c=this.$16();c&&b.push(c);c=this.$17();c&&b.push(c);c=this.$18();c&&b.push(c);c=this.$19();c&&b.push(c);b.push();return[a,b]};d.$6=function(){var a=this.$20()===b("ReactComposerAttachmentType").STATUS,c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;return h.jsx(b("ReactComposerStatusEagerAttachment.react"),{config:this.props.config,prefillConfig:this.props.prefillConfig,selected:a,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),placeholder:c},"status")};d.$7=function(){var a=this.$20()===b("ReactComposerAttachmentType").MEDIA;return h.jsx(b("ReactComposerMediaEagerAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),selected:a},"media")};d.$11=function(){var a=this.$20()===b("ReactComposerAttachmentType").LIST;return b("ReactComposerListLazyAttachment.react")?h.jsx(b("ReactComposerListLazyAttachment.react"),{config:this.props.config,selected:a},b("ReactComposerAttachmentType").LIST):null};d.$10=function(){var a=this.$20()===b("ReactComposerAttachmentType").VISUAL_POLL;return b("ReactComposerVisualPollLazyAttachment.react")?h.jsx(b("ReactComposerVisualPollLazyAttachment.react"),{config:this.props.config,selected:a},b("ReactComposerAttachmentType").VISUAL_POLL):null};d.$8=function(){var a=this.$20()===b("ReactComposerAttachmentType").LIVE_VIDEO;return h.jsx(b("ReactComposerLiveVideoLazyAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerLiveVideoPreviewButton.react"),selected:a},"live_video")};d.$9=function(){var a=this.$20()===b("ReactComposerAttachmentType").PLACE_LIST;return b("ReactComposerPlaceListLazyAttachment.react")?h.jsx(b("ReactComposerPlaceListLazyAttachment.react"),{config:this.props.config,bootload:function(a){return b("Bootloader").loadModules(["ReactFeedComposerPlaceListAttachmentContainer.react","ReactComposerPlaceListPostButtonContainer.react"],a,"ReactFeedSproutsComposerX.react")},selected:a},b("ReactComposerAttachmentType").PLACE_LIST):null};d.$12=function(){var a=this.$20()===b("ReactComposerAttachmentType").LIVING_ROOM;return b("ReactComposerLivingRoomLazyAttachment.react")?h.jsx(b("ReactComposerLivingRoomLazyAttachment.react"),{config:this.props.config,selected:a},b("ReactComposerAttachmentType").LIVING_ROOM):null};d.$13=function(){if(!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").ASSET_3D].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").ASSET_3D;return h.jsx(b("ReactComposerAsset3dEagerAttachment.react"),{config:this.props.config,selected:a},b("ReactComposerAttachmentType").ASSET_3D)};d.$14=function(){if(!!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").WHATSAPP_MESSAGE]&&!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").WHATSAPP_MESSAGE].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").WHATSAPP_MESSAGE;return h.jsx(b("ReactComposerWhatsAppMessageLazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").WHATSAPP_MESSAGE)};d.$15=function(){if(!!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").CTA]&&!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").CTA].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").CTA;return b("ReactComposerCTALazyAttachment.react")?h.jsx(b("ReactComposerCTALazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").CTA):null};d.$19=function(){var a=this.$20()===b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM;return h.jsx(b("ReactComposerLocalDevPlatformLazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM)};d.$16=function(){if(!!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MESSAGE]&&!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MESSAGE].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").MESSAGE;return h.jsx(b("ReactComposerMessageLazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").MESSAGE)};d.$17=function(){if(!!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").SUPPORT_NOW]&&!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").SUPPORT_NOW].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").SUPPORT_NOW;return h.jsx(b("ReactComposerSupportNowLazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").SUPPORT_NOW)};d.$18=function(){if(!!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").SHOP]&&!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").SHOP].enabled)return null;var a=this.$20()===b("ReactComposerAttachmentType").SHOP;return h.jsx(b("ReactComposerShopLazyAttachment.react"),{bootloader:b("ReactComposerPagesBootloader"),config:this.props.config,selected:a},b("ReactComposerAttachmentType").SHOP)};d.$3=function(){var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled){a=this.props.contextConfig.extraConfig;return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(i,{entryPoint:a&&a.entryPoint,pinnedPromptID:a&&a.funFactPromptID})})}return null};d.$4=function(){var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled){a=this.props.contextConfig.extraConfig;a&&a.funFactShowAskTagger&&b("ReactComposerTaggerActions").setTaggerData(this.props.contextConfig.composerID,b("ReactComposerLoggingName").FUN_FACT,b("ReactComposerTaggerType").FUN_FACT,{isAskPost:!0});return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(j,{entryPoint:a&&a.entryPoint})})}return null};d.$1=function(){var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUNDRAISER]&&a[b("ReactComposerTaggerType").FUNDRAISER].enabled){var c=this.props.contextConfig.extraConfig&&this.props.contextConfig.extraConfig.charityID;if(c){b("ReactComposerTaggerActions").setTaggerData(this.props.contextConfig.composerID,b("ReactComposerLoggingName").FUNDRAISER_SPROUT,b("ReactComposerTaggerType").FUNDRAISER,{charityID:c});var d=this.props.contextConfig.extraConfig&&this.props.contextConfig.extraConfig.promotionalSource;b("Bootloader").loadModules(["ReactComposerFundraiserAttachmentActions"],function(a){a.prefillFundraiserAttachment(this.props.contextConfig.composerID,c,this.props.contextConfig.actorID,d)}.bind(this),"ReactFeedSproutsComposerX.react")}}};d.$20=function(){var a=this.props.prefillConfig;return a&&a.selectedAttachment?a.selectedAttachment:b("ReactComposerAttachmentType").STATUS};return c}(h.Component);e.exports=a;a.childContextTypes=b("ReactComposerContextProviderMixin").childContextTypes}),null);
__d("ReactFeedSproutsComposerXBootloader",["csx","Arbiter","AsyncRequest","Bootloader","CSS","DOM","Event","ReactComposerAsset3dAttachmentActions","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingName","ReactComposerPromptsStore","ReactFeedSproutsComposerX.react","ReactInputSelection","Run","SubscriptionsHandler","XReactComposerLoggingODSController","$","ge","getActiveElement","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";f.bootload=a;f._bootloadImpl=c;f._handlePendingMediaUploads=d;f._determineActiveAttachment=e;f._initComposer=g;f._appendPrefillConfig=i;f._getXHPToReactNode=j;f._uploadExistingFiles=k;f._cleanup=l;var h;a=[];f._inputDOMs=a;c=b("SubscriptionsHandler");f._fileInputSubscriptions=c;d=null;f._prefillSubscription=d;function a(a,c){var d=this,e=b("$")("feedx_sprouts_container"),f=b("DOM").find(e,"._559p"),g=b("CSS").hasClass(f,"async_saving");g?(h=new(b("SubscriptionsHandler"))(),h.addSubscriptions(b("Event").listen(f,"success",function(){d._bootloadImpl(a,e,c)}),b("Event").listen(f,"error",function(){d._bootloadImpl(a,e,c)}))):this._bootloadImpl(a,e,c);b("Run").onLeave(this._cleanup.bind(this))}function c(a,c,d){var e=this;d.config.audienceXHP=this._getXHPToReactNode(c,"._ej0");var f=b("DOM").scry(c,"._16ve")[0],g=this._handlePendingMediaUploads(a,c,d,f);g=this._determineActiveAttachment(c,g);var h=!1;b("ifRequired")("ReactFeedSproutsComposerXBody",function(c){var f=c.getDroppedFiles();if(f.length>0){h=!0;var i=c.getDroppedAsset3DFile();i?(g=b("ReactComposerAttachmentType").STATUS,b("ReactComposerAsset3dAttachmentActions").selectGlbFileInput(a,i)):(g=b("ReactComposerAttachmentType").MEDIA,e._uploadExistingFiles(f,a,d));c.clearDroppedFiles()}c.setOnFilesDropCallback(function(){b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_SPROUT),e._uploadExistingFiles(c.getDroppedFiles(),a,d),c.clearDroppedFiles()})});f=f.getAttribute("data-selected-sprout-id");d.prefillConfig=Object.assign(d.prefillConfig,this._appendPrefillConfig(c,a,g,g==b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR?b("ReactComposerAttachmentType").STATUS:null,f,h));f=b("DOM").scry(c,"._1qf9");d.prefillConfig.messengerSectionVisible=f.length>0;f=b("DOM").scry(c,"._66-n");f.forEach(function(a){a.dataset.destination=="STORIES"?d.prefillConfig.storiesSelected=b("CSS").matchesSelector(a,"._1sfg"):a.dataset.destination=="TIMELINE"&&(d.prefillConfig.timelineSelected=b("CSS").matchesSelector(a,"._1sfg"))});this._initComposer(d,c,a)}function d(a,c,d,e){var f=this,g=!1;c=d.contextConfig.gks.photoTab?b("DOM").scry(c,'input[name="composer_photo[]"]'):b("DOM").scry(e,'input[name="composer_photo[]"]');this._subscriptions=new(b("SubscriptionsHandler"))();c.forEach(function(c){c&&(f._inputDOMs.push(c),f._subscriptions.addSubscriptions(b("Event").listen(c,"change",function(c){c=c.target;c.files&&c.files.length>0&&(f._uploadExistingFiles(c.files,a,d),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_SPROUT))})),c.files&&c.files.length>0&&(g=!0,f._uploadExistingFiles(c.files,a,d)))});return g}function e(a,c){if(b("CSS").matchesSelector(b("DOM").find(a,"._1cx1"),"._2-q9"))return b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR;if(c)return b("ReactComposerAttachmentType").MEDIA;c=b("DOM").scry(a,"._5qtn")[0];return c&&c.getAttribute("data-attachment-type")===b("ReactComposerAttachmentType").LIVE_VIDEO?b("ReactComposerAttachmentType").LIVE_VIDEO:b("ReactComposerAttachmentType").STATUS}function g(a,c,d){b("ReactComposerInit").init(b("ReactFeedSproutsComposerX.react"),a,c);c=b("XReactComposerLoggingODSController").getURIBuilder().setString("event","bootload_done").setEnum("composer_type",a.contextConfig.composerType).getURI();new(b("AsyncRequest"))(c).send();h&&h.release();b("Arbiter").inform("ReactFeedComposerXBootloader/bootload/"+d,a)}function i(a,c,d,e,f,g){d===void 0&&(d=b("ReactComposerAttachmentType").STATUS);e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=!1);var h=b("DOM").find(a,"._3en1"),i=b("getActiveElement")()==h||b("CSS").hasClass(b("DOM").find(a,".focus_target"),"child_was_focused"),j=b("ge")("pagelet_composer")||b("ge")("content")||document;j=b("DOM").scry(j,"._1b3n").length!=0;a=b("CSS").matchesSelector(b("DOM").find(a,"._1cx1"),"._4qr4");h=h.value?{textWithEntities:{text:h.value},selection:b("ReactInputSelection").getSelection(h)}:null;c=b("ReactComposerPromptsStore").getMinutiaeData(c);f=f;return{mentionsInput:h,selectedAttachment:g||j?d:void 0,shouldActivateSelectedAttachment:g||(i||!!c)&&!f,proxiedAttachmentID:e,taggersData:c,selectedTagger:f,expandSproutsOnInit:a}}function j(a,c){a=b("DOM").scry(a,c);if(a.length===0)return null;c=a[0];a=c.cloneNode(!0);c.parentNode.replaceChild(a,c);return c}function k(a,c,d){var e=d.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA];b("Bootloader").loadModules(["ReactComposerMediaUtils","ReactComposerPhotoUploader"],function(b,f){b.uploadPhotosOrVideo(c,Array.prototype.slice.call(a),new f(d.contextConfig,e.photoLimit,{disableFaceRecognition:e.disableFaceboxTagger}),d.config.targetData.targetSupportsMultiplePhotos,"file_selector",d.config.targetData.targetSupportsMultiMedia,e)},"ReactFeedSproutsComposerXBootloader")}function l(){this._subscriptions.release();for(var a=0;a<this._inputDOMs.length;a++)delete this._inputDOMs[a];delete this._inputDOMs;this._inputDOMs=[];this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;b("ifRequired")("ReactFeedSproutsComposerXBody",function(a){a.cleanup()})}}),null);
__d("FundraiserComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","DOM","DOMQuery","DOMScroll","Event","ReloadPage","Run","ViewportTrackingHelper","$","ge"],(function(a,b,c,d,e,f,g){f.init=a;f.destroy=l;f.renderStory=m;f.setAutofocus=c;f.addFocusTrigger=d;f.focus=n;f._scrollIntoView=o;var h=!1,i={},j;function k(a){if(!a.streamStory){b("ReloadPage").now();return}m(a.streamStory);b("ComposerXMarauderLogger").logCompleted(i.id)}function a(a){i=b("$")(a),j=b("Arbiter").subscribe("composer/publish",function(a,b){i&&b.composer_id===i.id&&k(b)}),b("Run").onLeave(l),h&&b("Run").onAfterLoad(function(){setTimeout(n,0)})}function l(){j&&j.unsubscribe()}function m(a){var c=b("ge")("pagelet_fundraiser_feed");if(c===null)return null;b("DOM").prependContent(c,a);b("Bootloader").loadModules(["Animation"],function(b){new b(a).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(b.ease.both).go()},"FundraiserComposer");return a}function c(a){h=a}function d(a){b("Event").listen(a,"click",n)}function n(){o(function(){var a=b("DOMQuery").scry(i,"textarea");if(a[0])a[0].focus();else{a=b("DOMQuery").scry(i,"._5yk2");a[0]&&a[0].click()}})}function o(a){if(b("ViewportTrackingHelper").isVisible(i,200)){a();return}b("DOMScroll").scrollTo(i,750,!0,0,0,a)}}),null);
__d("XFundraiserWithPresenceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/donate/{?campaign_id}/{?post_id}/",{action_type:{type:"Enum",enumType:1},banner_type:{type:"Enum",enumType:0},campaign_id:{type:"FBID"},post_id:{type:"FBID"},donate_ref:{type:"String"},donate_amount:{type:"Float"},edit:{type:"Exists",defaultValue:!1},invite:{type:"Exists",defaultValue:!1},share:{type:"Exists",defaultValue:!1},composer:{type:"Exists",defaultValue:!1},create_outro:{type:"Exists",defaultValue:!1},fundraiser_source:{type:"Enum",enumType:1},match_confirm:{type:"Exists",defaultValue:!1},match_pledge:{type:"Exists",defaultValue:!1},match_review:{type:"Exists",defaultValue:!1},notif_t:{type:"String"},payout_setup:{type:"Exists",defaultValue:!1},payout_verification:{type:"Exists",defaultValue:!1},pending:{type:"Exists",defaultValue:!1},pending_edit:{type:"Exists",defaultValue:!1},thank_you:{type:"Exists",defaultValue:!1},should_autotag_donors:{type:"Exists",defaultValue:!1},apply_profile_frame:{type:"Exists",defaultValue:!1},show_updates:{type:"Exists",defaultValue:!1},source_data:{type:"StringToStringMap"}})}),null);
__d("ReactFundraiserComposer.react",["cx","Arbiter","ComposerEntryPointRef","CSS","DataAttributeUtils","FundraiserComposer","JSResource","React","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerBodyContainer.react","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFocusInit","ReactComposerInit","ReactComposerLazyHeader.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerPrefillConfig","ReactComposerPrefillStore","ReactComposerPrefillUtils","ReactComposerSproutsLiveVideoDialogSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerStatusDonateButtonActions.react","ReactComposerStatusEagerAttachment.react","ReactComposerWithSprouts.react","XFundraiserWithPresenceController","XUISpinner.react","$","createReactClass_DEPRECATED","lazyLoadComponent","ReactComposerStatusDonateButtonStore"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ReactComposerActorSelectorContainer.react").__setRef("ReactFundraiserComposer.react"));b("ReactComposerStatusDonateButtonStore");var j=null;function k(a,c,d){if(a&&d){b("ReactComposerInit").hideComposer(d);d=b("XFundraiserWithPresenceController").getURIBuilder().setFBID("campaign_id",a).setEnum("fundraiser_source","pages_tab");c=c?d.setFBID("post_id",c).getURI():d.setExists("show_updates",!0).getURI();b("$")("link"+a).setAttribute("href",c.getQualifiedURI().setDomain("www.facebook.com").toString());b("CSS").removeClass(b("$")("text"+a),"hidden_elem")}}a=b("createReactClass_DEPRECATED")({displayName:"ReactFundraiserComposer",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,config:b("ReactComposerConfig").isRequired,prefillConfig:b("ReactComposerPrefillConfig").isRequired},componentDidMount:function(){b("FundraiserComposer").init(this.props.contextConfig.composerID);if(this.props.contextConfig.composerType===b("ComposerEntryPointRef").PAGES_FUNDRAISER_TAB){var a=this.props.config.targetData.targetID,c=b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.props.contextConfig.composerID,function(b,c){k(a,"",c.newComposerID)});j=b("Arbiter").subscribe("composer/publish",function(d,e){if(e.composer_id===this.props.contextConfig.composerID){var f=JSON.parse(b("DataAttributeUtils").getDataFt(e.streamStory));b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.props.contextConfig.composerID,function(b,c){k(a,f.top_level_post_id,c.newComposerID)});c&&b("Arbiter").unsubscribe(c)}}.bind(this))}b("ReactComposerAudienceActions").setPrivacyxNullDangerous(this.props.contextConfig.composerID,!0);this.props.prefillConfig&&b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig,this.props.contextConfig.gks);var d=b("ReactComposerPrefillStore").getAndEraseField(this.props.contextConfig.composerID,"donateConfig");d&&(b("ReactComposerStatusDonateButtonActions.react").setConfig(this.props.contextConfig.composerID,d),b("ReactComposerStatusDonateButtonActions.react").setData(this.props.contextConfig.composerID,d.charityName,""),b("ReactComposerStatusDonateButtonActions.react").setEnabled(this.props.contextConfig.composerID,!0));d=(d=this.props)!=null?(d=d.config)!=null?(d=d.actorConfig)!=null?d.willShowActorSelector:d:d:d;if(!d&&this.props.contextConfig.gks.shouldBlurOnFocus){b("ReactComposerFocusInit").handler(b("$")("fundraiser_composer_container"),this.props.contextConfig.composerID,this.props.contextConfig.actorID,this.props.contextConfig.gks,(d=this.props.contextConfig)!=null?(d=d.jsModules)!=null?d.composerFocus:d:d,!0)}},componentWillUnmount:function(){j&&b("Arbiter").unsubscribe(j)},render:function(){var a=this.props.config.attachmentsConfig,c=this.props.contextConfig.gks.shouldShowLive;return h.jsxs(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{sproutsConfig:this.props.config.sproutsConfig,loggingConfig:this.props.config.loggingConfig},ref:"root",children:[h.jsxs(b("ReactComposerLazyHeader.react"),{background:"light-wash",noHorizontalMargin:!0,rightChild:this._renderActorSelector(),showDelimiter:!1,children:[h.jsx(b("ReactComposerSproutsStatusAndMediaSelector.react"),{label:a[b("ReactComposerAttachmentType").STATUS].tabTitle,statusOnly:!1},b("ReactComposerLoggingName").STATUS_TAB_SELECTOR),h.jsx(b("ReactComposerSproutsMediaSelector.react"),{config:this.props.config},b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR),c?h.jsx(b("ReactComposerSproutsLiveVideoDialogSelector.react"),{contextConfig:this.props.contextConfig,config:this.props.config},b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR):null]}),h.jsxs(b("ReactComposerBodyContainer.react"),{expanded:!0,hasMinHeight:!1,children:[h.jsx(b("ReactComposerStatusEagerAttachment.react"),{config:this.props.config,selected:!0,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),placeholder:a[b("ReactComposerAttachmentType").STATUS].placeholder},"status"),h.jsx(b("ReactComposerMediaEagerAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),selected:!1}),c?h.jsx(b("ReactComposerLiveVideoLazyAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerLiveVideoPreviewButton.react"),selected:!1},"live_video"):null]})]})},_renderActorSelector:function(){var a=this.props.config.actorConfig;a.composerID=this.props.contextConfig.composerID;return h.jsx(h.Suspense,{fallback:h.jsx(b("XUISpinner.react"),{className:"_3igw"}),children:h.jsx(i,babelHelpers["extends"]({},a))})}});e.exports=a}),null);
__d("ReactComposerGIFSproutContainer.react",["cx","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerDisabledSproutItem.react","ReactComposerGIFToggleController.react","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentStore","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerTaggerStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore")]};c.calculateState=function(a,c,d){a=d.composerID;return{highlighted:b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").GIF),isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").GIF)||b("ReactComposerAttachmentStore").isContentMultiShareAttachment(a),isSelected:b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").GIF}};var d=c.prototype;d.render=function(){return this.state.isDisabled?h.jsx(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):h.jsx(b("ReactComposerGIFToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,spanClassName:"_4mvf",loggingName:this.props.uiConfig.loggingName,children:h.jsx(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted})}))};return c}(h.PureComponent);a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap.GIF};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);