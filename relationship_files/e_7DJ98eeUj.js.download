if (self.CavalryLogger) { CavalryLogger.start_js(["S8ZOk"]); }

__d("CometFormInputWrapperHelperText.react",["React","TetraTextPairing.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.validationState;a=a.value;return g.jsx(b("TetraTextPairing.react"),{level:4,meta:a,metaColor:c==="ERROR"?"negative":"secondary"})}}),null);
__d("PhotosTaggingFlyout",["ArbiterMixin","CSS","DOMQuery","Event","Focus","Input","LayerTabIsolation","SubscriptionsHandler","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e._dialog=c;e._shown=!1;e._faceboxInstances=d;c.enableBehavior(b("LayerTabIsolation"));var f={};d.forEach(function(a){f[a.getFaceboxID()]=a,a.subscribe("select",this._onSelect.bind(this)),a.subscribe("unselect",this._onUnselect.bind(this))}.bind(babelHelpers.assertThisInitialized(e)));e._instanceLookupMap=f;e._dialog.subscribe(["hide","beforehide","show"],e.inform.bind(babelHelpers.assertThisInitialized(e)));e._dialog.subscribe("aftershow",e._onAfterShow.bind(babelHelpers.assertThisInitialized(e)));e._subscriptions=new(b("SubscriptionsHandler"))();e._subscriptions.addSubscriptions(b("Event").listen(b("DOMQuery").find(e.getRoot(),'button[type="submit"]'),"click",function(){this.inform("confirm"),this.hide()}.bind(babelHelpers.assertThisInitialized(e))));return e}var d=c.prototype;d.getRoot=function(){return this._dialog.getRoot()};d.isEmpty=function(){return!this._faceboxInstances.length};d.hasTags=function(){return this._faceboxInstances.some(function(a){return a.getSelected()})};d.cleanup=function(){this._subscriptions.release()};d.reset=function(){this._faceboxInstances.forEach(function(a){a.reset()})};d.focusNextEmptyTypeahead=function(a){var c=this._faceboxInstances.length;a=this._faceboxInstances.indexOf(a);a++;for(;a<c;a++){var d=this._faceboxInstances[a].getTypeahead().getCore().getElement();if(b("Input").isEmpty(d)){d.focus();return!0}}return!1};d.getFaceboxInstance=function(a){return this._instanceLookupMap[a]};d.setNextButtonVisibility=function(a){b("CSS").conditionShow(b("DOMQuery").find(this.getRoot(),".layerConfirm"),!a)};d.show=function(a){this._dialog.setContext(a),this._dialog.show()};d.toggle=function(a){this._dialog.setContext(a),this._dialog.conditionShow(!this._dialog.isShown())};d.getContext=function(){return this._dialog.getContext()};d.hide=function(){this._dialog.hide()};d.getPhotoID=function(){return this.getRoot().getAttribute("data-photo")};d._onSelect=function(a,b){this.inform("select",{photo:this.getPhotoID(),facebox:b.facebox,user:b.user,name:b.name}),this.focusNextEmptyTypeahead(b.sender)||this._focusLayerConfirm()};d._onUnselect=function(a,b){this.inform("unselect",{photo:this.getPhotoID(),facebox:b.facebox,user:b.user})};d._focusLayerConfirm=function(){var a=b("DOMQuery").find(this.getRoot(),".layerConfirm");b("CSS").hasClass(a,"hidden_elem")&&(a=b("DOMQuery").find(this.getRoot(),".layerCancel"));b("Focus").set(a)};d._onAfterShow=function(a,b){this._faceboxInstances.length&&(this.focusNextEmptyTypeahead(null)||this._focusLayerConfirm()),this.inform("aftershow")};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);