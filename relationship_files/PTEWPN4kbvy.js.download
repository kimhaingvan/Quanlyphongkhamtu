if (self.CavalryLogger) { CavalryLogger.start_js(["B3CPG"]); }

__d("ClickToMessengerGrowthTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccountID=function(a){this.$1.account_id=a;return this};c.setAdID=function(a){this.$1.ad_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setBoostedComponentPlatform=function(a){this.$1.boosted_component_platform=a;return this};c.setBoostedComponentProduct=function(a){this.$1.boosted_component_product=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMatchedRegexes=function(a){this.$1.matched_regexes=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setObjective=function(a){this.$1.objective=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPostContent=function(a){this.$1.post_content=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setProductType=function(a){this.$1.product_type=a;return this};c.setProducts=function(a){this.$1.products=b("GeneratedLoggerUtils").serializeVector(a);return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={account_id:!0,ad_id:!0,app_id:!0,boosted_component_platform:!0,boosted_component_product:!0,event:!0,matched_regexes:!0,objective:!0,page_id:!0,post_content:!0,post_id:!0,product_type:!0,products:!0};e.exports=a}),null);
__d("OldPrivacySelectorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdamaRenderLocation=function(a){this.$1.adama_render_location=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};return a}();c={adama_render_location:!0,event:!0,fbid:!0};e.exports=a}),null);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFaceBoxID=function(a){this.$1.face_box_id=a;return this};c.setPhotoFbid=function(a){this.$1.photo_fbid=a;return this};c.setRecognizedUser=function(a){this.$1.recognized_user=a;return this};c.setTaggedUser=function(a){this.$1.tagged_user=a;return this};return a}();c={event:!0,face_box_id:!0,photo_fbid:!0,recognized_user:!0,tagged_user:!0};e.exports=a}),null);
__d("WorkUserNameQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"userID"}],b=[{kind:"Variable",name:"id",variableName:"userID"}],c={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkUserNameQuery",selections:[{alias:null,args:b,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkUserNameQuery",selections:[{alias:null,args:b,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2864786813544259",metadata:{},name:"WorkUserNameQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MentionsUtils",["createEditorStateWithRanges","getMentionsInputDecorator"],(function(a,b,c,d,e,f){"use strict";f.parseMessageMentions=h;f.createMessageEditorStateWithText=a;var g=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g;function h(a){a=a;var b=Array.from(a),c=b.map(function(a){return a.length>1?"_":a}).join(""),d=[],e;while(e=g.exec(c)){var f={uid:e[1],text:e[2],offset:e.index,length:e[2].length,weakreference:!1,entity:{uid:e[1],weakreference:!1}};d.push(f);c=c.substr(0,f.offset)+f.text+c.substr(f.offset+e[0].length);a=b.slice(0,f.offset).join("")+f.text+b.slice(f.offset+e[0].length).join("");b=Array.from(a);g.lastIndex=f.offset+f.length}return{ranges:d,text:a}}function a(a){a=h(a);var c=a.ranges;a=a.text;return b("createEditorStateWithRanges")({text:a,ranges:c,decorator:b("getMentionsInputDecorator")(),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("MENTION","IMMUTABLE",{id:a.uid,isWeak:a.weakreference})}})}}),null);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});e.exports=a}),null);
__d("ComposerEditCallsite",[],(function(a,b,c,d,e,f){a=Object.freeze({FB_FEED:"fb_feed",TIMELINE:"timeline",DRAFTS_DASH:"drafts_dash",MARKETPLACE:"marketplace",PAGE_CONTENT_TAB:"page_content_tab",PERMALINK:"permalink",GROUP_MALL:"group_mall",PAGES:"pages",REP_TAGGING:"rep_tagging",CREATOR_STUDIO_CONTENT_LIBRARY:"creator_studio_content_library",CIVIC_CTA:"civic_cta"});e.exports=a}),null);
__d("ComposerPublishType",[],(function(a,b,c,d,e,f){a=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5});e.exports=a}),null);
__d("ComposerPublisherSupportedParameters",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTION_TYPE_ID:"action_type_id",ANIMATED_IMAGE:"animated_image",ASKED_FUN_FACT_PROMPT_DATA:"asked_fun_fact_prompt_data",ATTACHMENT:"attachment",BACKDATED_DATE:"backdated_date",CHARITY_ID:"charity_id",COMPOSER_ATTACHMENT_SELL_AUDIENCE_TARGET_IDS:"composer_attachment_sell_audience_target_ids",COMPOSER_ATTACHMENT_SELL_CONDITION:"composer_attachment_sell_condition",COMPOSER_ATTACHMENT_SELL_CURRENCY:"composer_attachment_sell_currency",COMPOSER_ATTACHMENT_SELL_LOCATION_PAGE_ID:"composer_attachment_sell_location_page_id",COMPOSER_ATTACHMENT_SELL_PRICE:"composer_attachment_sell_price",COMPOSER_ATTACHMENT_SELL_PICKUP_NOTE:"composer_attachment_sell_pickup_note",COMPOSER_ATTACHMENT_SELL_TITLE:"composer_attachment_sell_title",COMPOSER_CUSTOM_ACCESSIBILITY_CAPTION:"composer_custom_accessibility_caption",COMPOSER_ENTRY_POINT:"composer_entry_point",COMPOSER_ENTRY_TIME:"composer_entry_time",COMPOSER_HAS_CROP:"composer_has_crop",COMPOSER_HAS_FILTER:"composer_has_filter",COMPOSER_SESSION_DURATION:"composer_session_duration",COMPOSER_SESSION_ID:"composer_session_id",COMPOSER_SOURCE_SURFACE:"composer_source_surface",COMPOSER_TEXT_BLOCK_DATA:"block_data",COMPOSER_TEXT_BLOCK_DEPTHS:"block_depths",COMPOSER_TEXT_BLOCK_TYPES:"block_types",COMPOSER_TEXT_BLOCKS:"blocks",COMPOSER_TEXT_ENTITIES:"entities",COMPOSER_TEXT_INLINE_STYLES:"inline_styles",COMPOSER_UNPUBLISHED_PHOTO:"composer_unpublished_photo",COMPOSER_STICKER:"composer_sticker",COMPOSER_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_TYPE:"composer_type",COMPOSERTAGS_CITY:"composertags_city",COMPOSERTAGS_PLACE:"composertags_place",COMPOSERTAGS_PLACE_NAME:"composertags_place_name",COMPOSERTAGS_SPONSORS:"composertags_sponsors",COMPOSERTAGS_WITH:"composertags_with",DELIGHT_RANGES:"delight_ranges",DETECTION_ANALYTICS_DATA:"detection_analytics_data",DIRECT_SHARE_STATUS:"direct_share_status",DRAFT:"draft",EDIT_ACTION_TYPE_ID:"edit_action_type_id",EDIT_ALBUM_ID:"edit_album_id",EDIT_ATTACHMENT:"edit_attachment",EDIT_COMPOSER_SESSION_ID:"edit_composer_session_id",EDIT_COMPOSERTAGS_CITY:"edit_composertags_city",EDIT_COMPOSERTAGS_PLACE:"edit_composertags_place",EDIT_COMPOSERTAGS_PLACE_NAME:"edit_composertags_place_name",EDIT_COMPOSERTAGS_WITH:"edit_composertags_with",EDIT_DELIGHT_RANGES:"edit_delight_ranges",EDIT_MULTILINGUAL_SPECIFIED_LANG:"edit_multilingual_specified_lang",EDIT_MULTILINGUAL_STATUS_LANGS:"edit_multilingual_status_langs",EDIT_MULTILINGUAL_STATUSES:"edit_multilingual_statuses",EDIT_HIDE_OBJECT_ATTACHMENT:"edit_hide_object_attachment",EDIT_ICON_ID:"edit_icon_id",EDIT_IS_EXPLICIT_PLACE:"edit_is_explicit_place",EDIT_OBJECT_ID:"edit_object_id",EDIT_OBJECT_STR:"edit_object_str",EDIT_PRIVACYX:"edit_privacyx",EDIT_SAVE_ONLY:"edit_save_only",EDIT_STORY_TOKEN:"edit_story_token",EDIT_XC_EDIT_CALLSITE:"edit_xc_edit_callsite",EDIT_XC_ENTSTORY_CONTEXT:"edit_xc_entstory_context",EDIT_XC_LINK_URL:"edit_xc_link_url",EDIT_COMPOSER_UNPUBLISHED_PHOTO:"edit_composer_unpublished_photo",EDIT_XC_STICKER_ID:"edit_xc_sticker_id",EDIT_XC_STORY_DOM_ID:"edit_xc_story_dom_id",EDIT_XC_SHARE_IMAGES:"edit_xc_share_images",EDIT_XC_SHARE_PARAMS:"edit_xc_share_params",EDIT_XC_SHARE_SUMMARY:"edit_xc_share_summary",EDIT_XC_SHARE_TARGET_TYPE:"edit_xc_share_target_type",EDIT_XC_SHARE_TITLE:"edit_xc_share_title",EDIT_XHPC_COMPOSERID:"edit_xhpc_composerid",EDIT_XHPC_MESSAGE:"edit_xhpc_message",EDIT_XHPC_MESSAGE_TEXT:"edit_xhpc_message_text",EVENT_TAG:"event_tag",EXTENSIBLE_SPROUTS_RANKER_REQUEST:"extensible_sprouts_ranker_request",FUN_FACT_PROMPT_ID:"fun_fact_prompt_id",HIDE_OBJECT_ATTACHMENT:"hide_object_attachment",FEED_TARGETED_DATA:"feed_targeted_data",BOOSTED_POST_CONFIG:"boosted_post_config",HOLIDAY_CARD:"holiday_card",ICON_ID:"icon_id",IS_AD_POST:"is_ad_post",IS_DIALOG_COMPOSER:"is_dialog_composer",IS_FORCED_RESHARE_OF_POST:"is_forced_reshare_of_post",IS_MARKDOWN:"is_markdown",IS_PLACELIST_POST:"is_placelist_post",IS_REACT:"is_react",IS_WELCOME_TO_GROUP_POST:"is_welcome_to_group_post",LIFE_EVENT_DATA:"life_event_data",LIVING_ROOM_ATTACHMENT:"living_room_attachment",LOCAL_DEV_PLATFORM_APP_INSTANCE:"local_dev_platform_app_instance",MULTILINGUAL_SPECIFIED_LANG:"multilingual_specified_lang",MULTILINGUAL_STATUS_LANGS:"multilingual_status_langs",MULTILINGUAL_STATUSES:"multilingual_statuses",MULTILINGUAL_RICH_TEXT:"multilingual_rich_text",NUM_KEYSTROKES:"num_keystrokes",NUM_PASTES:"num_pastes",OBJECT_ID:"object_id",OBJECT_STR:"object_str",OG_SUGGESTION_MECHANISM:"og_suggestion_mechanism",PAGE_RECOMMENDATION_IDS:"page_recommendation_ids",PAGE_RECOMMENDATION:"page_recommendation",PLACE_ATTACHMENT_SETTING:"place_attachment_setting",PLACE_LIST_ENTRY_POINT:"place_list_entry_point",PLACELIST_WITHIN_PAGE:"placelist_within_page",PLAY_WITH_FRIENDS_GAME_ID:"play_with_friends_game_id",POLL_QUESTION_DATA:"poll_question_data",POST_TO_MARKETPLACE:"post_to_marketplace",PRIVACYX:"privacyx",QN:"qn",SPONSOR_RELATIONSHIP:"sponsor_relationship",SCHEDULED:"scheduled",SCHEDULED_LIVING_ROOM_METADATA:"scheduled_living_room_metadata",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SHARE_DIALOG_ACTORID:"share_dialog_actorId",SHARE_DIALOG_AUDIENCETYPE:"share_dialog_audienceType",SHARE_DIALOG_COMPOSERSESSIONID:"share_dialog_composerSessionID",SHARE_DIALOG_MESSAGE:"share_dialog_message",SHARE_DIALOG_POSTID:"share_dialog_postId",SHARE_DIALOG_PRIVACY:"share_dialog_privacy",SHARE_DIALOG_ISFORCEDRESHAREOFPOST:"share_dialog_isForcedReshareOfPost",STORY_LIST_ATTACHMENT_DATA:"story_list_attachment_data",TARGETED_PRIVACY_DATA:"targeted_privacy_data",TEXT_FORMAT_PRESET_ID:"text_format_preset_id",TODO_LIST_DATA:"todo_list_data",UNPUBLISHED_CONTENT_TYPE:"unpublished_content_type",XC_LINK_URL:"xc_link_url",XC_STICKER_ID:"xc_sticker_id",XC_SHARE_IMAGES:"xc_share_images",XC_SHARE_PARAMS:"xc_share_params",XC_SHARE_SUMMARY:"xc_share_summary",XC_SHARE_TARGET_TYPE:"xc_share_target_type",XC_SHARE_TITLE:"xc_share_title",XHPC_AGGREGATED_STORY_COMPOSER:"xhpc_aggregated_story_composer",XHPC_COMPOSERID:"xhpc_composerid",XHPC_CONTEXT:"xhpc_context",XHPC_FINCH:"xhpc_finch",XHPC_FUNDRAISER_PAGE:"xhpc_fundraiser_page",XHPC_MESSAGE:"xhpc_message",XHPC_MESSAGE_TEXT:"xhpc_message_text",XHPC_PUBLISH_TYPE:"xhpc_publish_type",XHPC_TARGETID:"xhpc_targetid",XHPC_TIMELINE:"xhpc_timeline",XY_TAGS:"xy_tags"});e.exports=a}),null);
__d("ComposerTargetType",[],(function(a,b,c,d,e,f){a=Object.freeze({SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event",RECOMMENDATION:"recommendation",CRISIS:"crisis",FUNDRAISER:"fundraiser",EXAMPLE:"example",MARKETPLACE:"marketplace",ALBUM:"album",OTHER:"other",MULTI_DIRECT:"multi_direct",LEARNING:"learning",LOCAL_COMMUNITY:"local_community",WORK_GROUP_LEARNING:"work_group_learning",WORK_MEETING_SPACE:"work_meeting_space"});e.exports=a}),null);
__d("PagesComposerGraphMLGate",[],(function(a,b,c,d,e,f){"use strict";f.register=a;f.getInstance=b;f.shouldUseGraphMLForVisitorStatus=c;f.shouldUseGraphMLForFeedTargetingFeature=d;f.shouldUseGraphMLForMediaPostCreation=e;f.shouldUseGraphMLForPageCTAPostCreation=h;f.shouldUseGraphMLForBoostedPostFeature=i;var g={};function a(a,b){g[a]=b}function b(a){return!a?null:g[a]}function c(a){a=this.getInstance(a);return a?a.useMLForVisitorStatusCreation:!1}function d(a){a=this.getInstance(a);return a?a.useMLForFeedTargetingFeature:!1}function e(a){a=this.getInstance(a);return a?a.useMLForMediaPostCreation:!1}function h(a){a=this.getInstance(a);return a?a.useMLForPageCTAPostCreation:!1}function i(a){a=this.getInstance(a);return a?a.useMLForBoostedPostConfig:!1}}),null);
__d("PagesComposerActionsTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ABANDON_OFFER_UPSELL:null,BACKDATE:null,CLEAR_COMPOSER_DATA:null,DID_SHOW_POST_CONFIRMATION:null,INSTAGRAM_CROSS_POSTING:null,PUBLISH_NOW:null,SCHEDULE:null,SET_ADS_POST:null,SET_BOOSTED_POST:null,SET_COMPOSER_TYPE:null,SET_CURRENT_LOCALE:null,SET_DRAFT:null,SET_INTERCEPTION_CONFIG:null,SET_IS_DIALOG_COMPOSER:null,SET_IS_REVIEWABLE_BRANDED_CONTENT:null,SET_IS_RUNNING_INTERCEPTION:null,SET_PAGES_COMPOSER_CONFIG:null,SET_PAGES_COMPOSER_CONTEXT_CONFIG:null,SET_PREVIEW:null,SHOW_OFFER_UPSELL:null,UPDATE_PREVIEW_CONFIG:null});e.exports=a}),null);
__d("PagesComposerUnpublishedPostsStore",["ClientIDs","PageContentTabConstants","PagesComposerActionsTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";var g=b("PageContentTabConstants").PREVIEW_TABS,h={backdateConfig:null,didShowPostConfirmation:!1,isAdsPost:!1,isDraft:!1,isOfferUpsellAbandoned:!1,isOfferUpsellShown:!1,isPreview:!1,isReviewableBrandedContent:!1,offerConfig:null,previewConfig:null,scheduledPublishTime:null,stopFeedDistributionDate:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;return c=a.call(this,function(){return babelHelpers["extends"]({},h)},function(a){var d=babelHelpers.assertThisInitialized(c);switch(a.type){case b("PagesComposerActionsTypes").BACKDATE:a;d.$PagesComposerUnpublishedPostsStore1(a);break;case b("PagesComposerActionsTypes").SET_DRAFT:d.$PagesComposerUnpublishedPostsStore2(a);break;case b("PagesComposerActionsTypes").SCHEDULE:d.$PagesComposerUnpublishedPostsStore3(a);break;case b("PagesComposerActionsTypes").SET_ADS_POST:d.$PagesComposerUnpublishedPostsStore4(a);break;case b("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:d.$PagesComposerUnpublishedPostsStore5(a);break;case b("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:d.$PagesComposerUnpublishedPostsStore6(a);break;case b("PagesComposerActionsTypes").SET_IS_REVIEWABLE_BRANDED_CONTENT:d.$PagesComposerUnpublishedPostsStore7(a);break;case b("PagesComposerActionsTypes").CLEAR_COMPOSER_DATA:d.$PagesComposerUnpublishedPostsStore8(a);break;case b("PagesComposerActionsTypes").PUBLISH_NOW:d.$PagesComposerUnpublishedPostsStore9(a);break;case b("PagesComposerActionsTypes").DID_SHOW_POST_CONFIRMATION:d.$PagesComposerUnpublishedPostsStore10(a);break;case b("PagesComposerActionsTypes").SET_PREVIEW:d.$PagesComposerUnpublishedPostsStore11(a);break;case b("PagesComposerActionsTypes").UPDATE_PREVIEW_CONFIG:d.$PagesComposerUnpublishedPostsStore12(a);break;default:}})||this}var d=c.prototype;d.getPostActionType=function(a){if(this.getIsPreview(a))return"PREVIEW";else if(this.getIsDraft(a))return"SAVE_DRAFT";else if(this.getBackdateConfig(a)!=null)return"BACKDATE";else if(this.getScheduledPublishTime(a)!=null||this.getStopFeedDistributionTime(a)!=null)return"SCHEDULE";else return"PUBLISH"};d.getDidShowPostConfirmation=function(a){return this.getComposerData(a).didShowPostConfirmation};d.getBackdateConfig=function(a){return this.getComposerData(a).backdateConfig};d.getIsDraft=function(a){return this.getComposerData(a).isDraft};d.getIsReviewableBrandedContent=function(a){return this.getComposerData(a).isReviewableBrandedContent};d.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};d.getStopFeedDistributionTime=function(a){return this.getComposerData(a).stopFeedDistributionDate};d.getIsAdsPost=function(a){return this.getComposerData(a).isAdsPost};d.getIsOfferUpsellShown=function(a){return this.getComposerData(a).isOfferUpsellShown};d.getIsOfferUpsellAbandoned=function(a){return this.getComposerData(a).isOfferUpsellAbandoned};d.getOfferConfig=function(a){return this.getComposerData(a).offerConfig};d.getIsPreview=function(a){return this.getComposerData(a).isPreview};d.getPreviewConfig=function(a){return this.getComposerData(a).previewConfig};d.$PagesComposerUnpublishedPostsStore10=function(a){var b=this.getComposerData(a.composerID);b.didShowPostConfirmation=!0;this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore1=function(a){var b=this.getComposerData(a.composerID);b.backdateConfig={year:a.year,month:a.month,day:a.day,hideFromNewsFeed:a.hideFromNewsFeed};b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.isDraft=!1;this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore3=function(a){var b=this.getComposerData(a.composerID);b.scheduledPublishTime=a.scheduleDate;b.stopFeedDistributionDate=a.stopFeedDistributionDate;b.backdateConfig=null;b.isDraft=!1;this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore2=function(a){var b=this.getComposerData(a.composerID);b.isDraft=!0;b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.backdateConfig=null;this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore4=function(a){a=this.getComposerData(a.composerID);a.isAdsPost=!0};d.$PagesComposerUnpublishedPostsStore5=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.offerConfig=a;c.isOfferUpsellShown=!0;this.emitChange(b)};d.$PagesComposerUnpublishedPostsStore6=function(a){a=this.getComposerData(a.composerID);a.isOfferUpsellAbandoned=!0};d.$PagesComposerUnpublishedPostsStore7=function(a){a=this.getComposerData(a.composerID);a.isReviewableBrandedContent=!0};d.$PagesComposerUnpublishedPostsStore8=function(a){this.clearComposerData(a.composerID)};d.$PagesComposerUnpublishedPostsStore9=function(a){var b=this.getComposerData(a.composerID);b.isDraft=!1;b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.backdateConfig=null;this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore11=function(a){var c=a.shouldReset,d=a.composerID;d=this.getComposerData(d);c===!0?(d.isPreview=!1,d.previewConfig=null):(d.isPreview=!0,d.previewConfig={isLoadingPreview:!0,previewPostID:null,renderID:b("ClientIDs").getNewClientID(),selectedPreviewTab:g.DESKTOP,showPreviewDialog:!0});this.emitChange(a.composerID)};d.$PagesComposerUnpublishedPostsStore12=function(a){var b,c,d,e,f=this.getComposerData(a.composerID);b=a.previewConfig.isLoadingPreview!=null?a.previewConfig.isLoadingPreview:(b=f.previewConfig)==null?void 0:b.isLoadingPreview;c=a.previewConfig.previewPostID!=null?a.previewConfig.previewPostID:(c=f.previewConfig)==null?void 0:c.previewPostID;d=a.previewConfig.selectedPreviewTab!=null?a.previewConfig.selectedPreviewTab:(d=f.previewConfig)==null?void 0:d.selectedPreviewTab;e=a.previewConfig.showPreviewDialog!=null?a.previewConfig.showPreviewDialog:(e=f.previewConfig)==null?void 0:e.showPreviewDialog;f.previewConfig={isLoadingPreview:b,previewPostID:c,renderID:(c=(b=f.previewConfig)==null?void 0:b.renderID)!=null?c:"",selectedPreviewTab:d,showPreviewDialog:e};this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("PagesComposerWWWInterceptionActionsType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({INTERCEPTION_DETECTED:null,INTERCEPTION_RESPONSE:null},"PagesComposerWWWInterceptionActionsType");e.exports=a}),null);
__d("ReactComposerAttachmentInitState",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},"ReactComposerAttachmentInitState");e.exports=a}),null);
__d("ReactComposerAttachmentStore",["ImmutableObject","PagesComposerWWWInterceptionActionsType","ReactComposerAttachmentActionType","ReactComposerAttachmentInitState","ReactComposerAttachmentType","ReactComposerFocusActionTypes","ReactComposerStoreBaseGatedModule","performanceAbsoluteNow"],(function(a,b,c,d,e,f){var g;a=b("ReactComposerStoreBaseGatedModule").module;var h=[(c=b("ReactComposerAttachmentType")).STATUS,c.MEDIA,c.SHARING_SPACES_SELECTOR],i=[c.ANONYMOUS_GROUP_POST,c.ANONYMOUS_GROUP_POST_MEDIA,c.ANONYMOUS_GROUP_POST_PLACE_LIST,c.ANONYMOUS_GROUP_POST_QUESTION],j=[c.MEDIA,c.ANONYMOUS_GROUP_POST_MEDIA];d=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{attachments:[],selectedAttachment:null,isSelectedAttachmentActive:!1,proxiedAttachment:null,isContentMultiShareAttachment:!1}},function(a){switch(a.type){case b("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT:d&&d.$ReactComposerAttachmentStore1(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerAttachmentStore2(a);break;case b("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP:d&&d.$ReactComposerAttachmentStore3(a);break;case b("ReactComposerAttachmentActionType").SET_BOOTLOADED:d&&d.$ReactComposerAttachmentStore4(a);break;case b("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:d&&d.$ReactComposerAttachmentStore5(a);break;case b("ReactComposerAttachmentActionType").SET_INITIALIZED:d&&d.$ReactComposerAttachmentStore6(a);break;case b("ReactComposerFocusActionTypes").FOCUS_LOST:d&&d.$ReactComposerAttachmentStore7(a);break;case b("PagesComposerWWWInterceptionActionsType").INTERCEPTION_DETECTED:d&&d.$ReactComposerAttachmentStore8(a);break;case b("PagesComposerWWWInterceptionActionsType").INTERCEPTION_RESPONSE:d&&d.$ReactComposerAttachmentStore9(a);break;case b("ReactComposerAttachmentActionType").SET_CONTENT_MULTI_SHARE:d&&d.$ReactComposerAttachmentStore10(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getAttachment=function(a,b){a=this.getComposerData(a);return a.attachments.find(function(a){return a.id===b})};d.getSelectedAttachmentID=function(a){a=this.getComposerData(a);return a.selectedAttachment?a.selectedAttachment.id:null};d.getProxiedAttachmentID=function(a){a=this.getComposerData(a);return a.proxiedAttachment?a.proxiedAttachment.id:null};d.isContentMultiShareAttachment=function(a){return this.getComposerData(a).isContentMultiShareAttachment};d.hasAttachment=function(a,b){return this.getComposerData(a).attachments.some(function(a){return a.id===b})};d.getIsAttachmentSelected=function(a,b){a=this.getComposerData(a).selectedAttachment;return!!a&&a.id===b};d.getIsAttachmentSelectedOrProxied=function(a,b){if(this.getIsAttachmentSelected(a,b))return!0;else{a=this.getComposerData(a).proxiedAttachment;return!!a&&a.id===b}};d.isSelectedAttachmentDestinationPickerEligible=function(a){a=this.getComposerData(a).selectedAttachment;return a&&h.indexOf(a.id)!=-1};d.isSelectedAttachmentActive=function(a){return this.getComposerData(a).isSelectedAttachmentActive};d.isInterceptionDetected=function(a,b){if(!b)return!1;a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b]?a.attachments[b].interceptionDetected:!1};d.isBootstrapped=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootstrapped};d.getBootloadDuration=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootloadDuration};d.getBootstrapDuration=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootstrapDuration};d.getInterceptionResponse=function(a){a=this.getComposerData(a);return a.interceptionResponse||null};d.getAttachmentMarkup=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].markup};d.getAttachmentsConfig=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].config};d.getIsMediaCompatibleAttachmentSelected=function(a){a=this.getSelectedAttachmentID(a);return j.includes(a)};d.getIsLeavingAnonymousAttachment=function(a,b){a=this.getIsAnonymousAttachmentSelected(a);return a&&!i.includes(b)};d.getIsSelectingAnonymousAttachment=function(a,b){a=this.getIsAnonymousAttachmentSelected(a);return!a&&i.includes(b)};d.getIsAnonymousAttachmentSelected=function(a){a=this.getSelectedAttachmentID(a);return i.includes(a)};d.getStatusAttachmentToSelect=function(a){a=this.getSelectedAttachmentID(a);return i.includes(a)?b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST:b("ReactComposerAttachmentType").STATUS};d.getMediaAttachmentToSelect=function(a){a=this.getSelectedAttachmentID(a);return i.includes(a)?b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA:b("ReactComposerAttachmentType").MEDIA};d.$ReactComposerAttachmentStore1=function(a){var c=this.validateAction(a,["composerID","id"]),d=c[0];c=c[1];var e=this.getComposerData(d);c=new(b("ImmutableObject"))({id:c,initState:b("ReactComposerAttachmentInitState").UNINITIALIZED,bootloaded:a.bootloaded,bootstrapped:a.bootstrapped,module:a.module,postButtonModule:a.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,interceptionDetected:!1,config:a.config&&(c===b("ReactComposerAttachmentType").MEDIA||c===b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA)?{videoUploadParams:a.config.videoUploadParams||{}}:null});e.attachments.push(c);a.selected&&(e.selectedAttachment=c);a.active&&(e.isSelectedAttachmentActive=!0);this.emitChange(d)};d.$ReactComposerAttachmentStore9=function(a){a=this.validateAction(a,["interceptionResponse","composerID"]);var b=a[0];a=a[1];var c=this.getComposerData(a);c.interceptionResponse=b;this.emitChange(a)};d.$ReactComposerAttachmentStore8=function(a){a=this.validateAction(a,["attachmentID","composerID"]);var c=a[0];a=a[1];var d=this.getComposerData(a);c=this.$ReactComposerAttachmentStore11(d,c);d.attachments[c].interceptionDetected||(d.attachments[c]=b("ImmutableObject").set(d.attachments[c],{interceptionDetected:!0}));this.emitChange(a)};d.$ReactComposerAttachmentStore2=function(a){var c=this.validateAction(a,["id","composerID","activate"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(e);d=this.$ReactComposerAttachmentStore11(f,d);f.selectedAttachment=f.attachments[d];f.isSelectedAttachmentActive=c;f.attachments[d].initState===b("ReactComposerAttachmentInitState").UNINITIALIZED&&(f.attachments[d]=b("ImmutableObject").set(f.attachments[d],{initState:b("ReactComposerAttachmentInitState").INITIALIZING}));if(a.proxiedAttachmentID){c=this.$ReactComposerAttachmentStore11(f,a.proxiedAttachmentID);f.proxiedAttachment=f.attachments[c]}else delete f.proxiedAttachment;this.emitChange(e)};d.$ReactComposerAttachmentStore4=function(a){var c=this.validateAction(a,["id","composerID","attachmentModule"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(e);d=this.$ReactComposerAttachmentStore11(f,d);f.attachments[d]=b("ImmutableObject").set(f.attachments[d],{bootloaded:!0,bootloadDuration:(g||(g=b("performanceAbsoluteNow")))()-f.attachments[d].initTime,module:c,postButtonModule:a.postButtonModule});this.emitChange(e)};d.$ReactComposerAttachmentStore5=function(a){a=this.validateAction(a,["id","composerID"]);var c=a[0];a=a[1];var d=this.getComposerData(a);c=this.$ReactComposerAttachmentStore11(d,c);d.attachments[c]=b("ImmutableObject").set(d.attachments[c],{bootstrapped:!0,bootstrapDuration:(g||(g=b("performanceAbsoluteNow")))()-d.attachments[c].initTime});this.emitChange(a)};d.$ReactComposerAttachmentStore3=function(a){a=this.validateAction(a,["composerID","config"]);var c=a[0];a=a[1];var d=this.getComposerData(c),e=a.attachmentID;if(!e)return;e=this.$ReactComposerAttachmentStore11(d,e);d.attachments[e]=b("ImmutableObject").set(d.attachments[e],{markup:a.markup});this.emitChange(c)};d.$ReactComposerAttachmentStore6=function(a){a=this.validateAction(a,["id","composerID"]);var c=a[0];a=a[1];var d=this.getComposerData(a);c=this.$ReactComposerAttachmentStore11(d,c);d.attachments[c]=b("ImmutableObject").set(d.attachments[c],{initState:b("ReactComposerAttachmentInitState").INITIALIZED,initTime:(g||(g=b("performanceAbsoluteNow")))()});this.emitChange(a)};d.$ReactComposerAttachmentStore7=function(a){a=this.validateAction(a,"composerID");var b=this.getProxiedAttachmentID(a);b&&this.$ReactComposerAttachmentStore2({composerID:a,id:this.getProxiedAttachmentID(a),activate:!1})};d.$ReactComposerAttachmentStore10=function(a){a=this.validateAction(a,["composerID","isContentMultiShareAttachment"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isContentMultiShareAttachment=a;this.emitChange(b)};d.$ReactComposerAttachmentStore11=function(a,b){var c=-1;for(var d=0;d<a.attachments.length;d++)if(a.attachments[d].id===b){c=d;break}if(c===-1)throw new Error("Undefined attachment id: "+b);return c};return c}(a);e.exports=new d()}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function(a,b,c,d,e,f,g){f.getCoreData=a;f.handlePostSucceeded=c;function a(a,b,c){!isNaN(c)&&c>0||g(0,5885);return Object.assign({is_react:!0,xhpc_composerid:a,xhpc_targetid:c},b)}function c(a,c){b("ReactComposerActions").postSucceeded(a,c),b("ReactComposerActions").reset(a)}}),null);
__d("ComposerPublisher",["invariant","Promise","ActorURI","AsyncResponse","AsyncRequest","BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerMediaUploadStore","InstantGamesFeedTypedLogger","CurrentUser","FBLogger","PlaceRecommendationEntrypoint","ComposerTargetType","ComposerEditCallsite","ComposerStoryCreateMutationWebGraphQLMutation","ComposerStoryEditMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ReactComposerPostUtilsCore","ReactComposerActions","ReactComposerAttachmentStore","ComposerPublishType","TextDelightInComposerGating","compactArray","enumUtils","gkx","ifRequired","PagesComposerContextUtils","PrivacyBaseState","ReactComposerStore","ReactComposerWebUnusedParameters","ReactComposerWebWhitelistParameters","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","QuestionPollTypeJSEnum","PagesComposerGraphMLGate","XComposerPublisherCreationHooksController","PagesComposerUnpublishedPostsStore","promiseDone","requireCond","uuid","cr:1248097"],(function(a,b,c,d,e,f,g){var h,i=b("PagesComposerContextUtils").getIsDialogComposer;a={publish:function(a,c,d){d=this.translateData(a.actorID,a.composerID,d,c);this._publishImpl(a.actorID,d,b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),this._getCreationSuccessHandler(a,d),this._getErrorHandler(a.composerID,a.onPostFailure),this._getFinallyHandler(a.composerID,null))},publishFromShareDialog:function(a,c,d,e,f){var g=this.translateDataFromShareDialog(c);this._publishImpl(c.actorId,g,b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),this._getSuccessHandler(a,g,d,e),this._getErrorHandler(a,e),this._getFinallyHandler(a,f))},_publishEditImpl:function(a,c,d,e,f){this._publishImpl(a,d,b("ComposerStoryEditMutationWebGraphQLMutation").__getDocID(),this._getSuccessHandler(c,d,e,f),this._getErrorHandler(c,f),this._getFinallyHandler(c,null))},_publishImpl:function(a,c,d,e,f,g){b("promiseDone")(this._graphQLRequestPromise(a,c,d).then(e,f)["finally"](g)),b("BanzaiODS").bumpEntityKey(2966,"webgraphml_publish","hit")},_graphQLRequestPromise:function(a,c,d){var e=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:d});return new(b("Promise"))(function(d,f){var g=new(b("AsyncRequest"))(e).setHandler(function(a){return d(a)}).setErrorHandler(function(a){return f(a)}).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a,input:c})});g.send()})},_getSuccessHandler:function(a,c,d,e){var f=this;return function(g){var h=f._getFirstGraphQLError(g);if(h){f._handleGraphQLError(a,g,e);return}window.setTimeout(function(){var e=f._getShouldSkipPostSucceededHandler(a,c,g);if(!e){b("ReactComposerPostUtilsCore").handlePostSucceeded(a,(e=(e=g.payload)==null?void 0:e.logging_token)!=null?e:(e=g.payload)==null?void 0:(e=e.data)==null?void 0:(e=e.story_create)==null?void 0:e.logging_token)}d&&d(g)},0)}},_getCreationSuccessHandler:function(a,c){var d=this;return function(e){var f,g;f=e==null?void 0:(f=e.payload)==null?void 0:(f=f.data)==null?void 0:f.story_create;var h=(f==null?void 0:f.story_id)||(f==null?void 0:(g=f.story)==null?void 0:g.id),i=f==null?void 0:f.logging_token;b("cr:1248097")!=null&&b("cr:1248097").sendMessage({compatAction:"successfully-posted",storyId:h});if(h===null||h===void 0)return d._getSuccessHandler(a.composerID,c,a.onPostSuccess,a.onPostFailure)(e);else{g=function(b){d._getSuccessHandler(a.composerID,c,a.onPostSuccess,a.onPostFailure)(babelHelpers["extends"]({},b,{payload:{story_id:h,logging_token:i}}))};f=function(c){window.setTimeout(function(){b("ReactComposerActions").reset(a.composerID),window.location.reload()},0)};return d._renderRequestPromise(a.actorID,h,c).then(g,f)}}},_renderRequestPromise:function(a,c,d){var e=this,f=b("ActorURI").create(b("XComposerPublisherCreationHooksController").getURIBuilder().getURI(),a);return new(b("Promise"))(function(a,g){new(b("AsyncRequest"))(f).setHandler(function(b){return a(b)}).setErrorHandler(function(a){return g(a)}).setData({data:e._getPostCreationHooksData(d),story_id:c}).send()})},_getFirstGraphQLError:function(a){return a.payload&&a.payload.errors&&a.payload.errors[0]},_getErrorHandler:function(a,b){var c=this;return function(d){var e=c._getFirstGraphQLError(d);if(e){c._handleGraphQLError(a,d,b);return}c._handleWebFailure(a,d,b)}},_handleGraphQLError:function(a,c,d){var e=this._getFirstGraphQLError(c);c=new(b("AsyncResponse"))(c.getRequest(),c);c.errorSummary=e?e.summary:null;c.errorDescription=e?e.description:null;c.silentError=e&&e.is_silent;c.transientError=e&&e.is_transient;this._handleWebFailure(a,c,d)},_handleWebFailure:function(a,c,d){window.setTimeout(function(){b("ReactComposerActions").postError(a,c),d&&d(c)},0)},_getFinallyHandler:function(a,c){return function(d){window.setTimeout(function(){b("ReactComposerActions").postFinally(a,d),c&&c(d)},0)}},_getShouldSkipPostSucceededHandler:function(a,c,d){a=b("PagesComposerUnpublishedPostsStore").getIsPreview(a);if(a)return!0;if(i(c.composer_entry_point)||((a=c)!=null?(a=a.web_graphml_migration_params)!=null?a.is_dialog_composer:a:a))return!0;return d.payload&&d.payload.isPostPending?!0:!1},_getSharedCreateMutationData:function(a,c,d,e,f,g,h,i,j,k){var l={actor_id:a,client_mutation_id:b("uuid")(),source:"WWW"};if(c&&c.type==="STORIES")l.audiences=[{stories:{self:{target_id:d}}}];else if(c&&c.type==="MESSENGER"){var m=[];c.messenger_ids.parseIndividualAndExistingGroups().forEach(function(a){m.push({direct:{target_id:a}})});c.messenger_ids.parseNewMessengerGroups().forEach(function(a){m.push({direct:{group:{participants:{users:a}}}})});l.audiences=m}else j&&j==="multi_direct"?l.audiences=[{multi_direct:{users:k}}]:d&&this._getIsDirectedPost(a,d)?l.audience={to_id:d}:b("CurrentUser").getAccountID()!==a&&e===null?l.audience={privacy:{base_state:"EVERYONE"}}:l.audience={web_privacyx:e};h&&(l.message=this._getTranslatedTextWithEntitiesFields(h,i));return this._getSharedMutationData(l,f,g)},_getSharedMutationData:function(a,c,d){var e={};e.composer_session_id=c||b("uuid")();d&&(e.ref=d);a.logging=e;return a},_getCommonOriginalMutationData:function(a,b){b.composertags_with&&(a.with_tags_ids=b.composertags_with);b.multilingual_specified_lang&&(a.specified_dialect=b.multilingual_specified_lang);if(b.multilingual_statuses&&b.multilingual_status_langs){var c=b.multilingual_status_langs,d=b.multilingual_rich_text,e={};d==null?void 0:d.forEach(function(a){e[a.dialect]=a.composedTextParams});a.multilingual_translations=(d=b.multilingual_statuses)==null?void 0:d.map(function(a,b){return{message:a,dialect:c[b],composed_text:e[c[b]]}})}return a},translateDataFromShareDialog:function(a){var b=this._getSharedCreateMutationData(a.actorId,null,null,a.privacy,a.composerSessionID,null,a.message);b.attachments={link:{internal_linkable_id:a.postId,shared_from_post_id:a.postId}};a.isForcedReshareOfPost&&(b.reshare_original_post="RESHARE_ORIGINAL_POST");b.web_graphml_migration_params={composer_type:"RESHARE"};a.videoStartTimeMs&&(b.video_start_time_ms=a.videoStartTimeMs);return b},publishFromEditDialog:function(a,b){this._publishEditImpl(a.actorID,a.composerID,this.translateDataFromEditDialog(a.actorID,a.composerID,b,a.composerConfig),a.onPostSuccess,a.onPostFailure)},translateDataFromEditDialog:function(a,c,d,e){e===void 0&&(e={});var f=d.story_token;f||g(0,2576);a={actor_id:a,client_mutation_id:b("uuid")(),story_id:f};a=this._getCommonOriginalMutationData(a,d);if(d.album_id)a.audience={album_id:d.album_id};else if(d.privacyx){f={web_privacyx:d.privacyx};a.audience=f}a.editable_post_feature_capabilities=["STICKER","CONTAINED_MEDIA"];d.xc_sticker_id===0?a.sticker_id=null:d.xc_sticker_id&&(a.sticker_id=d.xc_sticker_id);d.composertags_place&&d.is_explicit_place?a.explicit_place_id=d.composertags_place:d.composertags_place_name?a.place_name=d.composertags_place_name:d.composertags_city?a.implicit_place_id=String(d.composertags_city):a.explicit_place_id=null;f={};if(d.action_type_id&&d.action_type_id.length&&(d.object_id||d.object_str)){f.taggable_activity_id=d.action_type_id[0];d.object_id&&(f.object_id=d.object_id[0]);d.object_str&&(f.object_text=d.object_str[0]);d.icon_id&&(f.icon_id=d.icon_id);d.hide_object_attachment&&(f.object_attachment_behavior=d.hide_object_attachment?"HIDDEN":"SHOWN");if(d.og_suggestion_mechanism)for(var i in b("OGComposerSuggestionMechanisms"))if(b("OGComposerSuggestionMechanisms")[i]==d.og_suggestion_mechanism){f.suggestion_mechanism=i;break}a.inline_activities=[f]}else a.inline_activities=[];if(d.xc_edit_callsite){f={};f.edit_callsite=this._getTranslatedEnum(d.xc_edit_callsite,b("ComposerEditCallsite"));d.xc_story_dom_id&&(f.story_dom_id=d.xc_story_dom_id);d.xhpc_composerid&&(f.composer_dom_element_id=d.xhpc_composerid);d.xc_entstory_context&&(f.entstory_context=d.xc_entstory_context);d.save_only&&(f.save_only=d.save_only);a.web_graphml_migration_params=f}d.xhpc_message?a.message=this._getTranslatedTextWithEntitiesFields(d.xhpc_message,d.delight_ranges):a.message=null;d.is_markdown!==null&&d.is_markdown!==void 0&&(a.formatting=this._getComposerSupportsMarkdown(e)&&d.is_markdown?"MARKDOWN":"PLAINTEXT");f=d.composer_unpublished_photo;if(d.attachment&&d.attachment.params)a.attachments=[{link:this._translateShareAttachment(d.attachment.type,d.attachment.params,d.attachment.shared_from_post_id)}],(d.attachment&&d.attachment.reshare_original_post||d.is_forced_reshare_of_post)&&(a.reshare_original_post="RESHARE_ORIGINAL_POST"),a.editable_post_feature_capabilities.push("CONTAINED_LINK");else if(f){var j=[],k=this._getPhotos(c);f.forEach(function(a){k.includes(a)?j.push({photo:{id:a}}):j.push({video:{id:a,notify_when_processed:!0}})});a.attachments=j;a.editable_post_feature_capabilities.push("CONTAINED_LINK")}else d.attachment===null&&(a.attachments=[],a.editable_post_feature_capabilities.push("CONTAINED_LINK"));e=d.life_event_data;e&&(a=this._getTranslatedLifeEventAttachment(a,e));this._augmentMultiShareAttachmentData(c,a);(h||(h=b("isEmpty")))(d.action_post_attachment_data)||(a.action_post_attachment_data=d.action_post_attachment_data);(h||(h=b("isEmpty")))(d.work_shift_swap_data)||(a.work_shift_swap_data=d.work_shift_swap_data);(h||(h=b("isEmpty")))(d.work_checklist_metadata)||(a.work_checklist_metadata=d.work_checklist_metadata);d.blocks&&(a.composed_text={block_data:d.block_data,block_depths:d.block_depths,block_types:d.block_types,blocks:d.blocks,entities:d.entities,entity_map:d.entity_map,inline_styles:d.inline_styles});return this._getSharedMutationData(a,d.composer_session_id,null)},_translateShareAttachment:function(a,b,c){return{share_scrape_data:JSON.stringify({share_type:a,share_params:b,shared_from_post_id:c})}},_getTranslatedEnum:function(a,b){var c=null;for(var d in b)if(b[d]===a){c=d;break}c||g(0,2577,a);return c},_getValueFromEnumKey:function(a,b){var c=null;for(var d in b)if(d===a){c=b[d];break}c||g(0,11345,a);return c},_getComposerSupportsMarkdown:function(a){var b;b=((b=a)!=null?(b=b.sproutsConfig)!=null?(b=b.MARKDOWN)!=null?b.enabled:b:b:b)===!0;a=((a=a)!=null?(a=a.taggersConfig)!=null?(a=a.MARKDOWN)!=null?a.enabled:a:a:a)===!0;return b||a?!0:!1},translateData:function(a,c,d,e){var f=this._getSharedCreateMutationData(a,d,e.xhpc_targetid,e.privacyx,e.composer_session_id,e.ref,e.xhpc_message,e.delight_ranges,e.target_type,e.composertags_with);f=this._getCommonOriginalMutationData(f,e);f.camera_post_context={deduplication_id:e.composer_session_id,source:"composer"};if(e.instagram_business_account_id||e.crosspost_group_id){var g={};e.instagram_business_account_id&&(g.instagram_business_account_ids=[e.instagram_business_account_id]);e.crosspost_group_id&&(g.group_ids=[e.crosspost_group_id]);f.page_crossposting_metadata=g}e.xc_sticker_id&&(f.referenced_sticker_id=e.xc_sticker_id);e.is_welcome_to_group_post&&(f.is_welcome_to_group_post=e.is_welcome_to_group_post);e.local_alert_data&&(f.local_alert_data=e.local_alert_data);e.is_ama===!0&&(f.ama_post_metadata={enabled:!0});e.composer_source_surface&&(f.composer_source_surface=e.composer_source_surface);e.composer_entry_point&&(f.composer_entry_point=e.composer_entry_point);e.composer_entry_time&&(f.composer_entry_time=e.composer_entry_time);g=e.cta_data;g&&(f.call_to_action_data={type:g.type,is_cta_share_post:g.value.is_cta_share_post,service_config_id:g.value.service_config_id,link:g.value.link,customized_message_page_cta_text:g.value.customized_message_page_cta_text,link_format:e.attachment&&!(h||(h=b("isEmpty")))(e.attachment.videoID)?"VIDEO_LPP":null});g={};e.composer_session_duration&&(g.composition_duration=e.composer_session_duration);e.num_keystrokes&&(g.number_of_keystrokes=e.num_keystrokes);e.num_pastes&&(g.number_of_copy_pastes=e.num_pastes);("composer_session_duration"in e||"num_keystrokes"in e||"num_pastes"in e)&&(f.composer_session_events_log=g);e.composer_type&&(f.composer_type=e.composer_type);e.is_q_and_a&&(f.is_q_and_a=e.is_q_and_a);e.is_markdown&&(f.formatting="MARKDOWN");e.text_format_preset_id&&(f.text_format_preset_id=e.text_format_preset_id);if(e.action_type_id&&e.action_type_id.length&&(e.object_id||e.object_str)){g={};g.taggable_activity_id=e.action_type_id[0];e.object_id&&(g.object_id=e.object_id[0]);e.object_str&&(g.object_text=e.object_str[0]);e.icon_id&&(g.icon_id=e.icon_id);e.hide_object_attachment&&(g.object_attachment_behavior=e.hide_object_attachment?"HIDDEN":"SHOWN");if(e.og_suggestion_mechanism)for(var i in b("OGComposerSuggestionMechanisms"))if(b("OGComposerSuggestionMechanisms")[i]==e.og_suggestion_mechanism){g.suggestion_mechanism=i;break}f.inline_activities=[g]}if(e.composertags_sponsors){if(e.branded_content_data){g=e.branded_content_data;if(g.tagging_data){var j=g.tagging_data;g.tagging_data=babelHelpers["extends"]({},g.tagging_data,{shared_to_sponsor_status:b("enumUtils").enumValueToKeyEnforcing(j.shared_to_sponsor_status,b("BrandedContentSharedToSponsorStatus")),sponsor_relationship:b("enumUtils").enumValueToKeyEnforcing(j.sponsor_relationship,b("BrandedContentSponsorRelationship")),can_sponsor_add_cta:j.can_sponsor_add_cta===1})}f.branded_content_data=e.branded_content_data}f.sponsor_id=e.composertags_sponsors[0];f.direct_share_status=b("enumUtils").enumValueToKey(e.direct_share_status,b("BrandedContentSharedToSponsorStatus"));f.sponsor_relationship=b("enumUtils").enumValueToKey(e.sponsor_relationship,b("BrandedContentSponsorRelationship"))}g={};e.is_also_posting_video_to_feed&&(g.is_also_posting_video_to_feed=e.is_also_posting_video_to_feed);(h||(h=b("isEmpty")))(e.feed_targeted_data)||(g.feed_targeted_data=JSON.stringify(e.feed_targeted_data));(h||(h=b("isEmpty")))(e.targeted_privacy_data)||(g.targeted_privacy_data=JSON.stringify(e.targeted_privacy_data));(h||(h=b("isEmpty")))(e.boosted_post_config)||(g.boosted_post_config=e.boosted_post_config);e.target_type&&(g.target_type=e.target_type);e.xhpc_aggregated_story_composer&&(g.xhpc_aggregated_story_composer=e.xhpc_aggregated_story_composer);e.xhpc_composerid&&(g.xhpc_composerid=e.xhpc_composerid);e.xhpc_context&&(g.xhpc_context=e.xhpc_context);e.xhpc_finch&&(g.xhpc_finch=e.xhpc_finch);e.xhpc_fundraiser_page&&(g.xhpc_fundraiser_page=e.xhpc_fundraiser_page);if(e.xhpc_publish_type)for(var k in b("ComposerPublishType"))if(b("ComposerPublishType")[k]==e.xhpc_publish_type){g.xhpc_publish_type=k;break}e.xhpc_timeline&&(g.xhpc_timeline=e.xhpc_timeline);e.backdated_date&&e.backdated_date.year&&(g.backdated_array=e.backdated_date);e.qn&&(g.waterfall_id=e.qn);e.post_to_marketplace&&(g.xpost_to_marketplace=e.post_to_marketplace);e.composer_attachment_sell_audience_target_ids&&(g.xpost_target_ids=e.composer_attachment_sell_audience_target_ids);e.is_dialog_composer&&(g.is_dialog_composer=e.is_dialog_composer);g&&(f.web_graphml_migration_params=g);e.fun_fact_prompt_id&&(f.fun_fact_prompt_id=e.fun_fact_prompt_id);if(e.asked_fun_fact_prompt_data){j=e.asked_fun_fact_prompt_data.prompt_title;j&&(f.asked_fun_fact_prompt_data={prompt_title:this._getTranslatedTextWithEntitiesFields(j).text})}e.memorial_tribute_metadata&&(f.memorial_tribute_metadata=e.memorial_tribute_metadata);e.is_learning_link_post&&(f.is_learning_link_post=e.is_learning_link_post);e.extensible_sprouts_ranker_request&&(f.extensible_sprouts_ranker_request=e.extensible_sprouts_ranker_request);g=e.external_movie_data!=null?babelHelpers["extends"]({},e.external_movie_data,{external_movie_id:((g=e.external_movie_data)==null?void 0:g.external_movie_id)!==""?(j=e.external_movie_data)==null?void 0:j.external_movie_id:null}):null;e.external_movie_data&&(f.external_movie_data=g);e.place_attachment_setting===1?f.place_attachment_setting="HIDE_ATTACHMENT":e.place_attachment_setting===2&&(f.place_attachment_setting="SHOW_ATTACHMENT");e.scheduled_living_room_metadata&&(f.scheduled_living_room_metadata=e.scheduled_living_room_metadata);e.work_learning_unit&&(f.work_learning_unit=e.work_learning_unit);if(e.is_placelist_post){j={};j.is_placelist_post=e.is_placelist_post;e.placelist_within_page&&(j.placelist_within_page=e.placelist_within_page);if(e.place_list_entry_point)for(var l in b("PlaceRecommendationEntrypoint"))if(b("PlaceRecommendationEntrypoint")[l]==e.place_list_entry_point){j.place_list_entry_point=l;break}f.placelist_data=j}e.ask_admin_to_post===!0&&(f.ask_admin_to_post_for_user={is_asking_admin_to_post:!0});e.is_preview===!0?f.unpublished_content_data={unpublished_content_type:"PREVIEW"}:e.is_ad_post===!0?f.unpublished_content_data={unpublished_content_type:"ADS_POST"}:e.draft===!0||e.unpublished_content_type==="DRAFT"?f.unpublished_content_data={unpublished_content_type:"DRAFT"}:(e.scheduled===!0||e.unpublished_content_type==="SCHEDULED")&&e.scheduled_publish_time&&e.unpublished_content_type!=="SCHEDULED_RECURRING"?f.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:e.scheduled_publish_time}:(e.scheduled===!0||e.unpublished_content_type==="SCHEDULED_RECURRING")&&e.scheduled_publish_time&&(f.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:e.scheduled_publish_time,scheduled_post_recurrence_config:{frequency:e.post_frequency,end_time:e.recurring_post_end_time}});e.composertags_place?f.explicit_place_id=e.composertags_place:e.composertags_city?f.implicit_place_id=String(e.composertags_city):e.composertags_place_name&&(f.place_name=e.composertags_place_name);(h||(h=b("isEmpty")))(e.animated_image)||(f.animated_image=e.animated_image);(h||(h=b("isEmpty")))(e.event_tag)||(f.event_tag=e.event_tag);(h||(h=b("isEmpty")))(e.holiday_card)||(f.holiday_card=e.holiday_card);(h||(h=b("isEmpty")))(e.detection_analytics_data)||(f.detection_analytics_data=e.detection_analytics_data);(h||(h=b("isEmpty")))(e.page_recommendation_ids)||(f.page_recommendation_ids=e.page_recommendation_ids);(h||(h=b("isEmpty")))(e.page_recommendation)||(f.page_recommendation=e.page_recommendation);(h||(h=b("isEmpty")))(e.story_list_attachment_data)||(f.story_list_attachment_data=e.story_list_attachment_data);(h||(h=b("isEmpty")))(e.asset3d_id)||(f.asset3d_id=e.asset3d_id);(h||(h=b("isEmpty")))(e.living_room_attachment)||(f.living_room_attachment=e.living_room_attachment);(h||(h=b("isEmpty")))(e.work_shift_swap_data)||(f.work_shift_swap_data=e.work_shift_swap_data);(h||(h=b("isEmpty")))(e.video_meetup)||(f.video_meetup=e.video_meetup);(h||(h=b("isEmpty")))(e.chatroom)||(f.chatroom=e.chatroom);(h||(h=b("isEmpty")))(e.local_dev_platform_app_instance)||(f.local_dev_platform_app_instance=e.local_dev_platform_app_instance);(h||(h=b("isEmpty")))(e.action_post_attachment_data)||(f.action_post_attachment_data=e.action_post_attachment_data);(h||(h=b("isEmpty")))(e.poll_question_data)||(f.poll_question_data=this._getTranslatedPollQuestionData(e.poll_question_data));(h||(h=b("isEmpty")))(e.todo_list_data)||(f.todo_list_data=e.todo_list_data);(h||(h=b("isEmpty")))(e.draft_id)||(f.post_from_draft={draft_id:e.draft_id});if(e.play_with_friends_game_id){g=b("ReactComposerStore").getTargetType(c);new(b("InstantGamesFeedTypedLogger"))().setEvent("play_with_friends_composer_post_attempted").setUISurface("play_with_friends_attachment").setGameID(e.play_with_friends_game_id).setGroupID(g=="group"?e.xhpc_targetid:null).setPostPrivacyID(e.privacyx).log();f.play_with_friends_game_id=e.play_with_friends_game_id}e.instant_game_entry_point_data&&(f.instant_game_entry_point_data=e.instant_game_entry_point_data);e.has_support_now_cta&&(e.target_type==="group"?f.user_funding_promotion_metadata={is_removed:!1,profile_id:e.xhpc_targetid,type:e.user_funding_attachment_type}:f.fan_funding_promotion_metadata={is_promotional_post:e.has_support_now_cta,page_id:a,payload:e.fan_funding_promotion_payload});(h||(h=b("isEmpty")))(e.work_checklist_metadata)||(f.work_checklist_metadata=e.work_checklist_metadata);j=[];!(h||(h=b("isEmpty")))(e.cta_data)&&e.attachment&&!(h||(h=b("isEmpty")))(e.attachment.photoID)?j=[{photo:{id:e.attachment.photoID}}]:!(h||(h=b("isEmpty")))(e.cta_data)&&e.attachment&&!(h||(h=b("isEmpty")))(e.attachment.videoID)?j=[{video:{id:e.attachment.videoID,notify_when_processed:!0}}]:e.attachment&&e.attachment.params?(j=[{link:this._translateShareAttachment(e.attachment.type,e.attachment.params,e.attachment.shared_from_post_id)}],(e.attachment&&e.attachment.reshare_original_post||e.is_forced_reshare_of_post)&&(f.reshare_original_post="RESHARE_ORIGINAL_POST")):e.composer_unpublished_photo?j=this._getTranslatedMediaAttachments(d,this._getPhotos(c),e.composer_unpublished_photo,e.composer_custom_accessibility_caption,e.composer_has_crop,e.composer_has_filter,e.composer_text_overlay,e.composer_sticker,e.xy_tags):e.attachment_poll_data&&(j=[{poll:{poll_type:e.attachment_poll_data.poll_type,poll_answers_state:e.attachment_poll_data.poll_answers_state,options:e.attachment_poll_data.options}}]);g=this._getProductItemAttachment(e,f.message);if(g){a={product_item:g};j.push(a)}if(e.charity_id){d={fundraiser_for_story:{charity_id:e.charity_id}};j.push(d)}g=e.life_event_data;g&&(f=this._getTranslatedLifeEventAttachment(f,g));(h||(h=b("isEmpty")))(j)||(f.attachments=j);this._augmentMultiShareAttachmentData(c,f);e.blocks&&(f.composed_text={block_data:e.block_data,block_depths:e.block_depths,block_types:e.block_types,blocks:e.blocks,entities:e.entities,entity_map:e.entity_map,inline_styles:e.inline_styles});return f},_augmentMultiShareAttachmentData:function(a,c){var d=this;b("CurrentUser").isWorkUser()&&b("ReactComposerAttachmentStore").isContentMultiShareAttachment(a)&&b("ifRequired")("ReactComposerWorkContentAppAttachmentStore",function(b){b=b.getScrapedAttachments(a).map(function(a){a=a.attachmentConfig;return{link:d._translateShareAttachment(a.type,a.params,a.shared_from_post_id)}}).toArray();c.attachments=b});b("gkx")("861066")&&b("ifRequired")("ReactComposerWorkContentFileUploadStore",function(b){b=b.getCompletedUploads(a).map(function(a){return{id:a.fileID,handle:a.handleID}}).toArray();c.attached_files_data={files:b}})},_getPostCreationHooksData:function(a){var c={};a.audiences&&(c.audiences=this._getAudiencesData(a.audiences));a.audience&&(c.audience=this._getAudienceData(a.audience));var d=a.web_graphml_migration_params;d&&d.xhpc_publish_type&&(d.xhpc_publish_type=this._getValueFromEnumKey(d.xhpc_publish_type,b("ComposerPublishType")));c.web_graphml_migration_params=d;c.past_time=a.past_time;c.is_q_and_a=a.is_q_and_a;c.is_local_dev_platform_app_instance=a.local_dev_platform_app_instance!==void 0&&a.local_dev_platform_app_instance!==null;d=a.page_recommendation_ids;var e=a.page_recommendation;c.is_page_recommendation=d!==void 0&&d!==null&&d.length!==0||e!==void 0&&e!==null;a.attachments&&(c.media_attachments=this._getMediaAttachments(a.attachments));c.call_to_action_data=a.call_to_action_data;d=a.logging;c.logging_ref=d&&d.ref;c.is_learning_link_post=a.is_learning_link_post;e=a.message;c.message_text=e&&e.text;d=a.unpublished_content_data;c.unpublished_content_type=d&&d.unpublished_content_type;return c},_getAudiencesData:function(a){var c=this;return a==null?a:a.map(function(a){var d,e=a==null?void 0:a.undirected;d=a==null?void 0:(d=a.undirected)==null?void 0:d.privacy;a&&e&&d&&(d.base_state=c._getValueFromEnumKey(d.base_state,b("PrivacyBaseState")),e.privacy=d,a.undirected=e);return a})},_getAudienceData:function(a){if(a==null)return a;var c=a;a=a.privacy;a&&(a==null?void 0:a.base_state)&&(a.base_state=this._getValueFromEnumKey(a.base_state,b("PrivacyBaseState")),c.privacy=a);return c},_getMediaAttachments:function(a){if(a==null)return a;a=a.map(function(a){if(!a||!a.photo&&!a.video)return null;var b={};a.photo&&(b.photo={id:a.photo.id,tags:a.photo.tags});a.video&&a.video.id&&(b.video={id:a.video.id});return b});return b("compactArray")(a)},_getGraphQLConditionKey:function(a){switch(a){case"new":return"NEW_ITEM";case"refurbished":return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function(a,b){if(a.composer_attachment_sell_price&&a.composer_attachment_sell_title){var c={};c.title=a.composer_attachment_sell_title;c.item_price={price:a.composer_attachment_sell_price,currency:a.composer_attachment_sell_currency};c.location_page_id=a.composer_attachment_sell_location_page_id;c.condition=this._getGraphQLConditionKey(a.composer_attachment_sell_condition);a.composer_attachment_sell_pickup_note&&(c.pickup_note=this._getTranslatedTextWithEntitiesFields(a.composer_attachment_sell_pickup_note));b&&(c.description=b);return c}return null},_getTranslatedMediaAttachments:function(a,c,d,e,f,g,i,j,k){var l=[];d.forEach(function(d){if(c.includes(d)){var m={};m.id=d;f[d]===!0&&(m.crop_state="CROPPED");g[d]===!0&&(m.filter_state="FILTERED");e[d]&&(m.custom_accessibility_caption=e[d]);if(i[d]&&!(h||(h=b("isEmpty")))(i[d])){m.text_overlay=i[d];if(a.type==="STORIES"){var n=[];m.text_overlay.forEach(function(a){n.push({text:{message:{text:a}}})});m.overlays=n}}if(j[d]&&!(h||(h=b("isEmpty")))(j[d])){var o=[];Object.keys(j[d]).forEach(function(a){o.push({id:a,count:j[d][a]})});m.stickers=o}k&&Array.isArray(k)&&(m.tags=k.filter(function(a){return a.fbid===m.id}).map(function(a){var b={};a.subject?b.id=a.subject:b.name=a.name;return{x:a.x,y:a.y,source:a.source,taggee:b}}));l.push({photo:m})}else l.push({video:{id:d,notify_when_processed:!0}})});return l},_getTranslatedPollQuestionData:function(a){var c={text:a.text,hidden_results:a.hidden_results,options:a.options,question_type:this._getTranslatedEnum(a.question_type,b("QuestionPollTypeJSEnum"))};c&&((a.poll_end_time===0||a.poll_end_time)&&(c.poll_end_time=a.poll_end_time),(a.relative_poll_end_time===0||a.relative_poll_end_time)&&(c.relative_poll_end_time=a.relative_poll_end_time));return c},_getTranslatedLifeEventAttachment:function(a,b){var c={life_event:{extras:b.extras,icon:b.icon,fallback_media_kind:b.fallback_media_kind,fb_media:[],life_event_type:b.life_event_type,source:b.source,start_date:b.start_date,logging_data:b.logging_data}};b.title&&(a.title=this._getTranslatedTextWithEntitiesFields(b.title));var d=[c];b.media.forEach(function(a){a.type==="DEFAULT_MEDIA"?c.life_event.fb_media.push(a.id):(c.life_event.fb_media.push("0"),a.type==="VIDEO"?d.push({video:{id:a.id,notify_when_processed:!0}}):d.push({photo:{id:a.id}}))});a.attachments=d;return a},_getTranslatedTextWithEntitiesFields:function(a,c){a=b("MentionsUtils").parseMessageMentions(a);var d=a.ranges;a=a.text;if(!d)return{text:a,ranges:[]};d=d.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.uid}}});b("TextDelightInComposerGating").isHighlightEnabled("post")&&c&&(d=[].concat(d,c.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.campaignID}}})));return{text:a,ranges:d}},_getShouldUseGraphQLForFeedTargetingFeature:function(a){if((h||(h=b("isEmpty")))(a.feed_targeted_data))return!1;for(var c in a)if(this._getContainsWhitelistedParameter(a,c)&&c!=="feed_targeted_data"&&c!=="targeted_privacy_data")return!1;return b("PagesComposerGraphMLGate").shouldUseGraphMLForFeedTargetingFeature(a.xhpc_targetid)},_getShouldUseGraphQLForBoostedPostFeature:function(a){if((h||(h=b("isEmpty")))(a.boosted_post_config))return!1;for(var c in a)if(this._getContainsWhitelistedParameter(a,c)&&c!=="boosted_post_config")return!1;return b("PagesComposerGraphMLGate").shouldUseGraphMLForBoostedPostFeature(a.xhpc_targetid)},_hasModifiedOrMultipleScrapedAttachments:function(a){a=(a=a)!=null?(a=a.attachment)!=null?a.params:a:a;if(!a||(h||(h=b("isEmpty")))(a)||Array.isArray(a))return!1;var c=a.child_attachments,d=a.canvas_video,e=a.carousel_video_lpp;a=a.edited_params;if(!(h||(h=b("isEmpty")))(a)||!(h||(h=b("isEmpty")))(e)||!(h||(h=b("isEmpty")))(d)||!(h||(h=b("isEmpty")))(c)&&Object.keys(c).length>1)return!0;for(var f in c){if(((a=c[f])!=null?a.image_source:a)!=="scrape")return!0}return!1},getShouldUseGraphQLForStatus:function(a,c){if(!this._getShouldUseGraphQL(c)&&!this._getShouldUseGraphQLForFeedTargetingFeature(c)&&!this._getShouldUseGraphQLForBoostedPostFeature(c))return!1;if(b("CurrentUser").getAccountID()!==a){if(c.ask_admin_to_post===!0)return!0;a=this._getIsDirectedPost(a,c.xhpc_targetid);if(a){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_different_actor_directed_post");return!1}if(this._hasModifiedOrMultipleScrapedAttachments(c)){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_has_modified_attachements");return!1}return!0}if(c.target_type==="page"){a=this._getPageVisitorStatusPostGK(c.xhpc_targetid);a||b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_failing_gating_page_visitor_post");return a}return!0},getShouldUseGraphQLForMedia:function(a,c){if(!this._getShouldUseGraphQL(c))return!1;if(b("CurrentUser").getAccountID()!==a){if(c.ask_admin_to_post===!0)return!0;if(b("PagesComposerGraphMLGate").shouldUseGraphMLForMediaPostCreation(c.xhpc_targetid))return!0;b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","media_different_actor");return!1}if(c.target_type==="page"){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","media_target_type_page");return!1}return!0},getShouldUseGraphQLForShareDialog:function(a){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_use","share");if(!this._getShouldUseGraphQLForShareDialog(a)){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_missing_features");return!1}if(b("CurrentUser").getAccountID()!==a.actorId){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_different_actor");return!1}if(a.shareType===String(34)||a.shareType===String(77))return!1;if(a.audienceType!=="self"){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_unsupported_audience_type_"+(a.audienceType?a.audienceType:"unset"));return!1}a=this._getIsDirectedPost(a.actorId,a.actorId);if(a&&!this._getDirectedShareDialogPostGK()||!a&&!this._getUndirectedShareDialogPostGK()){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_"+(a?"directed":"undirected")+"_failing_gating");return!1}return!0},_getPhotos:function(a){return b("ReactComposerMediaUploadStore").getPhotos(a).map(function(a){return a.photoID}).toArray()},_getIsSupportedParameter:function(a,c){return Object.values(b("ComposerPublisherSupportedParameters")).includes(c)||b("ReactComposerWebUnusedParameters").params.create.includes(c)||(h||(h=b("isEmpty")))(a[c])},_getContainsWhitelistedParameter:function(a,c){return b("ReactComposerWebWhitelistParameters").params.create.includes(c)&&!(h||(h=b("isEmpty")))(a[c])},_getIsSupportedParameterForShareDialog:function(a,c){var d="share_dialog_";return Object.values(b("ComposerPublisherSupportedParameters")).includes(d+c)||b("ReactComposerWebUnusedParameters").params.share.includes(c)||(h||(h=b("isEmpty")))(a[c])},_getShouldUseGraphQL:function(a){for(var b in a)if(this._getContainsWhitelistedParameter(a,b))return!1;return!0},_getShouldUseGraphQLForEdit:function(a){for(var b in a)if(this._getContainsWhitelistedParameterForEdit(a,b))return!1;return!0},getShouldUseGraphQLForEdit:function(a,c){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_use","edit");if(!c.story_token){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_missing_story_token");b("FBLogger")("WebGraphML").warn("Missing story token from %s. Context: %s",c.xc_edit_callsite,c.xc_entstory_context);return!1}if(!this._getShouldUseGraphQLForEdit(c)){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_missing_features");return!1}if(b("CurrentUser").getAccountID()!==a){b("BanzaiODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_different_actor");return!1}return!0},_getIsSupportedParameterForEdit:function(a,c){var d="edit_";return Object.values(b("ComposerPublisherSupportedParameters")).includes(d+c)||b("ReactComposerWebUnusedParameters").params.edit.includes(c)||(h||(h=b("isEmpty")))(a[c])},_getContainsWhitelistedParameterForEdit:function(a,c){return b("ReactComposerWebWhitelistParameters").params.edit.includes(c)&&!(h||(h=b("isEmpty")))(a[c])},_getShouldUseGraphQLForShareDialog:function(a){for(var b in a)if(!this._getIsSupportedParameterForShareDialog(a,b))return!1;return!0},_getIsDirectedPost:function(a,b){return a!==b},_getPageCTAPostGK:function(a){return b("PagesComposerGraphMLGate").shouldUseGraphMLForPageCTAPostCreation(a)},_getPageVisitorStatusPostGK:function(a){return b("PagesComposerGraphMLGate").shouldUseGraphMLForVisitorStatus(a)},_getUndirectedShareDialogPostGK:function(){return b("gkx")("678300")},_getDirectedShareDialogPostGK:function(){return!0}};e.exports=a}),null);
__d("ComposerXSessionIDs",["cx","DOM","killswitch","uuid"],(function(a,b,c,d,e,f,g){var h={},i=!b("killswitch")("COMPOSER_LAZY_INITIALIZE_SESSION_ID");a={getSessionID:function(a){i&&!h[a]&&(h[a]=b("uuid")());return h[a]},resetSessionID:function(a){h[a]=b("uuid")()},createSessionIDInput:function(a){return b("DOM").create("input",{type:"hidden",name:"composer_session_id",className:"_5r_b",value:a})}};e.exports=a}),null);
__d("ComposerXMarauderLogger",["ComposerStructuredLogger","ComposerStructuredLoggerUtil","ComposerXSessionIDs","Event","MarauderLogger"],(function(a,b,c,d,e,f){f.logEvent=i;f.registerComposer=a;f.getInstance=c;f.getComposerEntryPointName=j;f.listenForPostEvents=d;f.setShareMode=e;f.logEntry=k;f.logCompleted=l;f.logPost=m;f.logPostSuccess=n;f.logPostFailure=o;var g={},h="status";function i(a,c,d){if(b("ComposerStructuredLoggerUtil").shouldUseFalco(c,a))b("ComposerStructuredLogger").logEvent(c,a);else{var e;d||(d={});var f=g[c];c=b("ComposerXSessionIDs").getSessionID(c);if(!f||!c)return;if(d.logOncePerSession){f.loggedEventTypes[c]||(f.loggedEventTypes[c]={});if(f.loggedEventTypes[c][a])return;f.loggedEventTypes[c][a]=!0}e=(e=(e=d.extraData)==null?void 0:e.composer_entry_point_name)!=null?e:j(f);var i=f.composerType?f.composerType:h;d=babelHelpers["extends"]({},d.extraData,{composer_entry_point_name:e,composer_type:i,target_type:f.targetType,target_id:f.targetID,ref:f.entryPointRef,composer_source_surface:f.composerSourceSurface,is_edit_composer:f.isEditComposer===!0});b("MarauderLogger").log(a,"composer",d,void 0,void 0,c)}}function a(a,c,d){g[a.id]=Object.assign({targetID:c,loggedEventTypes:{}},d),b("ComposerStructuredLogger").registerComposer(a,c,d)}function c(a){return g[a]}function j(a){return a.composerSourceSurface==="page"?a.ref:"inline_composer"}function d(a,c){return!c?[]:[b("Event").listen(c,"submit",function(){m(a)}),b("Event").listen(c,"success",function(){n(a)}),b("Event").listen(c,"error",function(b){o(a,{error_info:{error_code:b.data.response.error,error_description:b.data.response.errorDescription,error_summary:b.data.response.errorSummary}})})]}function e(a,b){a=g[a];if(!a)return;switch(b){case"self":a.targetType="feed";break;case"friend":a.targetType="wall";break;case"page":case"selfpage":a.targetType="page";break;case"group":a.targetType="group";break;default:a.targetType="other"}}function k(a,b){i("composer_entry",a,{logOncePerSession:!0,extraData:b})}function l(a,b){i("composer_post_completed",a,{extraData:b})}function m(a,b){i("composer_post",a,{extraData:b})}function n(a,b){i("composer_post_success",a,{extraData:b})}function o(a,b){i("composer_post_failure",a,{extraData:b})}}),null);
__d("ComposerCancelFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","composer_cancel");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ComposerFocusAcquiredFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","composer_focus_acquired");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ComposerFocusLostFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","composer_focus_lost");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("ComposerInitFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","composer_init");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftPostEditEnterFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_post_edit_enter_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftPostEditSubmitFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_post_edit_submit_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerAutoSavingActionsTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SET_DRAFT_ID:null});e.exports=a}),null);
__d("ReactComposerAutoSavingStore",["PagesComposerAutoSavingActionsTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";var g={draftID:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;return c=a.call(this,function(){return Object.assign({},g)},function(a){switch(a.type){case b("PagesComposerAutoSavingActionsTypes").SET_DRAFT_ID:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerAutoSavingStore1(a);break}})||this}var d=c.prototype;d.getDraftID=function(a){return this.getComposerData(a).draftID};d.$PagesComposerAutoSavingStore1=function(a){var b=this.getComposerData(a.composerID);b.draftID=a.draftID;this.emitChange(a.composerID)};d.hasDraftID=function(a){return!!this.getComposerData(a).draftID};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ComposerStructuredLogger",["ComposerCancelFalcoEvent","ComposerEntryFalcoEvent","ComposerFocusAcquiredFalcoEvent","ComposerFocusLostFalcoEvent","ComposerInitFalcoEvent","ComposerPostFailureFalcoEvent","ComposerPostFalcoEvent","ComposerPostSuccessFalcoEvent","ComposerStructuredLoggerUtil","ComposerXSessionIDs","PagesComposerContextUtils","PagesComposerDraftPostEditEnterFlowFalcoEvent","PagesComposerDraftPostEditJSEvents","PagesComposerDraftPostEditSubmitFlowFalcoEvent","ReactComposerAutoSavingStore","ReactComposerLoggingStore"],(function(a,b,c,d,e,f){"use strict";f.registerComposer=a;f.getInstance=c;f.shouldLogEvent=h;f.logImpression=d;f.logEnterFlow=i;f.logFocusAcquired=j;f.logFocusLost=k;f.logSubmitFlow=l;f.logSubmitFlowSuccess=m;f.logSubmitFlowFailure=n;f.logCancelFlow=o;f.logDraftPostEditEvent=p;f.logDraftPostEditSubmitFlow=q;f.logEvent=e;f.logDraftPostEditEnterFlow=r;f._getComposerLoggingData=s;var g={};function a(a,b,c){var d={};g[a.id]=Object.assign(d,{targetID:b,loggedEventTypes:{}},c)}function c(a){return g[a]}function h(a,c,d){var e=g[a],f=b("ComposerXSessionIDs").getSessionID(a);if(e===null||e===void 0||f===null||f===void 0)return!1;if(b("PagesComposerContextUtils").getIsDraftComposer(b("ComposerStructuredLoggerUtil").getEntryPoint(a))&&!Object.values(b("PagesComposerDraftPostEditJSEvents")).includes(d))return!1;a=b("ReactComposerLoggingStore").getComposerData(a);if(a.uniqueEvents.has(d)){if(a.uniqueEvents.get(d))return!1;a.uniqueEvents=a.uniqueEvents.set(d,!0)}if(c){e.loggedEventTypes[f]||(e.loggedEventTypes[f]={});if(e.loggedEventTypes[f][d])return!1;e.loggedEventTypes[f][d]=!0}return!0}function d(a,c){h(a,!0,c)&&b("ComposerInitFalcoEvent").log(function(){return s(a)})}function i(a,c){h(a,!0,c)&&b("ComposerEntryFalcoEvent").log(function(){return s(a)})}function j(a,c){h(a,!0,c)&&b("ComposerFocusAcquiredFalcoEvent").log(function(){return s(a)})}function k(a,c){h(a,!0,c)&&b("ComposerFocusLostFalcoEvent").log(function(){return s(a)})}function l(a,c){h(a,!0,c)&&b("ComposerPostFalcoEvent").log(function(){return s(a)})}function m(a,c){h(a,!0,c)&&b("ComposerPostSuccessFalcoEvent").log(function(){return s(a)})}function n(a,c){h(a,!0,c)&&b("ComposerPostFailureFalcoEvent").log(function(){return s(a)})}function o(a,c){h(a,!0,c)&&b("ComposerCancelFalcoEvent").log(function(){return s(a)})}function p(a,b){b==="composer_post"?q(a,b):b==="composer_entry"&&r(a,b)}function q(a,c){if(h(a,!0,c)){var d=babelHelpers["extends"]({},b("ComposerStructuredLoggerUtil").getDraftPostEditLoggingBaseData(a),{event_data:{is_sprouts_composer:1,post_action_type:b("ComposerStructuredLoggerUtil").getPostActionType(a),post_id:b("ReactComposerAutoSavingStore").getDraftID(a)}});if(c==="composer_post"&&d.post_id===null)return;b("PagesComposerDraftPostEditSubmitFlowFalcoEvent").log(function(){return d})}}function e(a,c){b("PagesComposerContextUtils").getIsDraftComposer(b("ComposerStructuredLoggerUtil").getEntryPoint(a))?p(a,c):c==="composer_entry"?i(a,c):c==="composer_cancel"?o(a,c):c==="composer_post"?l(a,c):c==="composer_focus_acquired"?j(a,c):c==="composer_focus_lost"?k(a,c):c==="composer_post_success"?m(a,c):c==="composer_post_failure"&&n(a,c)}function r(a,c){if(h(a,!0,c)){var d=babelHelpers["extends"]({},b("ComposerStructuredLoggerUtil").getDraftPostEditLoggingBaseData(a),{event_data:{is_sprouts_composer:1,post_id:b("ReactComposerAutoSavingStore").getDraftID(a)}});if(c==="composer_entry"&&d.post_id===null)return;b("PagesComposerDraftPostEditEnterFlowFalcoEvent").log(function(){return d})}}function s(a){return babelHelpers["extends"]({},b("ComposerStructuredLoggerUtil").getLoggingBaseData(a),{event_data:babelHelpers["extends"]({},b("ComposerStructuredLoggerUtil").getLoggingEventData(a))})}}),null);
__d("ComposerStructuredLoggerUtil",["ComposerStructuredLogger","ComposerXSessionIDs","PagesComposerContextUtils","PagesComposerLoggingUtils","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","ReactPagesComposerLoggingUtils","gkx","ifRequired"],(function(a,b,c,d,e,f){"use strict";f.getLoggingBaseData=a;f.getWaterfallSessionID=g;f.getDraftPostEditLoggingBaseData=c;f.getLoggingEventData=d;f.getTargetType=h;f.getTargetID=i;f.getActorType=j;f.getActorID=k;f.getEntryPoint=l;f.getComposerLocation=m;f.getIsEditComposer=n;f.getComposerType=o;f.getSelectedDestinations=p;f.getPostActionType=q;f.shouldUseFalco=e;f.getDestinationsData=r;function a(a){return{actor_id:k(a),actor_type:j(a),target_id:i(a),target_type:h(a),is_edit_composer:n(a),entry_point:l(a),composer_source_surface:m(a),referrer:null,composer_type:o(a),is_visual_composer:null,camera_post_source:null,creation_session_id:g(a)}}function g(a){return b("ComposerXSessionIDs").getSessionID(a)}function c(a){var c;c=(c=b("PagesComposerLoggingUtils").mapToComposerLoggingEntryPoint(l(a)))!=null?c:"unknown";return{event_location:b("PagesComposerLoggingUtils").getComposerLocationFromEntryPoint(c),actor_id:k(a),actor_type:j(a),target_id:i(a),target_type:h(a),composer_layout:"unknown",flow:"draft",entry_point:c,referrer:null,waterfall_session_id:g(a)}}function d(a){var c=b("ReactComposerStore").getComposerData(a);c=c.destinationsConfig;var d=[],e=[],f=c&&c.isSharesheetEnabled;f?(d.push("TIMELINE"),e.push("TIMELINE"),c.showStorySection&&(d.push("STORIES"),e.push("STORIES")),c.showInstagramSection&&(d.push("INSTAGRAM"),(!c.instagram||!c.instagram.isEnabled)&&e.push("INSTAGRAM")),c.showGroupSection&&(d.push("GROUPS"),e.push("GROUPS"))):(d.push("NONE"),e.push("NONE"));c=null;var g=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(g!==null&&g!==void 0&&g===b("ReactComposerAttachmentType").CTA){g=b("ReactComposerAttachmentStore").getAttachment(a,g);g!==null&&g!==void 0&&(c=g.ctaType)}return{visible_sprouts:b("ReactComposerStore").getDisplayedSprouts(a),visible_destinations:d,eligible_destinations:e,selected_sprouts:b("ReactPagesComposerLoggingUtils").getSelectedSprouts(a),selected_destinations:p(a),post_text:b("ReactComposerStatusStore").getMessageText(a),post_text_length:b("ReactComposerStatusStore").getTextLength(a),post_privacy:b("ReactComposerAudienceStore").getAudience(a)||"unknown",feed_targeting:null,photo_count:b("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a),video_count:b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO),has_shared_link:b("ReactComposerScrapedAttachmentStore").hasAttachment(a)?1:0,call_to_action:c,ranker_request_id:b("ReactComposerStore").getRankerRequestID(a),is_markdown_enabled:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown?1:0,is_sharesheet_enabled:f?1:0,post_action_type:q(a)}}function h(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"other":a.targetType||"other"}function i(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"-1":a.targetID||"-1"}function j(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"other":a.actorType||"user"}function k(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"-1":a.actorID||"-1"}function l(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"unknown":a.ref}function m(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"unknown":a.composerSourceSurface}function n(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?"0":a.isEditComposer}function o(a){a=b("ComposerStructuredLogger").getInstance(a);return a===null||a===void 0?null:a.composerType}function p(a){var c=r(a);a=b("ReactComposerStore").getComposerData(a);a=a.destinationsConfig;var d=[];a&&a.isSharesheetEnabled?(c.is_news_feed_selected&&d.push("TIMELINE"),c.is_instagram_selected&&d.push("INSTAGRAM"),c.is_my_story_selected&&d.push("STORIES")):d.push("NONE");return d}function q(a){var c="publish";b("ifRequired")("ReactComposerPagesStore",function(d){d=d.getPostActionType(a);switch(d){case"PUBLISH":c="publish";break;case"SAVE_DRAFT":b("PagesComposerContextUtils").getIsDraftComposer(l(a))?c="update_draft":c="save_draft";break;case"SCHEDULE":c="schedule";break;case"BACKDATE":c="backdate";break;case"ADS_POST":c="ads_post";break;default:c="unknown";break}});return c}function e(a,c){if(b("PagesComposerContextUtils").getIsDraftComposer(l(a)))return!0;return!b("gkx")("976757")?!1:["composer_entry","composer_cancel","composer_post","composer_focus_acquired","composer_focus_lost","composer_post_success","composer_post_failure"].includes(c)}function r(a){var c;return{is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a),is_my_story_selected:(c=b("ReactComposerAudienceStore")).getStoriesSelected(a),is_ads_pe_post_selected:c.getAdsPePostSelected(a),is_news_feed_selected:c.getTimelineSelected(a),is_instagram_selected:c.getInstagramSelected(a)}}}),null);
__d("ReactComposerPagesStore",["AsyncRequest","ComposerXSessionIDs","PagesComposerActionsTypes","PagesComposerUnpublishedPostsStore","PagesNuxFrameworkHelper","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerFocusActionTypes","ReactComposerMediaConfig","ReactComposerPostUtils","ReactComposerTaggerType","dotAccess","formatDate","isEmpty"],(function(a,b,c,d,e,f){"use strict";var g,h="/ajax/react_composer/survey",i=682215755305624,j={instagramCrossPosting:!1,isDialogComposer:!1,isOfferUpsellShown:!1,isOfferUpsellAbandoned:!1,currentLocale:null,interceptionConfig:[],composerContextConfig:null,composerConfig:null,composerType:null},k=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;return c=a.call(this,function(){return Object.assign({},j)},function(a){switch(a.type){case b("PagesComposerActionsTypes").INSTAGRAM_CROSS_POSTING:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore1(a);break;case b("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore2(a);break;case b("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore3(a);break;case b("PagesComposerActionsTypes").SET_CURRENT_LOCALE:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore4(a);break;case b("PagesComposerActionsTypes").SET_INTERCEPTION_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore5(a);break;case b("PagesComposerActionsTypes").SET_PAGES_COMPOSER_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore6(a);break;case b("PagesComposerActionsTypes").SET_PAGES_COMPOSER_CONTEXT_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore7(a);break;case b("PagesComposerActionsTypes").SET_COMPOSER_TYPE:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore8(a);break;case b("ReactComposerActionTypes").EXPAND_SPROUTS:case b("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:k||(b("PagesNuxFrameworkHelper").setCurrentSurface("page_composer"),k=!0);break;case b("PagesComposerActionsTypes").SET_IS_RUNNING_INTERCEPTION:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore9(a);break;case b("PagesComposerActionsTypes").SET_IS_DIALOG_COMPOSER:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerPagesStore10(a);break}})||this}var d=c.prototype;d.$ReactComposerPagesStore9=function(a){a=this.validateAction(a,["composerID","isRunningInterception"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isRunningInterception=a;this.emitChange(b)};d.isRunningInterception=function(a){return!!this.getComposerData(a).isRunningInterception};d.getIsOfferUpsellShown=function(a){return this.getComposerData(a).isOfferUpsellShown};d.getCurrentLocale=function(a){return this.getComposerData(a).currentLocale};d.getInterceptionConfig=function(a){return this.getComposerData(a).interceptionConfig};d.getPagesComposerConfig=function(a){a=this.getComposerData(a).pagesComposerConfig;return!a||(g||(g=b("isEmpty")))(a)?null:a};d.getPagesComposerContextConfig=function(a){a=this.getComposerData(a).pagesComposerContextConfig;return!a||(g||(g=b("isEmpty")))(a)?null:a};d.getTargetID=function(a){a=this.getPagesComposerContextConfig(a);return!a?null:a.targetID};d.getComposerEntryPoint=function(a){return this.getComposerData(a).composerType};d.getIsOfferUpsellAbandoned=function(a){return this.getComposerData(a).isOfferUpsellAbandoned};d.getPostActionType=function(a){return b("PagesComposerUnpublishedPostsStore").getPostActionType(a)};d.getIsDialogComposer=function(a){return this.getComposerData(a).isDialogComposer};d.__onPostStarted=function(a){var c=Object.assign({},a.config);c.contextInfo=Object.assign({},c.contextInfo||{});var d=b("PagesComposerUnpublishedPostsStore").getIsPreview(a.composerID);if(!d){d=b("PagesComposerUnpublishedPostsStore").getIsDraft(a.composerID);c.contextInfo.draft=d;d=b("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(a.composerID);if(d){var e=b("formatDate")(d,"m/d/Y",{skipPatternLocalization:!0}),f=60*(60*d.getHours()+d.getMinutes());c.contextInfo.scheduled=!0;c.contextInfo.future_date=e;c.contextInfo.future_time=f;c.contextInfo.scheduled_publish_time=Math.round(d.getTime()/1e3)}e=b("PagesComposerUnpublishedPostsStore").getBackdateConfig(a.composerID);e&&(c.contextInfo.backdated_date={year:e.year,month:e.month,day:e.day},c.contextInfo.hide_from_newsfeed=e.hideFromNewsFeed);f=b("PagesComposerUnpublishedPostsStore").getIsAdsPost(a.composerID);f&&(c.contextInfo.is_ad_post=!0);d=b("PagesComposerUnpublishedPostsStore").getIsReviewableBrandedContent(a.composerID);d&&(c.contextInfo.is_reviewable_branded_content=!0);e=this.getComposerData(a.composerID).instagramCrossPosting;e&&(c.contextInfo.instagramCrossPosting=!0)}else c.contextInfo.is_preview=!0;c.contextInfo.is_dialog_composer=this.getComposerData(a.composerID).isDialogComposer;f=a.config.taggersConfig?a.config.taggersConfig[b("ReactComposerTaggerType").TARGETING]:null;d=f?b("dotAccess")(f,"feedTargetingGK"):!1;e=a.config.loggingConfig?a.config.loggingConfig.targetType:null;b("ReactComposerPostUtils").post({actorID:a.actorID,composerConfig:c,composerID:a.composerID,composerType:a.composerType,targetID:a.targetID,targetType:e,onPostSuccess:a.onPostSuccess,onPostFailure:a.onPostFailure,useHints:d})};d.__onPostSucceeded=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.isOfferUpsellShown&&c.isOfferUpsellAbandoned&&new(b("AsyncRequest"))().setURI(h).setData({config_id:i,session_id:b("ComposerXSessionIDs").getSessionID(a),composer_id:a}).send()};d.__canPost=function(a){return!b("ReactComposerPostUtils").isPostButtonDisabled(a.composerID,b("ReactComposerMediaConfig").photo.limit)};d.$ReactComposerPagesStore1=function(a){var b=this.getComposerData(a.composerID);b.instagramCrossPosting=a.enabled};d.$ReactComposerPagesStore2=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a[1];a=this.getComposerData(b);a.isOfferUpsellShown=!0};d.$ReactComposerPagesStore3=function(a){a=this.getComposerData(a.composerID);a.isOfferUpsellAbandoned=!0};d.$ReactComposerPagesStore4=function(a){var b=this.getComposerData(a.composerID);b.currentLocale=a.currentLocale};d.$ReactComposerPagesStore6=function(a){a=this.validateAction(a,["composerID","pagesComposerConfig"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.pagesComposerConfig=a;this.emitChange(b)};d.$ReactComposerPagesStore7=function(a){a=this.validateAction(a,["composerID","pagesComposerContextConfig"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.pagesComposerContextConfig=a;this.emitChange(b)};d.$ReactComposerPagesStore5=function(a){var b=this.getComposerData(a.composerID);b.interceptionConfig=a.interceptionConfig};d.$ReactComposerPagesStore8=function(a){var b=this.getComposerData(a.composerID);b.composerType=a.composerType};d.$ReactComposerPagesStore10=function(a){var b=this.getComposerData(a.composerID);b.isDialogComposer=a.isDialogComposer};return c}(b("ReactComposerActionStore"));c=new a();e.exports=c}),null);
__d("ReactComposerCTAActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({ADD_OPTION:null,ALLOW_MULTI_MEDIA:null,SET_CTA_CONFIG:null,HAS_PHOTO_FOR_ENTPOST:null,HAS_PHOTO:null,NEEDS_PHOTO:null,HAS_VIDEO:null,NEEDS_VIDEO:null,USING_PREMADE_POST_VIDEO:null,SWITCH_CTA:null,FETCH_CTA_DATA:null},"ReactComposerCTAActionType");e.exports=a}),null);
__d("ReactComposerCTAStore",["ActorURI","AsyncRequest","DOM","ReactComposerAttachmentActionType","ReactComposerCTAActionType","ReactComposerEvents","ReactComposerStoreBase","XReactComposerCTAAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{ctaType:"",ctaValues:{},hasPhoto:b("ReactComposerCTAActionType").NEEDS_PHOTO}},function(a){switch(a.type){case b("ReactComposerCTAActionType").FETCH_CTA_DATA:d&&d.$ReactComposerCTAStore1(a);break;case b("ReactComposerCTAActionType").SET_CTA_CONFIG:d&&d.$ReactComposerCTAStore2(a);break;case b("ReactComposerCTAActionType").SWITCH_CTA:d&&d.$ReactComposerCTAStore3(a);break;case b("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA:d&&d.$ReactComposerCTAStore4(a);break;case b("ReactComposerCTAActionType").HAS_PHOTO:d&&d.$ReactComposerCTAStore5(a);break;case b("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST:d&&d.$ReactComposerCTAStore6(a);break;case b("ReactComposerCTAActionType").NEEDS_PHOTO:d&&d.$ReactComposerCTAStore7(a);break;case b("ReactComposerCTAActionType").HAS_VIDEO:d&&d.$ReactComposerCTAStore8(a);break;case b("ReactComposerCTAActionType").NEEDS_VIDEO:d&&d.$ReactComposerCTAStore9(a);break;case b("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO:d&&d.$ReactComposerCTAStore10(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerCTAStore11(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerCTAStore1=function(a){a=this.validateAction(a,["composerID","selectedCta","actorID","targetID","composerType","attachmentID"]);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4];a=a[5];g=b("XReactComposerCTAAttachmentBootstrapController").getURIBuilder().setString("composer_id",c).setEnum("composer_type",g).setInt("target_id",f).setString("cta_type",d).setString("attachment_id",a);f=b("ActorURI").create(g.getURI(),e);d=new(b("AsyncRequest"))(f);d.send();this.emitChange(c)};d.$ReactComposerCTAStore11=function(a){var b=this.getComposerData(a.composerID);if(a.id===b.sourceAttachment||b.sourceAttachment===null||a.proxiedAttachmentID===b.sourceAttachment)return;b.ctaType=null;b.ctaValues=null;b.ctaMarkup=null;b.ctaAttachmentConfig=null;this.emitChange(a.composerID)};d.$ReactComposerCTAStore4=function(a){var b=this.getComposerData(a.composerID);b.allowMultiMedia=a.allowMultiMedia;this.emitChange(a.composerID)};d.$ReactComposerCTAStore5=function(a){var c=this.getComposerData(a.composerID);c.hasPhoto=b("ReactComposerCTAActionType").HAS_PHOTO;c.hasCTAVideo=!1;c.videoID=null;c.photoID=null;this.emitChange(a.composerID)};d.$ReactComposerCTAStore6=function(a){var c=this.getComposerData(a.composerID);c.hasPhoto=b("ReactComposerCTAActionType").HAS_PHOTO;c.photoID=a.photoID;c.hasCTAVideo=!1;c.videoID=null;this.emitChange(a.composerID)};d.$ReactComposerCTAStore7=function(a){var c=this.getComposerData(a.composerID);c.hasPhoto=b("ReactComposerCTAActionType").NEEDS_PHOTO;this.emitChange(a.composerID)};d.$ReactComposerCTAStore8=function(a){var c=this.getComposerData(a.composerID);c.hasCTAVideo=b("ReactComposerCTAActionType").HAS_VIDEO;c.videoID=a.videoID;c.hasPhoto=!1;c.photoID=null;this.emitChange(a.composerID)};d.$ReactComposerCTAStore9=function(a){var c=this.getComposerData(a.composerID);c.hasCTAVideo=b("ReactComposerCTAActionType").NEEDS_VIDEO;this.emitChange(a.composerID)};d.$ReactComposerCTAStore10=function(a){var c=this.getComposerData(a.composerID);c.usingPremadePostVideo=b("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO;this.emitChange(a.composerID)};d.removeListeners=function(){this.removeAllListeners(b("ReactComposerEvents").CHANGE)};d.allowMultiMedia=function(a){return this.getComposerData(a).allowMultiMedia===!0};d.hasCTAPhotoID=function(a){return this.getComposerData(a).photoID!==null};d.hasCTAPhoto=function(a){return this.getComposerData(a).hasPhoto===b("ReactComposerCTAActionType").HAS_PHOTO};d.hasCTAVideo=function(a){return this.getComposerData(a).hasCTAVideo===b("ReactComposerCTAActionType").HAS_VIDEO};d.isUsingPremadePostVideo=function(a){return this.getComposerData(a).usingPremadePostVideo===b("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};d.getCTAType=function(a){return this.getComposerData(a).ctaType};d.getCTAData=function(a){return{type:this.getComposerData(a).ctaType,value:this.getComposerData(a).ctaValues}};d.getCTAMarkup=function(a){return this.getComposerData(a).ctaMarkup};d.getVideoID=function(a){a=this.getComposerData(a);return a.videoID};d.getAttachmentConfig=function(a){var c=this.getComposerData(a);if(!c.ctaMarkup)return null;var d=c.ctaMarkup,e=c.ctaAttachmentConfig;this.allowMultiMedia(a)&&(e.params.allowMultiMedia=c.allowMultiMedia);if(this.hasCTAVideo(a))e.videoID=c.videoID,e.usingPremadePostVideo=this.isUsingPremadePostVideo(a);else if(this.hasCTAPhotoID(a))e.photoID=c.photoID;else{a=b("DOM").scry(d,'input[name="attachment[params][images][0]"]').pop();c=b("DOM").scry(d,'input[name="attachment[params][title]"]').pop();d=b("DOM").scry(d,'input[name="attachment[params][summary]"]').pop();a&&(e.params.images||(e.params.images=[]),e.params.images[0]=a.value);c&&(e.params.title=c.value);d&&(e.params.summary=d.value)}return e};d.$ReactComposerCTAStore2=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.ctaType=a.ctaType;c.ctaValues=a.ctaValues;c.ctaMarkup=a.markup;c.ctaAttachmentConfig=a.attachmentConfig;this.emitChange(b)};d.$ReactComposerCTAStore3=function(a){a=this.validateAction(a,["composerID","customizedMessageCta"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.ctaValues.customized_message_page_cta_text=a;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactPagesComposerLoggingUtils",["BanzaiODS","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerCTAStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";f.getSelectedSprouts=a;function a(a){var c=[],d=b("ReactComposerStore").getDisplayedSprouts(a);if(d)for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;g(a,h)&&c.push(h)}return c}function g(a,c){switch(c){case"FUNDRAISER":return i(a);case"GET_BOOKINGS":return j(a);case"GET_DIRECTIONS":return k(a);case"GET_MESSAGES":return l(a);case"GET_PHONE_CALLS":return m(a);case"GET_SHOPS":return n(a);case"LIST":return o(a);case"LOCATION":return p(a);case"MEDIA":return r(a);case"MINUTIAE":return s(a);case"SPONSOR_TAG":return t(a);case"BC_SUPPORT":return u(a);case"TAG_PRODUCT":return v(a);case"VISUAL_POLLS":return w(a);case"SUPPORT_NOW":return h(a);case"LOCAL_DEV_PLATFORM":return x(a);case"GET_TICKET":return q(a)}b("BanzaiODS").bumpEntityKey(2966,"page_selected_feature_unsupported_sprout",c);return!1}function h(a){return b("ReactComposerTaggerStore").hasSupportNowCTA(a)}function i(a){return b("ReactComposerTaggerStore").hasNonprofit(a)}function j(a){a=b("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="BOOK_TRAVEL"}function k(a){a=b("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="GET_DIRECTIONS"}function l(a){a=b("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="MESSAGE_PAGE"}function m(a){a=b("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="CALL_NOW"}function n(a){a=b("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="SHOP_NOW"}function o(a){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIST)}function p(a){return b("ReactComposerTaggerStore").hasLocationTag(a)}function q(a){return b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").GET_SHOWTIMES)}function r(a){var c=b("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a);a=b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO);return c>0||a>0}function s(a){return b("ReactComposerTaggerStore").hasMinutiae(a)}function t(a){a=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SPONSOR);return!!a.sponsors&&a.sponsors.length>0}function u(a){a=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").BC_SUPPORT);return!!a.sponsors&&a.sponsors.length>0}function v(a){return b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT).length>0}function w(a){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL)}function x(a){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM)}}),null);
__d("PagesComposerComposerImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_composer_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerConsolidatedEntryClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_consolidated_entry_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftPostEnterFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_post_enter_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftPostSubmitFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_post_submit_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftReminderCardImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_reminder_card_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerDraftReminderUnitImpressionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_draft_reminder_unit_impression");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerFooterSettingButtonClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_footer_setting_button_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerPreviewButtonClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_preview_button_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerSchedulePostEnterFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_schedule_post_enter_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerSchedulePostSubmitFlowFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","pages_composer_schedule_post_submit_flow");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("PagesComposerLoggingUtils",["ComposerLoggingEntryPointType","ComposerStructuredLogger","ComposerStructuredLoggerUtil","ComposerTargetType","ComposerXSessionIDs","PageContentTabConstants","PagesComposerComposerImpressionFalcoEvent","PagesComposerConsolidatedEntryClickFalcoEvent","PagesComposerContextUtils","PagesComposerDraftPostEnterFlowFalcoEvent","PagesComposerDraftPostSubmitFlowFalcoEvent","PagesComposerDraftReminderCardImpressionFalcoEvent","PagesComposerDraftReminderUnitImpressionFalcoEvent","PagesComposerFooterSettingButtonClickFalcoEvent","PagesComposerPreviewButtonClickFalcoEvent","PagesComposerSchedulePostEnterFlowFalcoEvent","PagesComposerSchedulePostSubmitFlowFalcoEvent"],(function(a,b,c,d,e,f){"use strict";f.logComposerImpression=a;f.logConsolidatedEntryButtonClick=c;f.logFooterSettingButtonClick=d;f.logPageContentTabPostDetailsEnterFlow=e;f.logPageContentTabPostDetailsSubmitFlow=i;f.logPreviewButtonClick=j;f.logDraftReminderUnitImpression=k;f.logDraftReminderCardImpression=l;f.getComposerLoggingPostActionTypeForAction=p;f.getPageContentTabLoggingBaseData=q;var g=b("PageContentTabConstants").ACTIONS,h=b("PageContentTabConstants").TABS;function a(a,c,d,e,f){if(b("PagesComposerContextUtils").getIsDraftComposer(e))return;var g=(e=n(e))!=null?e:"unknown",h=(e=m(d))!=null?e:"other";h==="wall"&&(h="page");b("PagesComposerComposerImpressionFalcoEvent").log(function(){return{event_location:o(g),actor_id:a,actor_type:a===f?"page":"user",target_id:f,target_type:h,flow:"create",entry_point:g,composer_layout:"unknown",referrer:null,waterfall_session_id:b("ComposerXSessionIDs").getSessionID(c),event_data:b("ComposerStructuredLoggerUtil").getLoggingEventData(c)}})}function c(a,c){b("PagesComposerConsolidatedEntryClickFalcoEvent").log(function(){return{event_location:"page__home_tab",actor_id:a,actor_type:"page",target_id:a,target_type:"page",entry_point:"pages_feed",composer_layout:null,referrer:null,waterfall_session_id:null,event_data:{feature_type:c}}})}function d(a,c){b("ComposerStructuredLogger").shouldLogEvent(c,!0,"footer_setting_button")&&b("PagesComposerFooterSettingButtonClickFalcoEvent").log(function(){return{event_location:"page__home_tab",actor_id:a,actor_type:"page",target_id:a,target_type:"page",entry_point:"pages_feed",composer_layout:null,referrer:null,waterfall_session_id:null,event_data:{}}})}function e(a,c,d,e,f){f===void 0&&(f="unknown");d={post_ids:[d]};var g=babelHelpers["extends"]({},q(a,c,e,f),{event_data:d});e===h.DRAFTS?b("PagesComposerDraftPostEnterFlowFalcoEvent").log(function(){return g}):e===h.SCHEDULED_POSTS&&b("PagesComposerSchedulePostEnterFlowFalcoEvent").log(function(){return g})}function i(a,c,d,e,f,g){g===void 0&&(g="unknown");d={post_ids:e,post_action_type:p(d),is_bulk_submit:e.length>1?1:0};var i=babelHelpers["extends"]({},q(a,c,f,g),{event_data:d});f===h.DRAFTS?b("PagesComposerDraftPostSubmitFlowFalcoEvent").log(function(){return i}):f===h.SCHEDULED_POSTS&&b("PagesComposerSchedulePostSubmitFlowFalcoEvent").log(function(){return i})}function j(a,c,d){var e=(d=n(d))!=null?d:"unknown";b("PagesComposerPreviewButtonClickFalcoEvent").log(function(){return{event_location:o(e),actor_id:a,actor_type:"page",target_id:a,target_type:"page",flow:b("ComposerStructuredLoggerUtil").getIsEditComposer(c)?"edit":"create",entry_point:e,composer_layout:null,referrer:null,waterfall_session_id:b("ComposerStructuredLoggerUtil").getWaterfallSessionID(c),event_data:{}}})}function k(a,c){b("PagesComposerDraftReminderUnitImpressionFalcoEvent").log(function(){return{actor_id:c,actor_type:"page",composer_layout:"unknown",entry_point:"page_admin_draft_unit",event_data:{},event_location:"page__home_tab",flow:null,referrer:null,target_id:c,target_type:"page",waterfall_session_id:b("ComposerXSessionIDs").getSessionID(a)}})}function l(a,c,d,e){b("PagesComposerDraftReminderCardImpressionFalcoEvent").log(function(){var f;return{actor_id:d,actor_type:"page",composer_layout:"unknown",entry_point:"page_admin_draft_unit",event_data:{position:e},event_location:o((f=n(c))!=null?f:"unknown"),flow:null,referrer:null,target_id:d,target_type:"page",waterfall_session_id:b("ComposerXSessionIDs").getSessionID(a)}})}var m=function(a){if(a===null)return null;for(var c in b("ComposerTargetType")){var d=b("ComposerTargetType")[c];if(d===a)return d}return null};f.mapToComposerTargetType=m;var n=function(a){if(a===null)return null;if(a==="page_content_tab_draft_edit")return"publishing_tools_tab_draft_posts";else if(a==="pages_draft_post_reminders")return"page_admin_draft_unit";else if(a==="pages_posts")return"pages_post";for(var c in b("ComposerLoggingEntryPointType")){var d=b("ComposerLoggingEntryPointType")[c];if(d===a)return d}return null};f.mapToComposerLoggingEntryPoint=n;var o=function(a){switch(a){case"pages_feed":return"page__home_tab";case"pages_post":return"page__post_tab";case"publishing_tools_tab_published_posts":return"page__publishing_tools";case"publishing_tools_tab_scheduled_posts":return"page__publishing_tools";case"publishing_tools_tab_draft_posts":return"page__publishing_tools";case"pages_profile_pic_add_story":return"page__home_tab";case"timeline":return"newsfeed";case"unknown":return"unknown";default:return"unknown"}};f.getComposerLocationFromEntryPoint=o;function p(a){switch(a){case g.EDIT:return"edit";case g.SCHEDULE:return"schedule";case g.BACKDATE:return"backdate";case g.PUBLISH:return"publish";case g.DELETE:return"delete";case g.RESCHEDULE:return"reschedule";case g.UNSCHEDULE:return"unschedule";default:return"unknown"}}function q(a,b,c,d){d===void 0&&(d="unknown");var e="unknown";b==="ADS_PE"?e="power_editor":b==="PAGES_MANAGER"&&(e="page__publishing_tools");b="unknown";c===h.DRAFTS?b="draft":c===h.SCHEDULED_POSTS&&(b="schedule");return{event_location:e,actor_id:a,actor_type:"page",target_id:a,target_type:"page",flow:b,entry_point:d,composer_layout:"unknown",referrer:null,waterfall_session_id:null}}}),null);
__d("PagesComposerUtils",["Arbiter","AsyncRequest","ComposerXMarauderLogger","ReactComposerAudienceActions","ReactComposerFocusActions","XPagesProfilePostsController","XPagesSharingAdminPreferenceController","goURI"],(function(a,b,c,d,e,f){"use strict";f.focusComposer=a;f.saveAdminComposerPreferences=c;f.shouldUsePageDefaultDestination=d;f.redirectOnPostSuccess=e;f.logVideoUploadFunnelEvents=g;function a(a,c,d){if(a===null||a===void 0||a==="")return;b("Arbiter").inform("ReactFeedComposerXBootloader/focuscomposer/"+a);b("ReactComposerFocusActions").notifyFocusAcquired(a);b("ReactComposerAudienceActions").setStoriesSelected(a,c);b("ReactComposerAudienceActions").setTimelineSelected(a,d)}function c(a,c){a=b("XPagesSharingAdminPreferenceController").getURIBuilder().setBool("is_story_channel_selected",a).setBool("is_newsfeed_channel_selected",c).getURI();new(b("AsyncRequest"))(a).send()}function d(a){var b=["ads_pe_post","control","story_top_story_selected"];return b.includes(a)}function e(a,c){if(c==="PUBLISH"){c=b("XPagesProfilePostsController").getURIBuilder().setString("page_token",a).getURI();b("goURI")(c)}}function g(a,c,d){b("ComposerXMarauderLogger").logEvent(c,a,{extraData:(c=d)!=null?c:null})}}),null);
__d("ReactComposerChatroomStore",["ReactComposerChatroomActionsType","ReactComposerStoreBase","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{composerID:null,isDialogShown:!1,emoji:null,groupID:null,roomName:null,shouldAllowAnonymousGuests:!1,startTime:null,videoMeetupID:null,isActive:!1,linkHash:null}},function(a){switch(a.type){case b("ReactComposerChatroomActionsType").SET_DIALOG_SHOWN:d&&d.$ReactComposerChatroomStore1(a);break;case b("ReactComposerChatroomActionsType").SET_EMOJI:d&&d.$ReactComposerChatroomStore2(a);break;case b("ReactComposerChatroomActionsType").SET_ROOM_NAME:d&&d.$ReactComposerChatroomStore3(a);break;case b("ReactComposerChatroomActionsType").SET_START_TIME:d&&d.$ReactComposerChatroomStore4(a);break;case b("ReactComposerChatroomActionsType").SET_ACTIVE_STATE:d&&d.$ReactComposerChatroomStore5(a);break;case b("ReactComposerChatroomActionsType").SET_LINK_HASH:d&&d.$ReactComposerChatroomStore6(a)}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getEmoji=function(a){return this.getComposerData(a).emoji};d.getDialogShown=function(a){return this.getComposerData(a).isDialogShown};d.getRoomName=function(a){return this.getComposerData(a).roomName};d.getShouldAllowAnonymousGuests=function(a){return this.getComposerData(a).shouldAllowAnonymousGuests};d.getStartTime=function(a){return this.getComposerData(a).startTime};d.getChatroomActivated=function(a){return this.getComposerData(a).isActive};d.getLinkHash=function(a){return this.getComposerData(a).linkHash};d.$ReactComposerChatroomStore1=function(a){a=this.validateAction(a,["composerID","isDialogShown"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isDialogShown=a;this.emitChange(b)};d.$ReactComposerChatroomStore2=function(a){a=this.validateAction(a,["composerID","emoji"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.emoji=a;this.emitChange(b)};d.$ReactComposerChatroomStore3=function(a){a=this.validateAction(a,["composerID","roomName"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.roomName=a;this.emitChange(b)};d.$ReactComposerChatroomStore4=function(a){a=this.validateAction(a,["composerID","startTime"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.startTime=a;this.emitChange(b)};d.$ReactComposerChatroomStore5=function(a){a=this.validateAction(a,["composerID","isActive"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.isActive=a;this.emitChange(c);b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(c,"CHATROOM",{hasChatroom:d.isActive})};d.$ReactComposerChatroomStore6=function(a){a=this.validateAction(a,["composerID","linkHash"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.linkHash=a;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerPhotoUploadState",[],(function(a,b,c,d,e,f){a="PHOTO_UPLOAD_ENQUEUED";f.PHOTO_UPLOAD_ENQUEUED=a;b="PHOTO_UPLOAD_RESIZE_STARTED";f.PHOTO_UPLOAD_RESIZE_STARTED=b;c="PHOTO_UPLOAD_RESIZE_DONE";f.PHOTO_UPLOAD_RESIZE_DONE=c;d="PHOTO_UPLOAD_RESIZE_FAILED";f.PHOTO_UPLOAD_RESIZE_FAILED=d;e="PHOTO_UPLOAD_UPLOADING";f.PHOTO_UPLOAD_UPLOADING=e;a="PHOTO_UPLOAD_DONE";f.PHOTO_UPLOAD_DONE=a;b="PHOTO_UPLOAD_FAILED";f.PHOTO_UPLOAD_FAILED=b}),null);
__d("ReactComposerMediaUploadActions",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerPhotoActions","ReactComposerPhotoUploadState","ReactComposerMediaUploadStore","ReactComposerPhotoStore"],(function(a,b,c,d,e,f){f.enqueue=a;f.startResizing=c;f.progressResizing=d;f.doneResizing=e;f.failResizing=g;f.doneSphericalCheck=h;f.failSphericalCheck=i;f.videoMetadataParsed=j;f.saveVideoInPagesComposer=k;f.startUploading=l;f.progressUploading=m;f.isSpherical=n;f.doneUploading=o;f.doneUploadingExtra=p;f.failUploading=q;f.removeAllPhotoUploads=r;f.removePhotoAndPhotoUpload=s;f.removeMediaUpload=t;f.mediaMoved=u;f.resizerUnavailable=v;f.photosSelect=w;f.retryMediaUpload=x;f.reorderMedias=y;f.prefillMedias=z;f.setVideoThumbnail=A;f.addPhotoUpload=B;f.setPhotoThumbnail=C;f.hideVideos=D;f.showVideos=E;b("ReactComposerMediaUploadStore");b("ReactComposerPhotoStore");function a(c,d,e,f,g,h,i,j,a){j===void 0&&(j=[]),a===void 0&&(a=!1),b("ReactComposerDispatcher").dispatch({composerID:c,mediaType:h,uploadID:d,type:g,filename:e,fileURL:i?i:"",index:f,xyTags:j,isSpherical:a})}function c(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:c,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED})}function d(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,uploadID:c,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS,progress:d})}function e(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:c,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE})}function g(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:c,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED})}function h(a,c,d,e,f){b("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:c,type:b("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:e,useLocalSphericalImage:f})}function i(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:c,type:b("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED})}function j(a,c,d){b("ReactComposerDispatcher").dispatch({type:b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED,composerID:a,uploadID:c,metadata:d})}function k(c,d,e,f,g,h,i,j,k,a){k===void 0&&(k=[]),a===void 0&&(a=!1),b("ReactComposerDispatcher").dispatch({composerID:c,videoID:d,uploadID:e,filename:f,videoMetadata:g,index:h,type:b("ReactComposerMediaUploadActionType").SAVE_VIDEO_IN_PAGES_COMPOSER,mediaType:i,fileURL:j?j:"",xyTags:k,isSpherical:a})}function l(a,c,d,e){b("ReactComposerDispatcher").dispatch({composerID:a,uploadID:c,type:e,fileUpload:d})}function m(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,uploadID:c,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS,progress:d,use_real_progress_percentage:e,use_progress_linearity:f,use_progress_transform_x:g})}function n(c,d,a,e){b("ReactComposerDispatcher").dispatch({composerID:c,uploadID:d,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:a,projectionType:e})}function o(a){b("ReactComposerDispatcher").dispatch(a)}function p(c,d,e,f,a,g,h,i){b("ReactComposerDispatcher").dispatch({type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE,composerID:c,uploadID:d,photoID:e,thumbSrc:f,isSpherical:a,imageSrc:g,width:h,height:i})}function q(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,uploadID:c,type:g,error:f,fileUpload:d,timeToUpload:e})}function r(a,b){var c=this;b.forEach(function(b){return c.removePhotoAndPhotoUpload(a,b)})}function s(a,c){c.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE?b("ReactComposerPhotoActions").removePhoto(a,c.photoID,c.id):this.removeMediaUpload(a,c.id)}function t(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE,uploadID:c})}function u(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED,from:c,to:d})}function v(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE})}function w(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,method:d,numPhotos:c,type:b("ReactComposerMediaUploadActionType").PHOTOS_SELECT})}function x(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:c})}function y(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,mediaIDs:c,type:b("ReactComposerMediaUploadActionType").REORDER_MEDIAS})}function z(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,medias:c,type:b("ReactComposerMediaUploadActionType").PREFILL_MEDIAS})}function A(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL,thumbSrc:d,uploadID:c})}function B(a,c,d,e){b("ReactComposerDispatcher").dispatch({type:b("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD,composerID:a,index:c,photo:e,upload:d})}function C(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL,thumbSrc:d,uploadID:c})}function D(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN})}function E(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").VIDEOS_SHOWN})}}),null);
__d("ReactComposerPhotoUpload",["immutable"],(function(a,b,c,d,e,f){a=b("immutable").Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,useRealProgressPercentage:!1,useProgressLinearity:null,useProgressTransformX:null,state:null,thumbSrc:null,width:null,xyTags:[],videoMetadata:null,stickyUploadItemID:null,canShowSphericalSingletonNux:!1,flatPhotoID:null,sphericalImage:null,isSpherical:!1,isSphericalVideo:!1,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:!1,isFromPrefill:!1,holidayCardID:null});e.exports=a}),null);
__d("StickyUploadBootloader",["Promise","Bootloader","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.loadAPI=a;f.hasStartedLoadingAPI=c;f.getAPI=d;var g=null,h=null;function a(a){g||(g=new(b("Promise"))(function(a){return b("Bootloader").loadModules(["StickyUploadAPI"],function(b){h=b,a(b)},"StickyUploadBootloader")})),a&&b("promiseDone")(g.then(a))}function c(){return!!g}function d(){return h}}),null);
__d("VideoComposerDispatchers",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";f.createNewDispatcher=a;f.get=c;f.clearAll=d;var g="DEFAULT_INSTANCE";f.DEFAULT_VIDEO_COMPOSER_ID=g;var h={};function a(a){if(h[a]!=null)return h[a];var c=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0});h[a]=c;return c}function c(a){a=a!=null&&a.trim()!==""?a:g;if(!h[a])throw new Error("Dispatcher not found for video composer ID: "+a);return h[a]}function d(){h={}}a(g)}),null);
__d("ReactComposerMediaUploadStore",["invariant","PhotoEditorSaveStates","ReactComposerAttachmentStore","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerPhotoUpload","ReactComposerPhotoUploadState","ReactComposerStoreBase","ReactComposerVideoXUploader","StickyUploadBootloader","VideoComposerDispatchers","ifRequired","immutable"],(function(a,b,c,d,e,f,g){var h={};for(var i in b("ReactComposerMediaUploadActionType"))Object.prototype.hasOwnProperty.call(b("ReactComposerMediaUploadActionType"),i)&&(h[b("ReactComposerMediaUploadActionType")[i]]=b("ReactComposerMediaUploadActionType")[i]);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{removedIDs:b("immutable").Set(),uploads:b("immutable").List(),uploadsByID:b("immutable").Map(),videoUploader:null,hideVideos:!1,stickyUploadCollectionID:null}},function(a){if(d&&d.$ReactComposerMediaUploadStore1(a))return;switch(a.type){case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:d&&d.$ReactComposerMediaUploadStore2(a);break;case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED:d&&d.$ReactComposerMediaUploadStore3(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:d&&d.$ReactComposerMediaUploadStore4(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS:d&&d.$ReactComposerMediaUploadStore5(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:d&&d.$ReactComposerMediaUploadStore6(a,b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_DONE);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:d&&d.$ReactComposerMediaUploadStore6(a,b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING:d&&d.$ReactComposerMediaUploadStore7(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL:d&&d.$ReactComposerMediaUploadStore8(a);break;case b("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL:case b("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL:d&&d.$ReactComposerMediaUploadStore9(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS:d&&d.$ReactComposerMediaUploadStore5(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE:b("ReactComposerDispatcher").waitFor([b("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerMediaUploadStore10(a);break;case b("ReactComposerMediaUploadActionType").SAVE_VIDEO_IN_PAGES_COMPOSER:d&&d.$ReactComposerMediaUploadStore11(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:b("ReactComposerDispatcher").waitFor([b("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerMediaUploadStore12(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED:d&&d.$ReactComposerMediaUploadStore13(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:case b("ReactComposerPhotoActionType").PHOTO_REMOVE:d&&d.$ReactComposerMediaUploadStore14(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED:d&&d.$ReactComposerMediaUploadStore15(a);break;case b("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:d&&d.$ReactComposerMediaUploadStore16(a);break;case b("ReactComposerMediaUploadActionType").REORDER_MEDIAS:d&&d.$ReactComposerMediaUploadStore17(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:d&&d.$ReactComposerMediaUploadStore18(a);break;case b("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:d&&d.$ReactComposerMediaUploadStore19(a);break;case b("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN:d&&d.$ReactComposerMediaUploadStore20(a);break;case b("ReactComposerMediaUploadActionType").VIDEOS_SHOWN:d&&d.$ReactComposerMediaUploadStore21(a);break;case b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:d&&d.$ReactComposerMediaUploadStore22(a);break;default:}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getMediaUploadExists=function(a,b){a=this.getComposerData(a);return a.uploadsByID.get(b)!==void 0};d.getMediaUpload=function(a,b){return this.$ReactComposerMediaUploadStore23(this.getComposerData(a),b)};d.getUploadIndex=function(a,b){return this.$ReactComposerMediaUploadStore24(this.getComposerData(a),b)};d.getUploads=function(a){var c=this.getComposerData(a);if(c.hideVideos)return c.uploads.filter(function(a){return a.mediaType!==b("ReactComposerMediaUploadType").VIDEO});else return this.getComposerData(a).uploads};d.getPhotos=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){return a.mediaType!==b("ReactComposerMediaUploadType").VIDEO})};d.getVideos=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){return a.mediaType===b("ReactComposerMediaUploadType").VIDEO})};d.getUploadsOfType=function(a,b){a=this.getUploads(a).filter(function(a){return a.mediaType===b});return a};d.getUploadsCount=function(a,b){return!b?this.getComposerData(a).uploads.size:this.getComposerData(a).uploads.filter(function(a){return a.mediaType===b}).size};d.getNonPrefillVideoUploadsCount=function(a){return this.getUploadsOfType(a,b("ReactComposerMediaUploadType").VIDEO).filter(function(a){return!a.isFromPrefill}).size};d.getSphericalPhotoCount=function(a){return this.getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO).filter(function(a){return a.isSpherical}).size};d.getNonsphericalPhotoCount=function(a){return this.getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO).filter(function(a){return!a.isSpherical}).size};d.getHasUploadBeenRemoved=function(a,b){a=this.getComposerData(a);return a.removedIDs.has(b)};d.isUploading=function(a){return this.getUploads(a).some(function(a){return a.state!==b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED&&a.state!==b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&a.state!==b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED})};d.getTotalNumberOfStickersOnPhotos=function(a){var c=0;this.getUploads(a).forEach(function(a){a=a.get("originalPhotoID");a&&(c+=b("PhotoEditorSaveStates").getTotalNumOfStickersOnPhoto(a))});return c};d.getVideoUploader=function(a,c,d){d===void 0&&(d=!1);var e=this.getComposerData(a);if(!e.videoUploader){a=new(b("ReactComposerVideoXUploader"))({composerID:a,uploaderParams:c,isPageAdminVideoUpload:d});e.videoUploader=a}return e.videoUploader};d.$ReactComposerMediaUploadStore2=function(a){a=this.validateAction(a,["composerID","mediaType","uploadID","filename","fileURL","index","xyTags","isSpherical"]);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6];a=a[7];d===b("ReactComposerMediaUploadType").VIDEO&&this.$ReactComposerMediaUploadStore25(c,e,f);this.$ReactComposerMediaUploadStore26(c,h,new(b("ReactComposerPhotoUpload"))({id:e,mediaType:d,state:b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:f,fileURL:g,xyTags:i,isSpherical:a}));this.emitChange(c)};d.$ReactComposerMediaUploadStore3=function(a){a=this.validateAction(a,["composerID","uploadID","metadata"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.withMutations(function(a){return a.set("videoMetadata",d)})});this.emitChange(b)};d.$ReactComposerMediaUploadStore4=function(a){a=this.validateAction(a,["composerID","uploadID"]);var c=a[0];a=a[1];var d=this.getComposerData(c);this.$ReactComposerMediaUploadStore27(d,a,function(a){return a.withMutations(function(a){return a.set("state",b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED).set("progress",0)})});this.emitChange(c)};d.$ReactComposerMediaUploadStore7=function(a){a=this.validateAction(a,["composerID","uploadID","fileUpload"]);var c=a[0],d=a[1],e=a[2];a=this.getComposerData(c);var f=e&&e.getFile&&e.getFile().size;this.$ReactComposerMediaUploadStore27(a,d,function(a){return a.withMutations(function(a){return a.set("state",b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING).set("progress",0).set("fileUpload",e).set("fileSize",f||null)})});this.emitChange(c)};d.$ReactComposerMediaUploadStore5=function(a){var b=this.validateAction(a,["composerID","uploadID","progress"]),c=b[0],d=b[1],e=b[2];b=this.getComposerData(c);var f=a.use_real_progress_percentage?a.use_real_progress_percentage:!1,g=a.use_progress_linearity!=null?a.use_progress_linearity:0,h=a.use_progress_transform_x!=null?a.use_progress_transform_x:0;this.$ReactComposerMediaUploadStore27(b,d,function(a){return a.set("progress",e).set("useRealProgressPercentage",f).set("useProgressLinearity",g).set("useProgressTransformX",h)});this.emitChange(c)};d.$ReactComposerMediaUploadStore11=function(a){a=this.validateAction(a,["composerID","mediaType","videoID","uploadID","filename","videoMetadata","fileURL","index","xyTags","isSpherical"]);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8];a=a[9];this.$ReactComposerMediaUploadStore26(c,j,new(b("ReactComposerPhotoUpload"))({id:f,mediaType:d,state:b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:g,fileURL:i,xyTags:k,isSpherical:a}));j=this.getComposerData(c);this.$ReactComposerMediaUploadStore27(j,f,function(a){return a.withMutations(function(a){return a.set("videoMetadata",h)})});this.$ReactComposerMediaUploadStore10({composerID:c,photoID:e,uploadID:f});b("ifRequired")("VideoComposerActions",function(a){a.minimizeDialog(b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID)});this.emitChange(c)};d.$ReactComposerMediaUploadStore10=function(a){var c=this.validateAction(a,["composerID","uploadID","photoID"]),d=c[0],e=c[1],f=c[2];c=this.getComposerData(d);this.$ReactComposerMediaUploadStore27(c,e,function(c){return c.withMutations(function(c){return c.set("state",b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE).set("photoID",f).set("sphericalPhotoID",a.sphericalPhotoID).set("originalPhotoID",a.originalPhotoID||f).set("progress",100).set("isSphericalVideo",!!a.isSphericalVideo).remove("fileUpload")})});a.isSpherical||this.$ReactComposerMediaUploadStore27(c,e,function(a){return a.set("isSpherical",!1)});this.emitChange(d)};d.$ReactComposerMediaUploadStore12=function(a){a=this.validateAction(a,["composerID","uploadID","photoID","isSpherical"]);var c=a[0],d=a[1],e=a[2];a=a[3];var f=this.getUploadsCount(c);this.$ReactComposerMediaUploadStore26(c,f,new(b("ReactComposerPhotoUpload"))({id:d,photoID:e,mediaType:b("ReactComposerMediaUploadType").PHOTO,originalPhotoID:e,state:b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,isSpherical:a}));this.emitChange(c)};d.$ReactComposerMediaUploadStore8=function(a){var b=this.validateAction(a,["composerID","uploadID","isSpherical"]),c=b[0],d=b[1],e=b[2];this.$ReactComposerMediaUploadStore27(this.getComposerData(c),d,function(b){return b.withMutations(function(b){return b.set("isSpherical",e).set("projectionType",a.projectionType)})})};d.$ReactComposerMediaUploadStore13=function(a){var c=this.validateAction(a,["composerID","uploadID"]),d=c[0];c=c[1];var e=this.getComposerData(d);this.$ReactComposerMediaUploadStore27(e,c,function(c){return c.withMutations(function(c){return c.set("state",b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED).set("error",a.error)})});this.emitChange(d)};d.$ReactComposerMediaUploadStore14=function(a){a=this.validateAction(a,["composerID","uploadID"]);var c=a[0];a=a[1];var d=this.getComposerData(c),e=this.$ReactComposerMediaUploadStore24(d,a),f=d.uploads.get(e);if(f.mediaType==b("ReactComposerMediaUploadType").VIDEO){if(f.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING)d.videoUploader.cancelUpload(a);else{if(!d.videoUploader){var h=b("ReactComposerAttachmentStore").getMediaAttachmentToSelect(c);h=b("ReactComposerAttachmentStore").getAttachmentsConfig(c,h);h||g(0,590);this.getVideoUploader(c,h.videoUploadParams)}d.videoUploader.deleteUpload(a)}b("StickyUploadBootloader").hasStartedLoadingAPI()&&b("StickyUploadBootloader").loadAPI(function(a){if(!f.stickyUploadItemID)return;a.deleteItem(f.stickyUploadItemID)})}d.uploads=d.uploads["delete"](e);d.uploadsByID=d.uploadsByID["delete"](a);for(var h=e;h<d.uploads.size;h++){e=d.uploads.get(h).id;d.uploadsByID=d.uploadsByID.set(e,h)}d.removedIDs=d.removedIDs.add(a);this.emitChange(c)};d.$ReactComposerMediaUploadStore9=function(a){a=this.validateAction(a,["composerID","uploadID","thumbSrc"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.set("thumbSrc",d)});this.emitChange(b)};d.$ReactComposerMediaUploadStore6=function(a,b){a=this.validateAction(a,["composerID","uploadID"]);var c=a[0];a=a[1];this.$ReactComposerMediaUploadStore28(c,a,b);this.emitChange(c)};d.$ReactComposerMediaUploadStore15=function(a){a=this.validateAction(a,["composerID","from","to"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.uploads=d.uploads.splice(c,1).splice(a,0,d.uploads.get(c));d.uploadsByID=d.uploads.groupBy(function(a,b){return b}).toMap().map(function(a){return a.first().id}).flip();this.emitChange(b)};d.$ReactComposerMediaUploadStore17=function(a){var b=this;a=this.validateAction(a,["composerID","mediaIDs"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.uploads=a.map(function(a){return b.$ReactComposerMediaUploadStore23(d,a)});d.uploadsByID=d.uploads.groupBy(function(a,b){return b}).toMap().map(function(a){return a.first().id}).flip();this.emitChange(c)};d.$ReactComposerMediaUploadStore16=function(a){var c=this;a=this.validateAction(a,["composerID","medias"]);var d=a[0];a=a[1];a.forEach(function(a,e){var f={id:a.uploadID,photoID:a.photoID,mediaType:a.mediaType,originalPhotoID:a.photoID,state:b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,thumbSrc:a.thumbSrc,fileURL:a.fileURL||a.imageSrc,filename:a.filename,isSpherical:a.isSpherical,height:a.height,width:a.width,isFromPrefill:!0,holidayCardID:a.holidayCardID};a.mediaType==b("ReactComposerMediaUploadType").VIDEO&&a.duration&&(f.videoMetadata={format:{duration:a.duration}});c.$ReactComposerMediaUploadStore26(d,e,new(b("ReactComposerPhotoUpload"))(f))});this.emitChange(d)};d.$ReactComposerMediaUploadStore18=function(a){a=this.validateAction(a,["composerID","index","upload"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.uploads=d.uploads.splice(c,0,a);for(var a=c;a<d.uploads.size;a++){c=d.uploads.get(a).id;d.uploadsByID=d.uploadsByID.set(c,a)}this.emitChange(b)};d.$ReactComposerMediaUploadStore19=function(a){a=this.validateAction(a,["composerID","uploadID","sphericalImage","useLocalSphericalImage"]);var b=a[0],c=a[1],d=a[2],e=a[3];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.withMutations(function(a){return a.set("sphericalImage",d).set("useLocalSphericalImage",e)})});this.emitChange(b)};d.$ReactComposerMediaUploadStore20=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.hideVideos=!0;this.emitChange(a)};d.$ReactComposerMediaUploadStore21=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.hideVideos=!1;this.emitChange(a)};d.$ReactComposerMediaUploadStore22=function(a){var c=this,d=this.validateAction(a,["composerID"]);b("StickyUploadBootloader").hasStartedLoadingAPI()&&b("StickyUploadBootloader").loadAPI(function(a){var b=c.getComposerData(d);if(!b.stickyUploadCollectionID)return;a.setCollectionVisibility(b.stickyUploadCollectionID,!0)})};d.$ReactComposerMediaUploadStore28=function(a,b,c){a=this.getComposerData(a);this.$ReactComposerMediaUploadStore27(a,b,function(a){return a.set("state",c)})};d.$ReactComposerMediaUploadStore27=function(a,b,c){b=this.$ReactComposerMediaUploadStore29(a,b);var d=b[0];b=b[1];a.uploads=a.uploads.set(b,c(d,b))};d.$ReactComposerMediaUploadStore29=function(a,b){b=this.$ReactComposerMediaUploadStore24(a,b);return[a.uploads.get(b),b]};d.$ReactComposerMediaUploadStore24=function(a,b){a=a.uploadsByID.get(b);if(a===void 0)throw new Error("Upload "+b+" hasn't been registered");return a};d.$ReactComposerMediaUploadStore23=function(a,b){b=this.$ReactComposerMediaUploadStore24(a,b);return a.uploads.get(b)};d.$ReactComposerMediaUploadStore1=function(a){if(h[a.type]){var b=a.composerID;a=a.uploadID;return a==null?!1:this.getHasUploadBeenRemoved(b,a)}return!1};d.$ReactComposerMediaUploadStore25=function(a,c,d){var e=this;b("StickyUploadBootloader").loadAPI(function(b){var f=e.getComposerData(a);f.stickyUploadCollectionID||(f.stickyUploadCollectionID=b.createCollection(!1));var g=b.registerItem(f.stickyUploadCollectionID,d);e.$ReactComposerMediaUploadStore27(f,c,function(a){return a.set("stickyUploadItemID",g)})})};d.$ReactComposerMediaUploadStore26=function(a,b,c){var d=this.getComposerData(a);d.uploads=d.uploads.splice(b,0,c);for(var b=b;b<d.uploads.size;b++){var e=d.uploads.get(b).id;d.uploadsByID=d.uploadsByID.set(e,b)}this.$ReactComposerMediaUploadStore30(a,c)};d.$ReactComposerMediaUploadStore30=function(a,c){var d=this;if(c.mediaType==b("ReactComposerMediaUploadType").PHOTO){var e=new Image();e.onload=function(){var b=d.getComposerData(a);d.$ReactComposerMediaUploadStore27(b,c.id,function(a){return a.withMutations(function(a){return a.set("height",e.height).set("width",e.width)})});d.emitChange(a)};e.src=c.fileURL}else if(c.mediaType==b("ReactComposerMediaUploadType").VIDEO){var f=document.createElement("video");f.onloadedmetadata=function(){var b=d.getComposerData(a);d.$ReactComposerMediaUploadStore27(b,c.id,function(a){return a.withMutations(function(a){return a.set("height",f.videoHeight).set("width",f.videoWidth)})});d.emitChange(a)};f.src=c.fileURL}};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerSlideshowActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},"ReactComposerSlideshowActionType");e.exports=a}),null);
__d("ReactComposerSelectedImagesStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowImageUtil","mergeDeepInto"],(function(a,b,c,d,e,f){"use strict";var g=b("SlideshowConstants").formats,h=b("SlideshowConstants").max_photo_num;a=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.$ReactComposerSelectedImagesStore1=function(a,c,d){if(a.isLoading)return{};a=b("SlideshowImageUtil").calculateDefaultCoordinates({width:a.width,height:a.height},d);return d={},d[c]=a,d};c.$ReactComposerSelectedImagesStore2=function(a,b,c){c=c;c||(c=this.getComposerData(a).format);return this.$ReactComposerSelectedImagesStore3(b,c)};c.$ReactComposerSelectedImagesStore3=function(a,c){var d=this;if(!a.length)return[];switch(c){case g.Original:var e=a[0];return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,e.width+b("SlideshowConstants").SIZE_DELIMITER+e.height,e.width/e.height)});case g.Wide:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,c,b("SlideshowConstants").LANDSCAPE_ASPECT_RATIO)});case g.Square:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,c,b("SlideshowConstants").SQUARE_ASPECT_RATIO)});case g.Vertical:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,c,b("SlideshowConstants").VERTICAL_ASPECT_RATIO)});default:return[]}};function d(){var c,d;c=a.call(this,function(){return{selectedImages:[],imagesCrops:[],editState:null,format:b("SlideshowConstants").formats.Original,removedUploadIDs:[],addedUploadIDs:[]}},function(a){switch(a.type){case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:b("ReactComposerDispatcher").waitFor([b("ReactComposerMediaUploadStore").getDispatchToken()]);d&&d.$ReactComposerSelectedImagesStore4(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:b("ReactComposerDispatcher").waitFor([b("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerSelectedImagesStore5(a);break;case b("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:d&&d.$ReactComposerSelectedImagesStore6(a);break;case b("ReactComposerSlideshowActionType").IMAGE_REMOVE:d&&d.$ReactComposerSelectedImagesStore7(a);break;case b("ReactComposerSlideshowActionType").REORDER_IMAGES:d&&d.$ReactComposerSelectedImagesStore8(a);break;case b("ReactComposerSlideshowActionType").FORMAT_CHANGE:d&&d.$ReactComposerSelectedImagesStore9(a);break;case b("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore10(a);break;case b("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:d&&d.$ReactComposerSelectedImagesStore11(a);break;case b("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore12(a);break;case b("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore13(a);break;case b("ReactComposerSlideshowActionType").CREATE:d&&d.$ReactComposerSelectedImagesStore14(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(c);return c}c.$ReactComposerSelectedImagesStore4=function(a){a=a.composerID;var c=this.getComposerData(a),d=b("ReactComposerMediaUploadStore").getUploads(a);d=this.addNewImagesFromPhotoUploads(d,c.selectedImages,c.removedUploadIDs);c.selectedImages=c.selectedImages.concat(d);c.editState!==null&&(c.addedUploadIDs=c.addedUploadIDs.concat(d.map(function(a){return a.key})));this.emitChange(a)};c.$ReactComposerSelectedImagesStore5=function(a){a=a.composerID;var c=this.getComposerData(a),d=b("ReactComposerPhotoStore").getPhotos(a);c.selectedImages=this.replacePhotoUploadsFromPhotos(d,c.selectedImages);c.imagesCrops=this.$ReactComposerSelectedImagesStore2(a,c.selectedImages);this.emitChange(a)};c.$ReactComposerSelectedImagesStore11=function(a){a=a.composerID;var b=this.getComposerData(a);b.selectedImages=[];b.imagesCrops=[];this.emitChange(a)};c.$ReactComposerSelectedImagesStore10=function(a){var b=a.composerID,c=this.getComposerData(b);a.shouldShowSlideshowDialog||(c.selectedImages=[],c.imagesCrops=[]);this.emitChange(b)};c.$ReactComposerSelectedImagesStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedImages=c.selectedImages.concat(a.selectedImages);c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,c.selectedImages);this.emitChange(b)};c.$ReactComposerSelectedImagesStore7=function(a){var b=a.composerID,c=this.getComposerData(b);c.editState!==null&&c.removedUploadIDs.push(a.removeImage.key);var d=c.selectedImages.filter(function(b){return b.key!==a.removeImage.key});c.selectedImages=d;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,d);this.emitChange(b)};c.$ReactComposerSelectedImagesStore8=function(a){var b=a.composerID,c=this.getComposerData(b);a=a.data;var d=a.fromIndex;a=a.toIndex;var e=c.selectedImages.slice(0),f=Object.assign({},e[d]);e[d].remove=!0;e.splice(d>a?a:a+1,0,f);e=e.filter(function(a){return!a.remove});c.selectedImages=e;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,e);this.emitChange(b)};c.$ReactComposerSelectedImagesStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.format=a.format;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,c.selectedImages,a.format);this.emitChange(b)};c.$ReactComposerSelectedImagesStore12=function(a){a=a.composerID;var c=this.getComposerData(a),d={};b("mergeDeepInto")(d,c);c.editState=d;this.emitChange(a)};c.$ReactComposerSelectedImagesStore13=function(a){a=a.composerID;var b=this.getComposerData(a),c=b.editState;b.selectedImages=c.selectedImages;b.imagesCrops=c.imagesCrops;b.format=c.format;b.editState=null;b.removedUploadIDs=[];b.addedUploadIDs=[];this.emitChange(a)};c.$ReactComposerSelectedImagesStore14=function(a){a=a.composerID;var b=this.getComposerData(a);b.editState=null;b.removedUploadIDs=[];b.addedUploadIDs=[];this.emitChange(a)};c.getImagesFromPhotoUploads=function(a){var b=[];a.forEach(function(a){b.push({height:null,isLoading:!0,key:a.id,url:null,width:null})});return b};c.addNewImagesFromPhotoUploads=function(a,b,c){a=this.getImagesFromPhotoUploads(a);a=a.filter(function(a){var d=b.findIndex(function(b){return b.key===a.key}),e=c.findIndex(function(b){return b===a.key});return d===-1&&e===-1});return a};c.replacePhotoUploadsFromPhotos=function(a,b){return b.map(function(b){var c=b,d=a.find(function(a){return a.uploadID===b.key});d!=null&&(c={height:d.height,isLoading:!1,key:d.uploadID,photoID:d.id,thumbSrc:d.thumbSrc,url:d.imageSrc,width:d.width});return c})};c.getPhotoIDs=function(a){a=this.getComposerData(a);return a.selectedImages.map(function(a){return a.photoID}).slice(0,h)};c.getRemovedUploadIDs=function(a){return this.getComposerData(a).removedUploadIDs};c.getAddedUploadIDs=function(a){return this.getComposerData(a).addedUploadIDs};c.getSelectedImages=function(a){return this.getComposerData(a).selectedImages};c.getThumbnailSrc=function(a){a=this.getComposerData(a).selectedImages;return a.length>0?a[0].thumbSrc:null};c.getImagesCrops=function(a){return this.getComposerData(a).imagesCrops};c.getNumberOfImages=function(a){return Math.min(this.getComposerData(a).selectedImages.length,h)};c.getFormat=function(a){return this.getComposerData(a).format};return d}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerSlideshowActions",["ReactComposerDispatcher","ReactComposerSlideshowActionType"],(function(a,b,c,d,e,f){f.showSlideshowEditField=a;f.hideSlideshowEditField=c;f.showSlideshowDialog=d;f.closeSlideshowDialog=e;f.showEditSlideshowDialog=g;f.closeEditSlideshowDialog=h;f.selectImagesConfirm=i;f.removeImage=j;f.reorderImages=k;f.changeStorylineMoodFile=l;f.deleteStorylineMoodFile=m;f.changeStorylineMoodIDSource=n;f.changeStorylineMoodSourceMap=o;f.changeTransition=p;f.changeDuration=q;f.changeDurationBySystem=r;f.setStorylineMoodFiles=s;f.createSlideshow=t;f.changeFormat=u;f.selectTab=v;f.musicCategorySelect=w;f.previewStateChange=x;f.audioFileUploadStarted=y;f.audioFileUploadError=z;f.audioFileUploadSuccess=A;function a(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD})}function c(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD})}function d(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,entrypoint:c,shouldShowSlideshowDialog:!0,type:b("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})}function e(a){b("ReactComposerDispatcher").dispatch({composerID:a,shouldShowSlideshowDialog:!1,type:b("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})}function g(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG})}function h(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG})}function i(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,selectedImages:c,type:b("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM})}function j(c,a){b("ReactComposerDispatcher").dispatch({composerID:c,removeImage:a,type:b("ReactComposerSlideshowActionType").IMAGE_REMOVE})}function k(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,data:{fromIndex:c,toIndex:d},type:b("ReactComposerSlideshowActionType").REORDER_IMAGES})}function l(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,selectedStorylineMood:c,type:b("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE})}function m(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,selectedStorylineMood:c,type:b("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE})}function n(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodIDSource:c,type:b("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE})}function o(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodIDToSource:c,type:b("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE})}function p(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,transitionInMS:c,type:b("ReactComposerSlideshowActionType").TRANSITION_CHANGE})}function q(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,durationInMS:c,shouldShowDurationWarning:!1,type:b("ReactComposerSlideshowActionType").DURATION_CHANGE})}function r(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,durationInMS:c,shouldShowDurationWarning:!0,type:b("ReactComposerSlideshowActionType").DURATION_CHANGE})}function s(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodFiles:c,type:b("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES})}function t(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").CREATE})}function u(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,format:c,type:b("ReactComposerSlideshowActionType").FORMAT_CHANGE})}function v(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,tab:c,type:b("ReactComposerSlideshowActionType").SELECT_TAB})}function w(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,selectedMusicCategory:c,type:b("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT})}function x(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,isPreviewPlaying:c,type:b("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE})}function y(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED})}function z(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR})}function A(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,uploadedMood:c,type:b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS})}}),null);
__d("ReactComposerSlideshowStore",["ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowFlowTypes","mergeDeepInto"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{durationInMS:1e3,editState:null,isSlideshowSelected:!1,selectedTab:b("SlideshowFlowTypes").SlideshowTabKey.SETTINGS_TAB,shouldShowDurationWarning:!1,shouldShowSlideshowDialog:!1,transitionInMS:b("SlideshowConstants").transitions.None}},function(a){switch(a.type){case b("ReactComposerSlideshowActionType").CREATE:d&&d.$ReactComposerSlideshowStore1(a);break;case b("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD:d&&d.$ReactComposerSlideshowStore2(a);break;case b("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:d&&d.$ReactComposerSlideshowStore3(a);break;case b("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:d&&d.$ReactComposerSlideshowStore4(a);break;case b("ReactComposerSlideshowActionType").TRANSITION_CHANGE:d&&d.$ReactComposerSlideshowStore5(a);break;case b("ReactComposerSlideshowActionType").DURATION_CHANGE:d&&d.$ReactComposerSlideshowStore6(a);break;case b("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSlideshowStore7(a);break;case b("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSlideshowStore8(a);break;case b("ReactComposerSlideshowActionType").SELECT_TAB:d&&d.$ReactComposerSlideshowStore9(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerSlideshowStore1=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!0;b.shouldShowSlideshowDialog=!1;b.editState=null;this.emitChange(a)};d.$ReactComposerSlideshowStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedTab=a.tab;this.emitChange(b)};d.$ReactComposerSlideshowStore2=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!0;this.emitChange(a)};d.$ReactComposerSlideshowStore3=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!1;this.emitChange(a)};d.$ReactComposerSlideshowStore4=function(a){var b=a.composerID,c=this.getComposerData(b);c.shouldShowSlideshowDialog=a.shouldShowSlideshowDialog;this.emitChange(b)};d.$ReactComposerSlideshowStore5=function(a){var b=a.composerID,c=this.getComposerData(b);c.transitionInMS=a.transitionInMS;this.emitChange(b)};d.$ReactComposerSlideshowStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.durationInMS=a.durationInMS;c.shouldShowDurationWarning=a.shouldShowDurationWarning;this.emitChange(b)};d.$ReactComposerSlideshowStore7=function(a){a=a.composerID;var c=this.getComposerData(a),d={};b("mergeDeepInto")(d,c);c.editState=d;c.shouldShowSlideshowDialog=!0;this.emitChange(a)};d.$ReactComposerSlideshowStore8=function(a){a=a.composerID;var b=this.getComposerData(a);b.shouldShowSlideshowDialog=!1;b.isSlideshowSelected=!0;var c=b.editState;b.durationInMS=c.durationInMS;b.transitionInMS=c.transitionInMS;b.editState=null;this.emitChange(a)};d.isSlideshowSelected=function(a){return this.getComposerData(a).isSlideshowSelected};d.isEditing=function(a){return this.getComposerData(a).editState!==null};d.shouldShowSlideshowDialog=function(a){return this.getComposerData(a).shouldShowSlideshowDialog};d.getDurationInMS=function(a){return this.getComposerData(a).durationInMS};d.getTotalLength=function(a,b){return this.getDurationInMS(a)*b+this.getTransitionInMS(a)*b};d.getTransitionInMS=function(a){return this.getComposerData(a).transitionInMS};d.getSelectedTab=function(a){return this.getComposerData(a).selectedTab};d.getShouldShowDurationWarning=function(a){return this.getComposerData(a).shouldShowDurationWarning};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("slideshowGetMaximumTotalLengthInMS",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("SlideshowConstants").max_photo_num,c=b("SlideshowConstants").image_duration_in_sec_options.slice(-1)[0];return a*c*b("DateConsts").MS_PER_SEC}}),null);
__d("ReactComposerSlideshowAudioStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerSelectedImagesStore","ReactComposerSlideshowActions","ReactComposerSlideshowActionType","ReactComposerSlideshowStore","ReactComposerStoreBase","SlideshowAudioUtil","SlideshowDataManager","immutable","mergeDeepInto","slideshowGetMaximumTotalLengthInMS"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{audioFileUploadInfo:{isUploading:!1,hasError:!1},editState:null,isPreviewPlaying:!1,recentlyUsedStorylineMoods:b("immutable").List(),selectedMusicCategory:"All Tracks",selectedStorylineMood:null,storylineMoodFiles:b("immutable").List(),storylineMoodIDToSource:b("immutable").Map()}},function(a){switch(a.type){case b("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:d&&d.$ReactComposerSlideshowAudioStore1(a,function(){b("ReactComposerSlideshowActions").previewStateChange(a.composerID,!1)});break;case b("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE:d&&d.$ReactComposerSlideshowAudioStore2(a);d&&d.$ReactComposerSlideshowAudioStore1(a,function(){b("ReactComposerSlideshowActions").previewStateChange(a.composerID,!0)});break;case b("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE:d&&d.$ReactComposerSlideshowAudioStore3(a);break;case b("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSlideshowAudioStore4(a);break;case b("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSlideshowAudioStore5(a);break;case b("ReactComposerSlideshowActionType").DURATION_CHANGE:d&&d.$ReactComposerSlideshowAudioStore1(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case b("ReactComposerSlideshowActionType").IMAGE_REMOVE:d&&d.$ReactComposerSlideshowAudioStore1(a);break;case b("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES:d&&d.$ReactComposerSlideshowAudioStore6(a);break;case b("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE:d&&d.$ReactComposerSlideshowAudioStore7(a);break;case b("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE:d&&d.$ReactComposerSlideshowAudioStore8(a);break;case b("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT:d&&d.$ReactComposerSlideshowAudioStore9(a);break;case b("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE:d&&d.$ReactComposerSlideshowAudioStore10(a);break;case b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED:d&&d.$ReactComposerSlideshowAudioStore11(a);break;case b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR:d&&d.$ReactComposerSlideshowAudioStore12(a);break;case b("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS:d&&d.$ReactComposerSlideshowAudioStore13(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerSlideshowAudioStore1=function(a,c){var d=a.composerID;a=this.getComposerData(d);var e=a.selectedStorylineMood;if(!e)return;var f=e.moodID;e=this.getNumberOfImages(d);e=e===0?b("slideshowGetMaximumTotalLengthInMS")():this.getTotalLength(d,e);var g=this.getStorylineMoodIDToSource(d);b("SlideshowDataManager").fetchStorylineMoodSource(f,e,function(a){b("ReactComposerSlideshowActions").changeStorylineMoodIDSource(d,a),g=g.set(f,a),b("ReactComposerSlideshowActions").changeStorylineMoodSourceMap(d,g),c&&c()});a.selectedStorylineMood.source=g.get(f);this.emitChange(d)};d.$ReactComposerSlideshowAudioStore11=function(a){a=a.composerID;var b=this.getComposerData(a);b.audioFileUploadInfo.isUploading=!0;b.audioFileUploadInfo.hasError=!1;b.selectedMusicCategory="User Uploaded";this.emitChange(a)};d.$ReactComposerSlideshowAudioStore12=function(a){a=a.composerID;var b=this.getComposerData(a);b.audioFileUploadInfo.isUploading=!1;b.audioFileUploadInfo.hasError=!0;this.emitChange(a)};d.$ReactComposerSlideshowAudioStore13=function(a){var b=a.composerID,c=this.getComposerData(b);c.audioFileUploadInfo.isUploading=!1;c.audioFileUploadInfo.hasError=!1;c.storylineMoodFiles=c.storylineMoodFiles.unshift(a.uploadedMood);this.emitChange(b)};d.$ReactComposerSlideshowAudioStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedMusicCategory=a.selectedMusicCategory;this.emitChange(b)};d.$ReactComposerSlideshowAudioStore4=function(a){a=a.composerID;var c=this.getComposerData(a),d={};b("mergeDeepInto")(d,c);c.editState=d;this.emitChange(a)};d.$ReactComposerSlideshowAudioStore5=function(a){a=a.composerID;var b=this.getComposerData(a),c=b.editState;b.selectedStorylineMood=c.selectedStorylineMood;b.selectedMusicCategory=c.selectedMusicCategory;b.editState=null;this.emitChange(a)};d.$ReactComposerSlideshowAudioStore2=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedStorylineMood=a.selectedStorylineMood;a.selectedStorylineMood!=null&&(c.recentlyUsedStorylineMoods=c.recentlyUsedStorylineMoods.unshift(a.selectedStorylineMood));this.emitChange(b)};d.$ReactComposerSlideshowAudioStore3=function(a){var c=a.composerID,d=this.getComposerData(c),e=a.selectedStorylineMood;b("SlideshowAudioUtil").storylineMoodCompare(e,d.selectedStorylineMood)&&(d.selectedStorylineMood=null,d.isPreviewPlaying=!1);d.storylineMoodFiles=d.storylineMoodFiles.filter(function(a){return!b("SlideshowAudioUtil").storylineMoodCompare(a,e)});b("SlideshowDataManager").deleteAudioFile(e.moodID);this.emitChange(c)};d.$ReactComposerSlideshowAudioStore7=function(a){var b=a.composerID,c=this.getComposerData(b);if(!c.selectedStorylineMood)return;c.selectedStorylineMood.source=a.storylineMoodIDSource;this.emitChange(b)};d.$ReactComposerSlideshowAudioStore8=function(a){var b=a.composerID,c=this.getComposerData(b);c.storylineMoodIDToSource=a.storylineMoodIDToSource;this.emitChange(b)};d.$ReactComposerSlideshowAudioStore10=function(a){var b=a.composerID,c=this.getComposerData(b);c.isPreviewPlaying=a.isPreviewPlaying;this.emitChange(b)};d.$ReactComposerSlideshowAudioStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.storylineMoodFiles=a.storylineMoodFiles;this.emitChange(b)};d.getNumberOfImages=function(a){b("ReactComposerDispatcher").waitFor([b("ReactComposerSelectedImagesStore").getDispatchToken()]);return b("ReactComposerSelectedImagesStore").getNumberOfImages(a)};d.getStorylineMoodFiles=function(a){return this.getComposerData(a).storylineMoodFiles.toArray()};d.getRecentlyUsedStorylineMoods=function(a){return this.getComposerData(a).recentlyUsedStorylineMoods.toArray()};d.getSelectedStorylineMood=function(a){return this.getComposerData(a).selectedStorylineMood};d.getStorylineMoodIDToSource=function(a){return this.getComposerData(a).storylineMoodIDToSource};d.getSelectedMusicCategory=function(a){return this.getComposerData(a).selectedMusicCategory};d.getIsPreviewPlaying=function(a){return this.getComposerData(a).isPreviewPlaying};d.getAudioFileUploadInfo=function(a){return this.getComposerData(a).audioFileUploadInfo};d.getTotalLength=function(a,c){b("ReactComposerDispatcher").waitFor([b("ReactComposerSlideshowStore").getDispatchToken()]);return b("ReactComposerSlideshowStore").getTotalLength(a,c)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("WorkUserName.react",["React","RelayFBEnvironment","RelayHooks","WorkGalahadPlaceholder.react","WorkUserNameQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){return h.jsx(b("RelayHooks").RelayEnvironmentProvider,{environment:b("RelayFBEnvironment"),children:h.jsx(b("WorkGalahadPlaceholder.react"),{fallback:null,children:h.jsx(i,babelHelpers["extends"]({},a))})})}function i(a){a=a.userID;a=b("RelayHooks").useLazyLoadQuery(g!==void 0?g:g=b("WorkUserNameQuery.graphql"),{userID:a});return h.jsx("span",{children:(a=(a=a.user)==null?void 0:(a=a.work_info)==null?void 0:a.name)!=null?a:""})}}),null);
__d("MultimediaUploadProcessingDialog.react",["fbt","React","WorkUserName.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.show&&this.setState({dialogShown:!0})};d.$1=function(){if(this.props.isWorkSharedDraft===!0){var a=h.jsx(b("WorkUserName.react"),{userID:this.props.actor_id});return this.props.numOfVideos===1?g._("The video in this post is being processed. We'll send a notification to {final author name} when it's done and the post is ready for review.",[g._param("final author name",a)]):g._("The videos in this post are being processed. We'll send a notification to {final author name} when they're done and the post is ready for review.",[g._param("final author name",a)])}else return this.props.numOfVideos===1?g._("Video trong b\u00e0i vi\u1ebft \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\u00fd. Ch\u00fang t\u00f4i s\u1ebd g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o khi ho\u00e0n t\u1ea5t v\u00e0 b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n s\u1eb5n s\u00e0ng \u0111\u1ec3 xem."):g._("C\u00e1c video trong b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\u00fd. Ch\u00fang t\u00f4i s\u1ebd g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o khi ho\u00e0n t\u1ea5t v\u00e0 b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n s\u1eb5n s\u00e0ng \u0111\u1ec3 xem.")};d.$2=function(){return g._("\u0110ang x\u1eed l\u00fd video")};d.render=function(){return h.jsxs(b("XUIDialog.react"),{shown:this.state.dialogShown,"data-testid":void 0,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:this.$2()}),h.jsx(b("XUIDialogBody.react"),{children:this.$1()})]})};return c}(h.Component);a.propTypes={numOfVideos:b("prop-types").number.isRequired};e.exports=a}),null);
__d("ReactComposerVideoXUploader",["invariant","Arbiter","DOM","MultimediaUploadProcessingDialog.react","PagesComposerContextUtils","PagesComposerUtils","PhotosUploadID","React","ReactComposerEvents","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactDOM","Run","StickyUploadBootloader","SubscriptionsHandler","VideoUploader","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadLogger","VideoUploadProgressBar","ifRequired","throttle","ReactComposerMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=250;a=function(){function a(a){var c=this;this.$14=function(){var a=c.$4,d=a.actor_id;a=a.target_id;!!d&&!!a&&c.$5>0&&b("PagesComposerContextUtils").isPageAdminPostingInPage(String(d),String(c.$1),String(a))&&b("PagesComposerUtils").logVideoUploadFunnelEvents(c.$1,"video_post_success");c.$13.notifyOnPostAction({action:b("VideoUploadFlowNotifier").VideoPostActions.POST_SUCCESSFUL});c.$26().logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW_EXP1);d=b("DOM").create("div");b("DOM").appendContent(document.body,d);a=c.$5>0&&!c.$11;b("ifRequired")("ReactComposerOptimisticPostingStore",function(b){b.hadOptimisticallyPosted(c.$1)&&(a=!1)},function(){});a&&b("ReactDOM").render(h.jsx(b("MultimediaUploadProcessingDialog.react"),{numOfVideos:c.$5,isWorkSharedDraft:c.$3.uploaderParams.composer_work_shared_draft_mode==="drafter_creating",actor_id:c.$3.uploaderParams.actor_id}),d)};this.$16=function(){c.$13.notifyOnPostAction({action:b("VideoUploadFlowNotifier").VideoPostActions.POST_USER_REQUESTED})};this.$17=function(){c.$13.notifyOnPostAction({action:b("VideoUploadFlowNotifier").VideoPostActions.POST_FAILED})};this.$15=function(){c.$13.notifyOnPostAction({action:b("VideoUploadFlowNotifier").VideoPostActions.POST_USER_REQUESTED}),c.$26().logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW_EXP1),c.$5=b("ReactComposerMediaUploadStore").getNonPrefillVideoUploadsCount(c.$1)};this.$3=a;this.$2=new(b("SubscriptionsHandler"))();this.$5=0;this.$6=new Map();this.$7=new Set();this.$8=!1;this.$11=!1;a.composerID||g(0,1443);a.uploaderParams||g(0,1444);this.$2.addSubscriptions(b("Arbiter").subscribe(b("ReactComposerEvents").POST_SUCCEEDED+a.composerID,b("throttle")(this.$14,i,this)),b("Arbiter").subscribe(b("ReactComposerEvents").POST_STARTED+a.composerID,b("throttle")(this.$15,i,this)),b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POST_STARTED+a.composerID,b("throttle")(this.$16,i,this)),b("Arbiter").subscribe(b("ReactComposerEvents").POST_FAILED+a.composerID,b("throttle")(this.$17,i,this)));this.$1=a.composerID;this.$4=a.uploaderParams;this.$12=(a=a.isPageAdminVideoUpload)!=null?a:!1;this.$13=b("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({composer_entry_point_ref:this.$4.composer_entry_point_ref,source:this.$4.source,target_id:this.$4.target_id,target_type:this.$4.target_type,extended_flow_logging_enabled:this.$4.extended_flow_logging_enabled,cancel_on_leave:!0});b("Run").onLeave(function(){return c.$18()});b("Run").onUnload(function(){return c.$18()})}var c=a.prototype;c.cancelUploads=function(){this.$18(),this.$13.notifyOnPostAction({action:b("VideoUploadFlowNotifier").VideoPostActions.POST_USER_CANCELED})};c.$18=function(){var a=this;this.$7.forEach(function(b){var c=b.uploadID;a.$7["delete"](b);b=a.$6.get(c);b&&b.abandon()});this.$8=!1};c.upload=function(a){var c=this;a.forEach(function(a){if(!b("ReactComposerMediaFilterUtils").hasVideos([a.name]))return;a.uploadID||(a.uploadID=b("PhotosUploadID").getNewID());c.$19(a)});a=a.find(function(a){return b("ReactComposerMediaFilterUtils").hasVideos([a.name])});!this.$8&&a&&this.uploadVideo(a)};c.uploadVideo=function(a){var c=this;if(!a)return;this.$8=!0;var d=JSON.parse(JSON.stringify(this.$4));d.isMultiMediaPost=!0;var e=new(b("VideoUploader"))(d);this.$6.set(a.uploadID,e);d=b("VideoUploadFile").fromFile(a);d.getCreatorProduct()==4&&(this.$11=!0);this.$2.addSubscriptions(e.subscribe("metadata-parsed",this.$20.bind(this,a)),e.subscribe("upload-started",this.$21.bind(this,a)),e.subscribe("upload-progressed",this.$22.bind(this,a)),e.subscribe("upload-failed",this.$23.bind(this,a)),e.subscribe("upload-finished",this.$24.bind(this,a)),e.subscribe("set-waterfall-id",this.$25.bind(this,a)));this.$12&&this.$2.addSubscriptions(e.subscribe("upload-finished",b("PagesComposerUtils").logVideoUploadFunnelEvents.bind(this,this.$1,"video_upload_finished")));var f=a.uploadID;b("StickyUploadBootloader").loadAPI(function(a){var d=b("ReactComposerMediaUploadStore").getMediaUpload(c.$1,f);d&&d.stickyUploadItemID&&a.setUploader(d.stickyUploadItemID,e)});try{this.$13.registerVideoUpload(e,f),e.upload(d)}catch(a){throw a}};c.cancelUpload=function(a){var b=this.$6.get(a);if(b){b.cancel();b.reset();this.$6["delete"](a);if(this.$7.size>0){b=this.$7.values().next().value;this.uploadVideo(b)}else this.$8=!1}this.deleteUpload(a)};c.deleteUpload=function(a){var c=this;this.$7.forEach(function(b){b.uploadID===a&&c.$7["delete"](b)});this.$13.notifyOnUploadAction({trackingID:a,action:b("VideoUploadFlowNotifier").VideoUploadActions.UPLOAD_USER_REMOVED})};c.$24=function(a,c,d){b("ReactComposerMediaUploadActions").doneUploading({composerID:this.$1,uploadID:a.uploadID,type:b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE,fileUpload:a,timeToUpload:0,photoID:d.video_id,sphericalPhotoID:"",thumbSrc:"",isSphericalVideo:d.is_spherical_video});c=this.$6.get(a.uploadID);c&&(c.reset(),this.$6["delete"](a.uploadID));b("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$1);this.$8=!1;this.$7["delete"](a);if(this.$7.size>0){d=this.$7.values().next().value;this.uploadVideo(d)}};c.$19=function(a){this.$7.add(a),b("ReactComposerMediaUploadActions").enqueue(this.$1,a.uploadID,a.name,b("ReactComposerMediaUploadStore").getUploads(this.$1).size,b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED,b("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(a))};c.$20=function(a,c,d){b("ReactComposerMediaUploadActions").videoMetadataParsed(this.$1,a.uploadID,d)};c.$21=function(a,c){b("ReactComposerMediaUploadActions").startUploading(this.$1,a.uploadID,a,b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING)};c.$22=function(a,c,d){c=b("VideoUploadProgressBar").computeProgress(d.start_offset,d.sent_bytes,d.file_size,0,0);d=!1;var e=0;this.$4&&(d=this.$4.use_real_progress_percentage,e=this.$4.use_progress_transform_x);!d&&!(e>0)&&(c=Math.round(c));b("ReactComposerMediaUploadActions").progressUploading(this.$1,a.uploadID,c,d,this.$4.use_progress_linearity,e)};c.$23=function(a,c,d){c={code:d.error_code,description:d.error_description,summary:d.error_summary,"transient":d.error_is_transient||d.error_code==1004||d.error_code==1006};b("ReactComposerMediaUploadActions").failUploading(this.$1,a.uploadID,a,0,c,b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED);this.$8=!1};c.$25=function(a,b,c){this.$9||(this.$9=c.waterfallID)};c.$27=function(){this.$10=new(b("VideoUploadLogger"))({actor_id:this.$4.actorID,source:this.$4.source,waterfall_id:this.$9,target_id:this.$4.targetID,composer_entry_point_ref:this.$4.composerEntryPointRef})};c.$26=function(){this.$10||this.$27();return this.$10};c.destroy=function(){this.$2.release()};c.getUploader=function(a){return this.$6.get(a)};return a}();e.exports=a}),null);
__d("ReactComposerMultilingualStatusActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null,REMOVE_EDITOR_STATE_FORMATTING:null},"ReactComposerMultilingualStatusActionType");e.exports=a}),null);
__d("ReactComposerStatusActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null,REMOVE_EDITOR_STATE_FORMATTING:null},"ReactComposerStatusActionType");e.exports=a}),null);
__d("getDelightRangesForContentState",["TextDelightInComposerGating","TextDelightInComposerLogger","UnicodeUtils","emptyFunction","getChunkForContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c,d){if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return[];if(a.getPlainText()==="")return[];d&&b("TextDelightInComposerLogger").endFunnel(d);var e=0,f=[];a.getBlockMap().forEach(function(c){var d=c.getText();c.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(i,j){j=h(d.slice(i,j),c.getEntityAt(i),a);j.isDelight&&f.push({offset:e,length:(g||(g=b("UnicodeUtils"))).strlen(j.text),campaignID:j.campaignID});e+=(g||(g=b("UnicodeUtils"))).strlen(j.text)});e+=1});return f}function h(a,c,d){if(c){var e=d.getEntity(c);if(e.getType()==="DELIGHT"&&!e.getData().disabled){e=e.getData().campaignID;if(/^\d+$/.test(e))return{isDelight:!0,text:a,campaignID:e}}}e=b("getChunkForContentState")(a,c,d);return{isDelight:!1,text:e}}}),null);
__d("ReactComposerStatusStore",["ContentState","EditorState","ReactComposerMultilingualStatusActionType","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerStore","RichTextViewUtils","getDelightRangesForContentState","getMentionsTextForContentState"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){var a=b("EditorState").createEmpty();return{activeEditorState:a,activeLanguageDialect:null,editorState:a,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null}},function(a){switch(a.type){case b("ReactComposerStatusActionType").SET_MENTIONS_SOURCE:d&&d.$ReactComposerStatusStore1(a);break;case b("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER:d&&d.$ReactComposerStatusStore2(a);break;case b("ReactComposerStatusActionType").SET_EDITOR_STATE:d&&d.$ReactComposerStatusStore3(a);break;case b("ReactComposerMultilingualStatusActionType").SET_LANGUAGE_EDITOR_STATE:d&&d.$ReactComposerStatusStore4(a);break;case b("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE:d&&d.$ReactComposerStatusStore5(a);break;case b("ReactComposerStatusActionType").SET_MENTIONS:d&&d.$ReactComposerStatusStore6(a);break;case b("ReactComposerStatusActionType").SET_TEXT_LENGTH:d&&d.$ReactComposerStatusStore7(a);break;case b("ReactComposerStatusActionType").REMOVE_EDITOR_STATE_FORMATTING:d&&d.$ReactComposerStatusStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getMentionsSource=function(a){return this.getComposerData(a).mentionsSource};d.getTypeaheadReporter=function(a){return this.getComposerData(a).typeaheadReporter};d.getEditorState=function(a){return this.getComposerData(a).editorState};d.getOriginalEditorState=function(a){return this.getComposerData(a).originalEditorState};d.getActiveEditorState=function(a){return this.getComposerData(a).activeEditorState};d.getActiveLanguageDialect=function(a){return this.getComposerData(a).activeLanguageDialect};d.getMentions=function(a){return this.getComposerData(a).mentions};d.getMessage=function(a,c){c===void 0&&(c=!1);a=this.getEditorState(a);if(!a)return"";a=a.getCurrentContent();c=c?"\n":"";return b("getMentionsTextForContentState")(a,c)};d.getDelightRanges=function(a){var c=this.getEditorState(a);return!c?[]:b("getDelightRangesForContentState")(c.getCurrentContent(),"post",a)};d.getMessageText=function(a){a=this.getEditorState(a);if(!a)return"";a=a.getCurrentContent();return a?a.getPlainText():""};d.getRichTextBlocks=function(a){var c=b("ReactComposerTaggerStore").hasMarkdown(a);if(c)return null;c=this.getEditorState(a);return!c?null:b("RichTextViewUtils").getRichTextBlocksParams(c)};d.getOriginalMessageText=function(a){a=this.getOriginalEditorState(a);if(!a)return"";a=a.getCurrentContent();return a?a.getPlainText():""};d.getTextLength=function(a){return this.getComposerData(a).textLength};d.$ReactComposerStatusStore1=function(a){var b=this.getComposerData(a.composerID);b.mentionsSource=a.mentionsSource;this.emitChange(a.composerID)};d.$ReactComposerStatusStore2=function(a){var b=this.getComposerData(a.composerID);b.typeaheadReporter=a.typeaheadReporter;this.emitChange(a.composerID)};d.$ReactComposerStatusStore3=function(a){var b=this.getComposerData(a.composerID);b.editorState=a.editorState;b.activeEditorState=a.editorState;b.activeLanguageDialect=null;this.emitChange(a.composerID)};d.$ReactComposerStatusStore4=function(a){var b=this.getComposerData(a.composerID);b.activeEditorState=a.editorState;b.activeLanguageDialect=a.languageDialect;this.emitChange(a.composerID)};d.$ReactComposerStatusStore5=function(a){var b=this.getComposerData(a.composerID);b.originalEditorState=a.originalEditorState;this.emitChange(a.composerID)};d.$ReactComposerStatusStore6=function(a){var b=this.getComposerData(a.composerID);b.mentions=a.mentions;this.emitChange(a.composerID)};d.$ReactComposerStatusStore7=function(a){a=this.validateAction(a,["composerID","textLength"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textLength=a;this.emitChange(b)};d.$ReactComposerStatusStore8=function(a){var c=a.composerID;c=this.getMessageText(c);c=b("ContentState").createFromText(c);a.editorState=b("EditorState").createWithContent(c);this.$ReactComposerStatusStore3(a)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("getAutoURLRangesForContentState",["requireCond","cr:830759","cr:832181"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.getBlockMap().map(function(a){var c=[];b("cr:830759")!==null&&b("cr:830759")(a,function(a,b,d){c.push({start:a,end:b,match:d})});b("cr:832181")!==null&&b("cr:832181")(a,function(a,b,d,e){c.push({start:a,end:b,match:d,hovercard_endpoint:e})});return c}).toArray()}}),null);
__d("getImplicitURLRangesForContentState",["getImplicitURLMatches"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.getBlockMap().map(function(c){var d=[];b("getImplicitURLMatches")(c,function(a,b,c){d.push({start:a,end:b,match:c})},a);return d}).toArray()}}),null);
__d("encodeImplicitURLRanges",["UnicodeUtils","URI"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;function a(a,c,d){return d.map(function(d){var e=d.end,f=d.hovercard_endpoint,i=d.match;d=d.start;var j=(g||(g=b("UnicodeUtils"))).strlen(a.slice(0,d)),k=g.strlen(a.slice(d,e));d=c.some(function(a){return a.offset<j+k&&a.offset+a.length>j});if(d)return null;e={length:k,offset:j};d=i;i=new(h||(h=b("URI")))(d);d=i.getProtocol();d||i.setProtocol("http");d={data:babelHelpers["extends"]({url:i.toString()},f!=null?{hovercard_endpoint:f}:null),id:null,type:7};return{entity:d,range:e}}).filter(Boolean)}}),null);
__d("getRichComposedTextDataForSave",["encodeImplicitURLRanges"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.encodedContent,d=a.implicitLinks;a=c.blocks;var e=c.entityMap;if(d!=null){c=Object.keys(e).map(function(a){return Number(a)});c=Math.max.apply(Math,[0].concat(c));var f=c+1;a.forEach(function(a,c){c=b("encodeImplicitURLRanges")(a.text,a.entityRanges,d[c]);c.forEach(function(b){var c=b.entity;b=b.range;var d=f++;a.entityRanges.push(babelHelpers["extends"]({},b,{key:d}));e[""+d]=c})})}return{blocks:a.map(function(a){return a.text}),block_depths:a.map(function(a){return a.depth}),block_types:a.map(function(a){return a.type}),block_data:a.map(function(a){return a.data?JSON.stringify(a.data):"{}"}),entities:a.map(function(a){return JSON.stringify(a.entityRanges)}),entity_map:JSON.stringify(e),inline_styles:a.map(function(a){return JSON.stringify(a.inlineStyleRanges)})}}}),null);
__d("RichTextViewUtils",["FBLogger","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerTaggerStore","ReactComposerTaggerType","encodeBlocks","getAutoURLRangesForContentState","getImplicitURLRangesForContentState","getRichComposedTextDataForSave"],(function(a,b,c,d,e,f){"use strict";f.isRichTextEditorAllowed=a;f.getRichTextBlocksParams=c;function a(a,c){var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d===b("ReactComposerAttachmentType").LIVE_VIDEO||d===b("ReactComposerAttachmentType").SELL||d===b("ReactComposerAttachmentType").GROUP_MEET_UP||b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER))return!1;d=c&&c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];c=b("ReactComposerTaggerStore").hasMarkdown(a);return!!(d&&d.richTextEditor&&!c)}function g(a){for(var b=a.blocks,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.type!==0||e.inlineStyleRanges.length!==0)return!0}for(var f in a.entityMap){e=a.entityMap[f];if(e.type!==0&&e.type!==12)return!0}return!1}function c(a){a=a.getCurrentContent();var c=b("encodeBlocks")(a),d=b("getImplicitURLRangesForContentState")(a),e=b("getAutoURLRangesForContentState")(a);if(!(g(c)||e.some(function(a){return a.length})))return null;e.some(function(a){return a.length})&&b("FBLogger")("react_composer").info("autolinks used");a={encodedContent:c,implicitLinks:d.map(function(a,b){return a.concat(e[b])})};return b("getRichComposedTextDataForSave")(a)}}),null);
__d("ReactComposerScrapedAttachmentStore",["fbt","ActorURI","AsyncRequest","DOM","ExceptionDialog","FBLogger","PagesComposerCanvasVideoPostAttributes","PagesComposerCarouselPostChildAttachmentAttributes","PagesComposerCarouselPostLogAttributes","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerStore","ReactComposerTaggerType","XReactComposerScrapedAttachmentController","XReactComposerShareAttachmentController","requireCond","cr:1201382"],(function(a,b,c,d,e,f,g){var h=-1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{markup:null,attachmentConfig:{},enabled:!1,isScraping:!1,hasUploadedImage:!1,permissiveMatch:null,sourceAttachment:null,isFbPhotoShare:!1,clearedAttachments:new Set()}},function(a){switch(a.type){case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED:d&&d.$ReactComposerScrapedAttachmentStore1(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED:d&&d.$ReactComposerScrapedAttachmentStore2(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:d&&d.$ReactComposerScrapedAttachmentStore3(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED:d&&d.$ReactComposerScrapedAttachmentStore4(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerScrapedAttachmentStore5(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED:d&&d.$ReactComposerScrapedAttachmentStore6(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerScrapedAttachmentStore7(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD:d&&d.$ReactComposerScrapedAttachmentStore8(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED:d&&d.$ReactComposerScrapedAttachmentStore9(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED:d&&d.$ReactComposerScrapedAttachmentStore10(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED:d&&d.$ReactComposerScrapedAttachmentStore11(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CLEAR_SPINNER:d&&d.$ReactComposerScrapedAttachmentStore12(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET:d&&d.$ReactComposerScrapedAttachmentStore13(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.isEnabled=function(a){var c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").FUN_FACT),d=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").WORK_CHECKLIST);return c&&c.isAskPost||d?!1:this.getComposerData(a).isEnabled};d.hasAttachment=function(a){return!!this.getMarkup(a)};d.hasUploadedImage=function(a){return this.getComposerData(a).hasUploadedImage};d.isScraping=function(a){return this.getComposerData(a).isScraping};d.getMarkup=function(a){return this.getComposerData(a).markup};d.isReadOnly=function(a){a=this.getComposerData(a);return a.attachmentConfig&&a.attachmentConfig.readOnly};d.getAttachmentConfig=function(a){a=this.getComposerData(a);if(!a.markup)return null;if(!a.attachmentConfig.readOnly){var c=b("DOM").scry(a.markup,'input[name="attachment[params][images][0]"]').pop(),d=b("DOM").scry(a.markup,'input[name="attachment[params][title]"]').pop(),e=b("DOM").scry(a.markup,'input[name="attachment[params][summary]"]').pop();c!=null&&(a.attachmentConfig.params.images===void 0&&(a.attachmentConfig.params.images=[]),a.attachmentConfig.params.images[0]=c.value);d!=null&&(a.attachmentConfig.params.title=d.value);e!=null&&(a.attachmentConfig.params.summary=e.value);c=b("DOM").scry(a.markup,'input[name="attachment[carousel_log]['+b("PagesComposerCarouselPostLogAttributes").USE_CAROUSEL_COMPOSER+']"]').pop();d=b("DOM").scry(a.markup,'input[name="attachment[canvas_log][use_canvas_composer]"]').pop();c!=null&&c.value==="1"?(this.$ReactComposerScrapedAttachmentStore14(a),this.$ReactComposerScrapedAttachmentStore15(a)):d!=null&&d.value==="1"&&this.$ReactComposerScrapedAttachmentStore16(a);this.$ReactComposerScrapedAttachmentStore17(a)}return a.attachmentConfig};d.getPostConfirmationDialog=function(a){return this.getComposerData(a).postConfirmationDialog};d.getHasDisputedWarning=function(a){return this.getComposerData(a).hasDisputedWarning};d.getBreakingNewsConfig=function(a){return this.getComposerData(a).breakingNewsConfig};d.$ReactComposerScrapedAttachmentStore16=function(a){var c={publish:!0,cta_link_format:"VIDEO_LPP"},d=Object.values(b("PagesComposerCanvasVideoPostAttributes")),e=null;for(var f=0;f<d.length;f++){var g=d[f];e=b("DOM").scry(a.markup,'input[name="attachment[params][canvas_video]['+String(g)+']"]').pop();e&&(c[String(g)]=e.value)}a.attachmentConfig.params.canvas_video={};Object.assign(a.attachmentConfig.params.canvas_video,c)};d.$ReactComposerScrapedAttachmentStore17=function(a){var c={},d=Object.keys(b("PagesComposerCarouselPostLogAttributes"));for(var e=0;e<d.length;e++){var f=b("PagesComposerCarouselPostLogAttributes")[d[e]],g=b("DOM").scry(a.markup,'input[name="attachment[carousel_log]['+f+']"]').pop();if(!g)continue;c[f]=g.value}Object.keys(c).length!==0&&(a.attachmentConfig.carousel_log=c)};d.$ReactComposerScrapedAttachmentStore14=function(a){a.attachmentConfig.params.child_attachments={};var c=Object.keys(b("PagesComposerCarouselPostChildAttachmentAttributes")),d=0,e={};while(!0){var f=!1,g=0;e={};for(g=0;g<c.length;g++){var h=b("DOM").scry(a.markup,'input[name="attachment[params][child_attachments]['+d+"]["+b("PagesComposerCarouselPostChildAttachmentAttributes")[c[g]]+']"]').pop();if(h==null)continue;e[b("PagesComposerCarouselPostChildAttachmentAttributes")[c[g]]]=h.value;f=!0}if(!f)break;a.attachmentConfig.params.child_attachments[d]=e;d++}};d.$ReactComposerScrapedAttachmentStore15=function(a){var b=a.attachmentConfig.params.child_attachments;if(!b)return;var c=null,d=0;for(var e in b)if(Object.prototype.hasOwnProperty.call(b,e)&&b[e].selected==="1"){d+=1;if(d>1)return;b[e].video_id&&(c=b[e])}c&&(a.attachmentConfig.params.carousel_video_lpp={},Object.assign(a.attachmentConfig.params.carousel_video_lpp,{video_id:c.video_id,publish:!0,link_title:c.name,link_description:c.description,cta_type:c.cta_type?c.cta_type:"NO_BUTTON",cta_link:c.link,cta_link_format:"VIDEO_LPP"}))};d.getPermissiveMatch=function(a){return this.getComposerData(a).permissiveMatch};d.getContentID=function(a){return this.getComposerData(a).contentID};d.getAttachmentAlreadyCleared=function(a,b){b=this.getComposerData(a);return b.clearedAttachments.has(b.permissiveMatch)};d.$ReactComposerScrapedAttachmentStore9=function(a){a=this.validateAction(a,["composerID","index","value"]);var b=a[0],c=a[1];a=a[2];b=this.getComposerData(b);b.attachmentConfig.params.edited_params==null&&(b.attachmentConfig.params.edited_params={});b.attachmentConfig.params.edited_params[c]==null&&(b.attachmentConfig.params.edited_params[c]={});b.attachmentConfig.params.edited_params[c].title=a};d.$ReactComposerScrapedAttachmentStore10=function(a){a=this.validateAction(a,["composerID","index","value"]);var b=a[0],c=a[1];a=a[2];b=this.getComposerData(b);b.attachmentConfig.params.edited_params==null&&(b.attachmentConfig.params.edited_params={});b.attachmentConfig.params.edited_params[c]==null&&(b.attachmentConfig.params.edited_params[c]={});b.attachmentConfig.params.edited_params[c].summary=a};d.$ReactComposerScrapedAttachmentStore11=function(a){a=this.validateAction(a,["composerID","index"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.attachmentConfig.params.edited_params!=null&&b.attachmentConfig.params.edited_params[a]!=null&&(b.attachmentConfig.params.edited_params[h]=b.attachmentConfig.params.edited_params[a])};d.$ReactComposerScrapedAttachmentStore1=function(a){a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};d.$ReactComposerScrapedAttachmentStore2=function(a){a=this.validateAction(a,["composerID","permissiveMatch"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.permissiveMatch=a;this.emitChange(b)};d.$ReactComposerScrapedAttachmentStore3=function(a){var c=this,d=this.validateAction(a,["composerID","targetID","value","entryPoint","actorID","sourceLoggingName","isFilePicker","workSharedDraftMode"]),e=d[0],f=d[1],h=d[2],i=d[3],j=d[4],k=d[5],l=d[6];d=d[7];if(!this.isEnabled(e))return;var m=this.getComposerData(a.composerID);m.isScraping=!0;m=b("ReactComposerAttachmentStore").getSelectedAttachmentID(e);f=b("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",e).setString("target_id",f).setString("scrape_url",h).setString("entry_point",i).setString("source_attachment",m).setEnum("source_logging_name",k).setEnum("work_shared_draft_mode",d).getURI();f=b("ActorURI").create(f,j);new(b("AsyncRequest"))(f).setErrorHandler(function(d){b("FBLogger")("attachment_preview").catching(d.toError()).warn("failed to scrape attachment"),b("cr:1201382")!=null&&b("cr:1201382").removeScrapedAttachment(e,h),c.$ReactComposerScrapedAttachmentStore12(a),l&&b("ExceptionDialog").show(g._("Kh\u00f4ng th\u1ec3 \u0111\u00ednh k\u00e8m file"),g._("L\u1ed7i n\u00e0y c\u00f3 th\u1ec3 do s\u1ef1 c\u1ed1 m\u1ea1ng. H\u00e3y th\u1eed \u0111\u00ednh k\u00e8m l\u1ea1i file v\u00e0o l\u00fac sau ho\u1eb7c d\u00e1n li\u00ean k\u1ebft v\u00e0o file."))}).send();this.emitChange(e)};d.$ReactComposerScrapedAttachmentStore6=function(a){var b=this.getComposerData(a.composerID);b.clearedAttachments.add(b.permissiveMatch);b.attachmentConfig={};b.markup=null;b.isScraping=!1;b.sourceAttachment=null;b.permissiveMatch=null;this.emitChange(a.composerID)};d.$ReactComposerScrapedAttachmentStore5=function(a){var c=a.composerID;if(!this.isEnabled(c))return;var d=this.getComposerData(a.composerID);d.markup=a.markup;d.attachmentConfig=a.attachmentConfig;d.isScraping=!1;d.sourceAttachment=b("ReactComposerAttachmentStore").getSelectedAttachmentID(c);d.postConfirmationDialog=a.postConfirmationDialog;d.hasDisputedWarning=a.hasDisputedWarning;d.breakingNewsConfig=a.breakingNewsConfig;d.contentID=(a=(d=a.attachmentConfig.params)==null?void 0:d.global_share_id)!=null?a:null;this.emitChange(c)};d.$ReactComposerScrapedAttachmentStore7=function(a){var b=this.getComposerData(a.composerID);if(a.id===b.sourceAttachment||b.sourceAttachment===null||a.proxiedAttachmentID===b.sourceAttachment)return;b.markup=null;b.attachmentConfig={};b.isScraping=!1;b.sourceAttachment=null;this.emitChange(a.composerID)};d.$ReactComposerScrapedAttachmentStore8=function(a){var c=this,d=this.validateAction(a,["composerID","targetID","scrapeUrl","carouselParams","entryPoint","actorID"]),e=d[0],f=d[1],g=d[2],h=d[3],i=d[4];d=d[5];var j=this.getComposerData(a.composerID);j.isScraping=!0;j.hasUploadedImage=!0;j=b("ReactComposerAttachmentStore").getSelectedAttachmentID(e);e=b("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",e==null?null:e.toString()).setString("target_id",f==null?null:f.toString()).setString("scrape_url",g).setString("carousel_params",h).setString("entry_point",i).setString("source_attachment",j).getURI();e=b("ActorURI").create(e,d==null?"":d.toString());new(b("AsyncRequest"))(e).setErrorHandler(function(d){b("FBLogger")("attachment_preview").catching(d.toError()).warn("failed to upload carousel image"),c.$ReactComposerScrapedAttachmentStore12(a)}).send();this.emitChange(a.composerID)};d.$ReactComposerScrapedAttachmentStore4=function(a){var c=this,d=this.validateAction(a,["composerID","targetID","actorID","shareType","shareParams","isFbPhotoShare"]),e=d[0],f=d[1],g=d[2],h=d[3],i=d[4];d=d[5];if(!this.isEnabled(e))return;var j=this.getComposerData(e);j.isScraping=!0;j=b("ReactComposerAttachmentStore").getSelectedAttachmentID(e);f=b("XReactComposerShareAttachmentController").getURIBuilder().setString("composer_id",e).setString("target_id",f).setInt("share_type",h).setString("share_params",JSON.stringify(i)).setString("source_attachment",j).setBool("is_fb_photo_share",d).getURI();f=b("ActorURI").create(f,g);new(b("AsyncRequest"))(f).setErrorHandler(function(d){b("FBLogger")("attachment_preview").catching(d.toError()).warn("failed to share attachment"),c.$ReactComposerScrapedAttachmentStore12(a)}).send();this.emitChange(e)};d.$ReactComposerScrapedAttachmentStore13=function(a){var b=this.getComposerData(a.composerID);b.breakingNewsConfig=a.breakingNewsConfig};d.$ReactComposerScrapedAttachmentStore12=function(a){var b=this.getComposerData(a.composerID);b.isScraping=!1;this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerPortableCTAAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({FETCH_CTA_ATTACHMENT_PREVIEW:null,SET_ATTACHMENT_PREVIEW_MARKUP:null,SET_SELECTED_CTA:null,INITIALIZE_STICKY_CTA:null},"ReactComposerPortableCTAAttachmentActionType");e.exports=a}),null);
__d("ReactComposerPortableCTAAttachmentStore",["ActorURI","AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaUploadStore","ReactComposerPortableCTAAttachmentActionType","ReactComposerStoreBase","XReactComposerCTAAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{isFetching:!1,markup:null,selectedCta:null,portableCTAValues:null,isAutoUnselected:!1}},function(a){switch(a.type){case b("ReactComposerPortableCTAAttachmentActionType").FETCH_CTA_ATTACHMENT_PREVIEW:d&&d.$ReactComposerPortableCTAAttachmentStore1(a);break;case b("ReactComposerPortableCTAAttachmentActionType").SET_ATTACHMENT_PREVIEW_MARKUP:d&&d.$ReactComposerPortableCTAAttachmentStore2(a);break;case b("ReactComposerPortableCTAAttachmentActionType").SET_SELECTED_CTA:d&&d.$ReactComposerPortableCTAAttachmentStore3(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getMarkup=function(a){return this.getComposerData(a).markup};d.getCTAData=function(a){var b=this.getComposerData(a).selectedCta,c=this.getComposerData(a).portableCTAValues;return!!b&&!!c?{type:this.getComposerData(a).selectedCta,value:this.getComposerData(a).portableCTAValues}:null};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.getIsAutoUnselected=function(a){return this.getComposerData(a).isAutoUnselected};d.getSelectedCta=function(a){return this.getComposerData(a).selectedCta};d.isPortableCTAAttached=function(a){if(b("ReactComposerAttachmentStore").getSelectedAttachmentID(a)===b("ReactComposerAttachmentType").MEDIA&&b("ReactComposerMediaUploadStore").getPhotos(a).size===1){a=this.getCTAData(a);return a!==null&&a!==void 0}return!1};d.$ReactComposerPortableCTAAttachmentStore1=function(a){var c=this;a=this.validateAction(a,["composerID","selectedCta","actorID","targetID","composerType","attachmentID"]);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4];a=a[5];var i=this.getComposerData(d);i.selectedCta=e;i.isFetching=!0;i.markup=null;h=b("XReactComposerCTAAttachmentBootstrapController").getURIBuilder().setString("composer_id",d).setEnum("composer_type",h).setInt("target_id",g).setString("cta_type",e).setString("attachment_id",a).setEnum("preview_style","portable_preview");g=b("ActorURI").create(h.getURI(),f);e=new(b("AsyncRequest"))(g).setErrorHandler(function(){i.isFetching=!1,c.emitChange(d)});e.send();this.emitChange(d)};d.$ReactComposerPortableCTAAttachmentStore2=function(a){a=this.validateAction(a,["composerID","markup","selectedCta","ctaValues","isAutoUnselected"]);var b=a[0],c=a[1],d=a[2],e=a[3];a=a[4];var f=this.getComposerData(b);f.markup=c;f.isFetching=!1;f.selectedCta=d;f.portableCTAValues=e;d==null&&a!=null&&(f.isAutoUnselected=a);d!=null&&(f.isAutoUnselected=!1);this.emitChange(b)};d.$ReactComposerPortableCTAAttachmentStore3=function(a){a=this.validateAction(a,["composerID","selectedCta"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedCta=a;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerTaggerActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_TAGGER_SHOW_TOOLTIP:null,SET_IS_BRANDED_CONTENT_VIDEO:null,SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR:null,SET_PRODUCT_TAGGING_PLATFORM:null,SET_COMPOSER_HAS_VIDEO_UPLOADS:null,SET_SHOULD_SHOW_PT_MEDIA_UPLOAD_MODAL:null,SET_PHOTO_EDITOR_OPENED:null,SET_TAGGER_CONFIG:null,LOG_WP_PICKER_ACTION:null,SET_PRODUCT_SUGGESTION_PHOTO_ID:null,SET_REFERRAL_SOURCE:null},"ReactComposerTaggerActionType");e.exports=a}),null);
__d("ReactComposerTaggerActions",["ReactComposerDispatcher","ReactComposerTaggerActionType","ReactComposerTaggerStore"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.deselectCurrentTagger=function(a,c){var d=b("ReactComposerTaggerStore").getSelectedTagger(a);if(d){a={composerID:a,sourceLoggingName:c,type:b("ReactComposerTaggerActionType").DESELECT_TAGGER,taggerID:d};b("ReactComposerDispatcher").dispatch(a)}};c.selectTagger=function(a,c,d,e){var f=b("ReactComposerTaggerStore").getSelectedTagger(a);d===f&&e!==!0?this.deselectCurrentTagger(a,c):this.$1(a,d,!1,!0,c)};c.selectTaggerWithoutLogging=function(a,b){this.$1(a,b,!0,!0)};c.selectTaggerWithoutAutofocus=function(a,b,c){this.$1(a,c,!1,!1,b)};c.$1=function(a,c,d,e,f){a={composerID:a,sourceLoggingName:f,type:b("ReactComposerTaggerActionType").SET_SELECTED_TAGGER,taggerID:c,autoFocus:e,suppressWaterfallLogging:d};b("ReactComposerDispatcher").dispatch(a)};c.updateTaggersSource=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE,taggersSource:c};b("ReactComposerDispatcher").dispatch(a)};c.setTaggerSource=function(a,c,d){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_TAGGER_SOURCE,taggerID:c,taggerSource:d};b("ReactComposerDispatcher").dispatch(a)};c.setTaggerConfig=function(a,c,d){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_TAGGER_CONFIG,taggerConfig:d,taggerID:c};b("ReactComposerDispatcher").dispatch(a)};c.setTaggerData=function(a,b,c,d){this.$2(a,c,d,!1,b)};c.setTaggerDataWithoutLogging=function(a,b,c){this.$2(a,b,c,!0)};c.$2=function(a,c,d,e,f){a={composerID:a,sourceLoggingName:f,type:b("ReactComposerTaggerActionType").SET_TAGGER_DATA,taggerID:c,taggerData:d,suppressWaterfallLogging:e};b("ReactComposerDispatcher").dispatch(a)};c.selectDateTime=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_SELECTED_DATETIME,selectedDateTime:c};b("ReactComposerDispatcher").dispatch(a)};c.selectPeople=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_SELECTED_PEOPLE,selectedPeople:c};b("ReactComposerDispatcher").dispatch(a)};c.handleSetTaggerShowNUX=function(a,c,d){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX,taggerID:c,showNUX:d};b("ReactComposerDispatcher").dispatch(a)};c.handleSetTaggerShowTooltip=function(a,c,d){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP,taggerID:c,showTooltip:d};b("ReactComposerDispatcher").dispatch(a)};c.setIsBrandedContentVideo=function(a,c){a={composerID:a,isBrandedContentVideo:c,type:b("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO};b("ReactComposerDispatcher").dispatch(a)};c.logWPPickerAction=function(a,c,d){var e=b("ReactComposerTaggerStore").getSelectedTagger(a);e={composerID:a,taggerID:e,type:b("ReactComposerTaggerActionType").LOG_WP_PICKER_ACTION,event:c,extraData:(a=d)!=null?a:{}};b("ReactComposerDispatcher").dispatch(e)};c.setShouldNavigateToPhotoEditor=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR,shouldNavigateToPhotoEditor:c};b("ReactComposerDispatcher").dispatch(a)};c.setProductTaggingPlatform=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_PRODUCT_TAGGING_PLATFORM,platform:c};b("ReactComposerDispatcher").dispatch(a)};c.setComposerHasVideoUploads=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_COMPOSER_HAS_VIDEO_UPLOADS,composerHasVideoUploads:c};b("ReactComposerDispatcher").dispatch(a)};c.setPhotoEditorOpened=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_PHOTO_EDITOR_OPENED,photoEditorOpened:c};b("ReactComposerDispatcher").dispatch(a)};c.setProductSuggestionPhotoID=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_PRODUCT_SUGGESTION_PHOTO_ID,productSuggestionPhotoID:c};b("ReactComposerDispatcher").dispatch(a)};c.setReferralSource=function(a,c){a={composerID:a,type:b("ReactComposerTaggerActionType").SET_REFERRAL_SOURCE,referralSource:c};b("ReactComposerDispatcher").dispatch(a)};return a}();c=new a();e.exports=c}),null);
__d("ReactComposerTaggerEligibilityUtils",["BrandedContentLivingRoomQE","CurrentUser","DestinationPickerEligibilityConfig","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPortableCTAAttachmentStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","URLScraper","VideoComposerDispatchers","gkx","ifRequired","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a={isStoryCreateEligible:function(a){var c,d;c=[(c=b("ReactComposerTaggerType")).GIF,c.BREAKING_NEWS,c.OG,c.MARKDOWN,c.ALBUM,c.SALES_PROMO,c.MESSAGING,c.RECOMMENDATION,c.LIST,c.VISUAL_POLL,c.FUN_FACT,c.STICKER,c.TAG_EVENT,c.PAGE_CTA,c.SHOP,c.PRODUCT,c.CHATROOM];d=[(d=b("ReactComposerAttachmentType")).ASSET_3D,d.LIST,d.PLACE_LIST,d.VISUAL_POLL,d.TODO_LIST,d.CTA,d.MESSAGE,d.CALL,d.GET_DIRECTIONS,d.SHOP,d.LIVING_ROOM,d.ANONYMOUS_GROUP_POST,d.ANONYMOUS_GROUP_POST_MEDIA,d.ANONYMOUS_GROUP_POST_PLACE_LIST];c=c.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)});if(c)return!1;c=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d.includes(c))return!1;d=b("ReactComposerTaggerStore").hasLocationTag(a);var e=b("ReactComposerTaggerStore").hasMinutiae(a),f=b("ReactComposerTaggerStore").getNumberOfWithWhoTags(a)>0,g=b("ReactComposerScrapedAttachmentStore").hasAttachment(a),h=b("ReactComposerScrapedAttachmentStore").getAttachmentConfig(a),i=!1;h&&(i=Array.isArray(h.params));if(g&&(i||!b("DestinationPickerEligibilityConfig").allowLinkStory))return!1;h=b("ReactComposerStatusStore").getMessageText(a).length>0;if(g&&!b("gkx")("707909"))return!1;i=c===b("ReactComposerAttachmentType").MEDIA?b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO)>0:!1;c=c===b("ReactComposerAttachmentType").MEDIA?b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").PHOTO)>0:!1;var j=i?b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").VIDEO).every(function(a){return a&&a.videoMetadata&&a.videoMetadata.format&&(b("DestinationPickerEligibilityConfig").isVideoLengthLimited?a.videoMetadata.format.duration<=b("DestinationPickerEligibilityConfig").maxVideoLengthInSeconds:!0)}):!0;if(!j)return!1;if(d||e||f){if(!c&&!i&&!h&&!g&&d)return b("DestinationPickerEligibilityConfig").allowLocationAsPrimary;else if(!c&&!i&&!g&&!h&&e)return b("DestinationPickerEligibilityConfig").allowMinutiaeAsPrimary;else if(!c&&!i&&!g&&!h&&f)return b("DestinationPickerEligibilityConfig").allowWithTagsAsPrimary;if(g)return b("gkx")("707909")}return!0},isAdsPePostEligible:function(a){return this.getAdsPePostSharingEligibility(a)==="ELIGIBLE"},getAdsPePostSharingEligibility:function(a){var c,d;c=[(c=b("ReactComposerTaggerType")).GIF,c.BREAKING_NEWS,c.MARKDOWN,c.ALBUM,c.SALES_PROMO,c.RECOMMENDATION,c.LIST,c.FUN_FACT,c.STICKER,c.TAG_EVENT,c.PAGE_CTA,c.SHOP];d=[(d=b("ReactComposerAttachmentType")).ASSET_3D,d.LIST,d.PLACE_LIST,d.CALL,d.GET_DIRECTIONS,d.ANONYMOUS_GROUP_POST,d.ANONYMOUS_GROUP_POST_MEDIA,d.ANONYMOUS_GROUP_POST_PLACE_LIST];c=c.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)});if(c)return"UNSUPPORTED_SPROUT";c=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);return d.includes(c)?"UNSUPPORTED_SPROUT":"ELIGIBLE"},isInstagramEligible:function(a){a=this.getInstagramSharingEligibility(a);return a==="PHOTO_ELIGIBLE"||a==="VIDEO_ELIGIBLE"},getInstagramSharingEligibility:function(a){if(!b("ReactComposerAudienceStore").getTimelineSelected(a))return"TIMELINE_UNSELECTED";if(!b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").MEDIA))return"UNSUPPORTED_MEDIA_TYPE";if(b("ReactComposerPortableCTAAttachmentStore").isPortableCTAAttached(a))return"UNSUPPORTED_MEDIA_TYPE";var c=b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO),d=b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").PHOTO);if(c>0&&d>0)return"MULTI_MEDIA_UNSUPPORTED";else if(c==0&&d==0)return"UNSUPPORTED_MEDIA_TYPE";else if(d>0)return this._getInstagramSharingEligibilityForPhoto(b("ReactComposerMediaUploadStore").getPhotos(a));else return this._getInstagramSharingEligibilityForVideo(b("ReactComposerMediaUploadStore").getVideos(a))},_getInstagramSharingEligibilityForPhoto:function(a){if(a.size>1)return"MULTI_PHOTO_UNSUPPORTED";a=a.get(0);if(a.fileSize>8388608)return"FILE_TOO_BIG";var b=a.width/a.height;if(b<.8||b>1.91)return"INVALID_PHOTO_RATIO";b=a.filename;if(!b)return"UNSUPPORTED_PHOTO_FORMAT";a=["bmp","dib","jpg","jpeg","jpe","jif","jfif","jfi","png","gif"];b=b.split(".").pop().toLowerCase();return!a.includes(b)?"UNSUPPORTED_PHOTO_FORMAT":"PHOTO_ELIGIBLE"},_getInstagramSharingEligibilityForVideo:function(a){return a.size>1?"MULTI_VIDEO_UNSUPPORTED":"VIDEO_ELIGIBLE"},_isValidTaggerID:function(a,c,d){return!a.some(function(a){return!d.includes(a)&&b("ReactComposerTaggerStore").hasData(c,a)})},isAskAdminToPostEligible:function(a){var c=[],d=[b("ReactComposerAttachmentType").STATUS,b("ReactComposerAttachmentType").MEDIA],e=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);return!d.includes(e)?!1:this._isValidTaggerID(Object.keys(b("ReactComposerTaggerType")),a,c)},getPostAsAnonymousAuthorCompatibleTaggers:function(){var a;return[(a=b("ReactComposerTaggerType")).MEDIA,a.PEOPLE,a.FORMATTED_TEXT,a.GIF,a.LOCATION,a.ACTIVITY,a.STICKER,a.OG,a.RECOMMENDATION,a.VISUAL_POLL]},isPostAsAnonymousAuthorEligible:function(a){return!b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a)?!1:this._isValidTaggerID(Object.keys(b("ReactComposerTaggerType")),a,this.getPostAsAnonymousAuthorCompatibleTaggers())},isSATPEligible:function(a,c){if(this.exceedSATPCharacterCountOrExceedNewLinesCount(a,c)&&!b("gkx")("685606"))return!1;c=[b("ReactComposerAttachmentType").STATUS,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST];c=c.some(function(c){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c)});if(!(c&&b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a)))return!1;c=b("ifRequired")("ReactComposerFocusStore",function(b){return b.isComposerFocused(a)},function(){return!0});if(!c)return!1;if(b("ReactComposerScrapedAttachmentStore").hasAttachment(a))return!1;if(b("ReactComposerMediaUploadStore").getUploadsCount(a)!==0)return!1;if(b("ReactComposerTaggerStore").hasExplicitLocation(a))return!1;if(b("ReactComposerTaggerStore").hasMarkdown(a))return!1;if(b("ReactComposerMinutiaeAttachmentStore").getMarkup(a)!=null)return!1;if(b("ReactComposerStatusStore").getRichTextBlocks(a)!=null)return!1;c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").STICKER);if(c&&c.stickerID)return!1;c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").FUNDRAISER);if(c&&c.charityID)return!1;c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS);if(c&&c.gameID)return!1;c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SUPPORT_NOW);if(c&&c.hasSupportNowCTA)return!1;c=b("ReactComposerStatusStore").getMessageText(a);if(b("URLScraper").permissiveMatch(c)!=null)return!1;c=!0;b("ifRequired")("ReactComposerPostToGroupStore",function(b){c=!b.getIsTabSelected(a)});if(!c)return!1;var d=!0;b("ifRequired")("ReactComposerEventAttachmentStore",function(b){d=!b.hasAttachment(a)});if(!d)return!1;return b("CurrentUser").isWorkUser()?b("ReactComposerTaggerStore").isAMA(a):!0},exceedSATPCharacterCountOrExceedNewLinesCount:function(a,c){var d=b("ReactComposerStatusStore").getMessageText(a).match(/\n/g);d=d?d.length>c.maxNewlines:!1;return b("ReactComposerStatusStore").getTextLength(a)>c.textLengthLimit||d},isGIFEligible:function(a){var c;c=[(c=b("ReactComposerAttachmentType")).ASSET_3D,c.LIST,c.PLACE_LIST,c.TODO_LIST,c.VISUAL_POLL,c.MEDIA,c.LIVING_ROOM,c.SHIFT_SWAP,c.VIDEO_MEETUP,c.ANONYMOUS_GROUP_POST_MEDIA,c.ANONYMOUS_GROUP_POST_PLACE_LIST];var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(c.includes(d))return!1;c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").FUN_FACT);if(c&&c.isAskPost)return!1;d=[b("ReactComposerTaggerType").RECRUITING_CANDIDATE,b("ReactComposerTaggerType").WORK_CHECKLIST];return d.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)})?!1:b("ReactComposerScrapedAttachmentStore").isEnabled(a)},isAppIntegrationEligible:function(a){var c;c=[(c=b("ReactComposerAttachmentType")).LIST,c.PLACE_LIST,c.TODO_LIST,c.VISUAL_POLL,c.MEDIA,c.LIVING_ROOM,c.ANONYMOUS_GROUP_POST,c.ANONYMOUS_GROUP_POST_MEDIA,c.ANONYMOUS_GROUP_POST_PLACE_LIST,c.VIDEO_MEETUP];var d=[b("ReactComposerTaggerType").RECRUITING_CANDIDATE,b("ReactComposerTaggerType").WORK_CHECKLIST],e=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);d=d.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)});return!(d||c.includes(e))},isBreakingNewsEligible:function(a){if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;var c=b("ReactComposerTaggerStore").getTaggersConfig(a,b("ReactComposerTaggerType").BREAKING_NEWS);if(((c=c)!=null?(c=c.initialStatus)!=null?c.enabled:c:c)===!1)return!1;c=!1;b("ifRequired")("LiveVideoBroadcastUIStore",function(b){b=b.get("composerConfig");c=b&&b.composerID===a});if(c)return!0;var d=b("ReactComposerScrapedAttachmentStore").hasAttachment(a),e=b("ReactComposerScrapedAttachmentStore").getBreakingNewsConfig(a);return d&&!!e&&e.enabled},isLocalAlertsEligible:function(a){if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;var c=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").ACTIVITY);a=b("ReactComposerTaggerStore").getTaggersConfig(a,b("ReactComposerTaggerType").LOCAL_ALERTS);return!c&&((c=a)!=null?(c=c.initialStatus)!=null?c.enabled:c:c)===!0},isMessagingEligible:function(a,c){c===void 0&&(c=!1);if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;var d=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO),e=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").VIDEO);d=d!=null?d.size:0;e=e!=null?e.size:0;if(e&&e>1)return!1;var f=!1;b("ifRequired")("VideoComposerStores",function(a){a=a.getUploadStore(g).getState();a=a.videoData;f=a!==null});if(!d&&!e&&!f)return!1;e=!1;b("ifRequired")("ReactComposerSlideshowStore",function(b){e=b.isSlideshowSelected(a)});if(e)return!1;var h=!1;b("ifRequired")("ReactComposerCanvasStore",function(b){h=b.isCanvasSelected(a)});if(h)return!1;var i=!1;b("ifRequired")("ReactComposerCollectionStore",function(b){i=b.isCollectionSelected(a)});if(i)return!1;var j=!1;b("ifRequired")("ReactComposerPhotoCarouselStore",function(b){j=b.isPhotoCarouselSelected(a)});if(j)return!1;var k=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT)||[],l=b("ReactComposerTaggerStore").getTaggersConfig(a,b("ReactComposerTaggerType").PRODUCT);l=((l=l)!=null?l.shouldDisableMessagingCTAOnProductTagged:l)||!1;if(l&&k.length>0)return!1;l=b("ReactComposerTaggerStore").hasSupportNowCTA(a);if(l)return!1;k=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PAGES_INTERCEPTION);k=((l=k)!=null?l.shouldShowInlineInterception:l)||!1;if(k)return!1;return!d||d==1?!0:c},isSponsorEligible:function(a){if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;return b("BrandedContentLivingRoomQE").canBrandLivingRoom?!0:!b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").LIVING_ROOM)&&b("ReactComposerAttachmentStore").getSelectedAttachmentID(a)!==b("ReactComposerAttachmentType").LIVING_ROOM},isLivingRoomEligible:function(a){var c;c=[(c=b("ReactComposerTaggerType")).LIST,c.POLITICAL_INFO,c.CONTACT_YOUR_REPRESENTATIVE,c.FUN_FACT,c.ALBUM,c.FUNDRAISER,c.SUPPORT_NOW,c.CAMERA,c.GIF,c.STORIES,c.PLAY_WITH_FRIENDS];b("BrandedContentLivingRoomQE").canBrandLivingRoom||(c=c.concat([b("ReactComposerTaggerType").SPONSOR]));c=c.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)});return!c},isGetShowtimesEligible:function(a){if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;var c=[b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").BREAKING_NEWS,b("ReactComposerTaggerType").OG,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").SALES_PROMO,b("ReactComposerTaggerType").MESSAGING,b("ReactComposerTaggerType").RECOMMENDATION,b("ReactComposerTaggerType").LIST,b("ReactComposerTaggerType").VISUAL_POLL,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STICKER,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").SHOP,b("ReactComposerTaggerType").PRODUCT,b("ReactComposerTaggerType").PAGES_INTERCEPTION];c=c.some(function(c){return b("ReactComposerTaggerStore").hasData(a,c)});return!c},hasMultiPhoto:function(a){a=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO);a=a!=null?a.size:0;return a>1},getWorkContentTaggerList:function(){var a;return[(a=b("ReactComposerTaggerType")).WORK_FILE,a.APP_INTEGRATION_AODOCS,a.APP_INTEGRATION_BOX,a.APP_INTEGRATION_CORNERSTONE,a.APP_INTEGRATION_DROPBOX,a.APP_INTEGRATION_EGNYTE,a.APP_INTEGRATION_GDRIVE,a.APP_INTEGRATION_JIRA,a.APP_INTEGRATION_ONEDRIVE,a.APP_INTEGRATION_QUIP,a.APP_INTEGRATION_SHAREPOINT,a.APP_INTEGRATION_TASKS,a.APP_INTEGRATION_TRELLO]},isProductTaggingEligible:function(a){if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))return!1;if(b("gkx")("1353641")){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").MEDIA),d=!1,e=!1;b("ifRequired")("VideoComposerStores",function(a){var b=a.getUploadStore(g).getState();b=b.videoData;d=b!==null;b=a.getEditStore(g).getState();a=b.creationTime;e=a!==null&&a!==0});return c&&(b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").PHOTO)>0||b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO)>0)||d||e}return!0},isChatroomEligible:function(a){var c=b("ReactComposerStatusStore").getMessageText(a);if(b("URLScraper").permissiveMatch(c)!=null)return!1;return b("ReactComposerScrapedAttachmentStore").hasAttachment(a)?!1:!0}};e.exports=a}),null);
__d("ReactComposerTaggerStore",["ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerType","SearchableEntry","first","gkx","immutable","isEmpty"],(function(a,b,c,d,e,f){var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){var a,c={};c[(a=b("ReactComposerTaggerType")).PEOPLE]=[];c[a.LOCATION]={};c[a.BACKDATE]={};c[a.ACTIVITY]={};c[a.TARGETING]={};c[a.PUBLISHER_ABTEST_HOLDOUT]={};c[a.SPONSOR]={canAddSponsorCTA:!1,directShareStatus:0,sponsorRelationship:0,sponsors:[]};c[a.BC_SUPPORT]={directShareStatus:1,sponsorRelationship:4,sponsors:[]};c[a.PRODUCT]=[];c[a.XY_PRODUCT]=[];c[a.PRODUCT_SPROUT]={};c[a.MARKDOWN]={};c[a.AMA]={};c[a.CONTENT_WARNINGS]=[];c[a.MESSAGING]=[];c[a.GET_SHOWTIMES]={};c[a.GROUP_JOIN_CTA]={};c[a.POLITICAL_INFO]={};c[a.CONTACT_YOUR_REPRESENTATIVE]={};c[a.GIF]={};c[a.APP_INTEGRATION_AODOCS]={};c[a.APP_INTEGRATION_BOX]={};c[a.APP_INTEGRATION_CORNERSTONE]={};c[a.APP_INTEGRATION_DROPBOX]={};c[a.APP_INTEGRATION_EGNYTE]={};c[a.APP_INTEGRATION_GDRIVE]={};c[a.APP_INTEGRATION_JIRA]={};c[a.APP_INTEGRATION_ONEDRIVE]={};c[a.APP_INTEGRATION_QUIP]={};c[a.APP_INTEGRATION_SHAREPOINT]={};c[a.APP_INTEGRATION_TASKS]={};c[a.APP_INTEGRATION_TRELLO]={};c[a.WORK_FILE]={};c[a.FUNDRAISER]={};c[a.PLAY_WITH_FRIENDS]={};c[a.BREAKING_NEWS]={isAttachmentBreaking:!1,expirationTime:0};c[a.LOCAL_ALERTS]={expirationTime:0};c[a.TAG_EVENT]={};c[a.TAG_EVENT_TICKET]={ticketedEventData:null};c[a.VIDEO_SUGGESTIONS]={};c[a.SUPPORT_NOW]={};c[a.STARS]={};c[a.PAGES_INTERCEPTION]={shouldShowInlineInterception:!1,interceptionDecision:null};c[a.SOTTO_CTA]={};c[a.PAID_VIRTUAL_EVENT_GATED_POST]={};var d={};d[a.FORMATTED_TEXT]={maxNewLines:3,textLengthLimit:130};c[a.CHATROOM]={hasChatroom:!1};c[a.COVID_BUSINESS_POST]={isSelected:!1};c[a.WORK_CHECKLIST]={hasChecklist:!1};return{$ReactComposerTaggerStore1:b("immutable").Set(),autoFocusOnSelectedTagger:!0,selectedTagger:null,taggersData:c,taggersSource:{},taggersShowNUX:{},taggersShowTooltip:{},sourceAttachment:null,taggersConfig:d}},function(a){switch(a.type){case b("ReactComposerTaggerActionType").DESELECT_TAGGER:d&&d.$ReactComposerTaggerStore2(a);break;case b("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:d&&d.$ReactComposerTaggerStore3(a);break;case b("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE:d&&d.$ReactComposerTaggerStore4(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_SOURCE:d&&d.$ReactComposerTaggerStore5(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_DATA:d&&d.$ReactComposerTaggerStore6(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX:d&&d.$ReactComposerTaggerStore7(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP:d&&d.$ReactComposerTaggerStore8(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_CONFIG:d&&d.$ReactComposerTaggerStore9(a);break;case b("ReactComposerTaggerActionType").SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR:d&&d.$ReactComposerTaggerStore10(a);break;case b("ReactComposerTaggerActionType").SET_PRODUCT_TAGGING_PLATFORM:d&&d.$ReactComposerTaggerStore11(a);break;case b("ReactComposerTaggerActionType").SET_COMPOSER_HAS_VIDEO_UPLOADS:d&&d.$ReactComposerTaggerStore12(a);break;case b("ReactComposerTaggerActionType").SET_SHOULD_SHOW_PT_MEDIA_UPLOAD_MODAL:d&&d.$ReactComposerTaggerStore13(a);break;case b("ReactComposerTaggerActionType").SET_PHOTO_EDITOR_OPENED:d&&d.$ReactComposerTaggerStore14(a);break;case b("ReactComposerTaggerActionType").SET_PRODUCT_SUGGESTION_PHOTO_ID:d&&d.$ReactComposerTaggerStore15(a);break;case b("ReactComposerTaggerActionType").SET_REFERRAL_SOURCE:d&&d.$ReactComposerTaggerStore16(a);break;case b("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:d&&d.$ReactComposerTaggerStore17(a);break;case b("ReactComposerPhotoActionType").PHOTO_TAG_XY:d&&d.$ReactComposerTaggerStore18(a);break;case b("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:d&&d.$ReactComposerTaggerStore19(a);break;case b("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:d&&d.$ReactComposerTaggerStore20(a);break;case b("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:d&&d.$ReactComposerTaggerStore21(a);break;case b("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:b("ReactComposerDispatcher").waitFor([b("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerTaggerStore22(a);break;case b("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:d&&d.$ReactComposerTaggerStore23(a);break;case b("ReactComposerPhotoActionType").PHOTO_REMOVE:b("ReactComposerDispatcher").waitFor([b("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerTaggerStore24(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:d&&d.$ReactComposerTaggerStore25(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerTaggerStore26(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerTaggerStore27(a);break;case b("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PRODUCT_TAGS:d&&d.$ReactComposerTaggerStore28(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.isDisabled=function(a,c,d){var e=this;d===void 0&&(d=!1);var f=[b("ReactComposerAttachmentType").STATUS,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST],g=!1,h=[],i=[];switch(c){case b("ReactComposerTaggerType").CONTENT_WARNINGS:case b("ReactComposerTaggerType").BACKDATE:case b("ReactComposerTaggerType").TARGETING:case b("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case b("ReactComposerTaggerType").MARKDOWN:case b("ReactComposerTaggerType").ALBUM:case b("ReactComposerTaggerType").VAULTPHOTO:case b("ReactComposerTaggerType").SALES_PROMO:case b("ReactComposerTaggerType").GROUP_JOIN_CTA:case b("ReactComposerTaggerType").PAGES_INTERCEPTION:case b("ReactComposerTaggerType").STARS:case b("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return!1;case b("ReactComposerTaggerType").CHATROOM:return!b("ReactComposerTaggerEligibilityUtils").isChatroomEligible(a);case b("ReactComposerTaggerType").FORMATTED_TEXT:return!b("ReactComposerTaggerEligibilityUtils").isSATPEligible(a,this.getTaggersConfig(a,b("ReactComposerTaggerType").FORMATTED_TEXT));case b("ReactComposerTaggerType").MESSENGER:case b("ReactComposerTaggerType").STORIES:return!b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a);case b("ReactComposerTaggerType").ADS_PE_POST:return!b("ReactComposerTaggerEligibilityUtils").isAdsPePostEligible(a);case b("ReactComposerTaggerType").INSTAGRAM:return!b("ReactComposerTaggerEligibilityUtils").isInstagramEligible(a);case b("ReactComposerTaggerType").GIF:return!b("ReactComposerTaggerEligibilityUtils").isGIFEligible(a);case b("ReactComposerTaggerType").APP_INTEGRATION_AODOCS:case b("ReactComposerTaggerType").APP_INTEGRATION_BOX:case b("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE:case b("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX:case b("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE:case b("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE:case b("ReactComposerTaggerType").APP_INTEGRATION_JIRA:case b("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE:case b("ReactComposerTaggerType").APP_INTEGRATION_QUIP:case b("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT:case b("ReactComposerTaggerType").APP_INTEGRATION_TASKS:case b("ReactComposerTaggerType").APP_INTEGRATION_TRELLO:case b("ReactComposerTaggerType").WORK_FILE:return!b("ReactComposerTaggerEligibilityUtils").isAppIntegrationEligible(a);case b("ReactComposerTaggerType").BREAKING_NEWS:return!b("ReactComposerTaggerEligibilityUtils").isBreakingNewsEligible(a);case b("ReactComposerTaggerType").PEOPLE:case b("ReactComposerTaggerType").OG:h=[b("ReactComposerTaggerType").STORIES];i=[];break;case b("ReactComposerTaggerType").LOCATION:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").RECRUITING_CANDIDATE,b("ReactComposerTaggerType").WORK_CHECKLIST];i=[b("ReactComposerAttachmentType").CTA,b("ReactComposerAttachmentType").MESSAGE,b("ReactComposerAttachmentType").CALL];break;case b("ReactComposerTaggerType").LOCAL_ALERTS:return!b("ReactComposerTaggerEligibilityUtils").isLocalAlertsEligible(a);case b("ReactComposerTaggerType").MESSAGING:return!b("ReactComposerTaggerEligibilityUtils").isMessagingEligible(a,d);case b("ReactComposerTaggerType").GET_SHOWTIMES:return!b("ReactComposerTaggerEligibilityUtils").isGetShowtimesEligible(a);case b("ReactComposerTaggerType").PRODUCT:case b("ReactComposerTaggerType").XY_PRODUCT:d=b("ReactComposerTaggerEligibilityUtils").isProductTaggingEligible(a);if(!d&&!b("gkx")("1353641"))return!0;i=[b("ReactComposerAttachmentType").MESSAGE,b("ReactComposerAttachmentType").SHOP];break;case b("ReactComposerTaggerType").SPONSOR:d=this.getTaggerData(a,b("ReactComposerTaggerType").BC_SUPPORT);d=b("first")((d=d==null?void 0:d.sponsors)!=null?d:[]);var j=b("ReactComposerTaggerEligibilityUtils").isSponsorEligible(a);d=d!=null;return!j||d;case b("ReactComposerTaggerType").BC_SUPPORT:j=this.getTaggerData(a,b("ReactComposerTaggerType").SPONSOR);j=b("first")((d=j==null?void 0:j.sponsors)!=null?d:[]);d=b("ReactComposerTaggerEligibilityUtils").isSponsorEligible(a);j=j!=null;return!d||j;case b("ReactComposerTaggerType").PAGE_CTA:case b("ReactComposerTaggerType").LOCAL_DEV_PLATFORM:case b("ReactComposerTaggerType").CALL:case b("ReactComposerTaggerType").SHOP:h=[b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").LOCATION,b("ReactComposerTaggerType").PRODUCT,b("ReactComposerTaggerType").STORIES];i=[b("ReactComposerAttachmentType").LIVING_ROOM,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").RECOMMENDATION:h=[b("ReactComposerTaggerType").POLITICAL_INFO,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").CAMERA,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").TAG_EVENT_TICKET,b("ReactComposerTaggerType").SOTTO_CTA];g=!0;break;case b("ReactComposerTaggerType").FIND_PLAYERS:h=[b("ReactComposerTaggerType").BC_SUPPORT];g=!0;break;case b("ReactComposerTaggerType").LIST:h=[b("ReactComposerTaggerType").VISUAL_POLL,b("ReactComposerTaggerType").POLITICAL_INFO,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").CAMERA,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").TAG_EVENT_TICKET,b("ReactComposerTaggerType").SOTTO_CTA];g=!0;break;case b("ReactComposerTaggerType").VISUAL_POLL:h=[b("ReactComposerTaggerType").LIST,b("ReactComposerTaggerType").POLITICAL_INFO,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").CAMERA,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").RECRUITING_CANDIDATE,b("ReactComposerTaggerType").SOTTO_CTA,b("ReactComposerTaggerType").WORK_CHECKLIST].concat(b("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());g=!0;break;case b("ReactComposerTaggerType").LIVING_ROOM:if(!b("ReactComposerTaggerEligibilityUtils").isLivingRoomEligible(a))return!0;g=!0;break;case b("ReactComposerTaggerType").TODO_LIST:h=[b("ReactComposerTaggerType").LIST,b("ReactComposerTaggerType").VISUAL_POLL,b("ReactComposerTaggerType").POLITICAL_INFO,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").CAMERA,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").SOTTO_CTA];g=!0;break;case b("ReactComposerTaggerType").GROUP_MEET_UP:h=[b("ReactComposerTaggerType").POLITICAL_INFO,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").RECOMMENDATION,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").SOTTO_CTA];g=!0;break;case b("ReactComposerTaggerType").POLITICAL_INFO:case b("ReactComposerTaggerType").CAMERA:i=[b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").ASSET_3D,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").ACTIVITY:h=[b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").TAG_EVENT_TICKET,b("ReactComposerTaggerType").LOCAL_ALERTS,b("ReactComposerTaggerType").RECRUITING_CANDIDATE,b("ReactComposerTaggerType").AMA,b("ReactComposerTaggerType").COVID_BUSINESS_POST];i=[b("ReactComposerAttachmentType").CTA,b("ReactComposerAttachmentType").MESSAGE,b("ReactComposerAttachmentType").CALL];break;case b("ReactComposerTaggerType").AMA:h=[b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").WORK_CHECKLIST];i=[b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").FUN_FACT:h=[b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").LOCATION,b("ReactComposerTaggerType").STICKER,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").SOTTO_CTA];i=[b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];g=!0;break;case b("ReactComposerTaggerType").STICKER:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").RECRUITING_CANDIDATE].concat(b("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());i=[b("ReactComposerAttachmentType").ASSET_3D,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST];break;case b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:h=[b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").TAG_EVENT_TICKET];i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").FUNDRAISER:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").SOTTO_CTA];i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").LIVING_ROOM,b("ReactComposerAttachmentType").SHIFT_SWAP,b("ReactComposerAttachmentType").VIDEO_MEETUP,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").SUPPORT_NOW:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").MESSAGING,b("ReactComposerTaggerType").SOTTO_CTA];i=[b("ReactComposerAttachmentType").ASSET_3D,b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").LIVING_ROOM,b("ReactComposerAttachmentType").SHIFT_SWAP,b("ReactComposerAttachmentType").VIDEO_MEETUP,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").PLAY_WITH_FRIENDS:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").SUPPORT_NOW,b("ReactComposerTaggerType").SOTTO_CTA];i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];g=!0;break;case b("ReactComposerTaggerType").TAG_EVENT_TICKET:case b("ReactComposerTaggerType").TAG_EVENT:h=[b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").RECOMMENDATION,b("ReactComposerTaggerType").STORIES];i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").ASSET_3D:g=!0;break;case b("ReactComposerTaggerType").VIDEO_SUGGESTIONS:i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];g=!0;break;case b("ReactComposerTaggerType").RECRUITING_CANDIDATE:h=[b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").OG,b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").RECOMMENDATION,b("ReactComposerTaggerType").LIST,b("ReactComposerTaggerType").VISUAL_POLL,b("ReactComposerTaggerType").STICKER,b("ReactComposerTaggerType").TAG_EVENT,b("ReactComposerTaggerType").ACTIVITY,b("ReactComposerTaggerType").WORK_CHECKLIST].concat(b("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());i=[b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];g=!0;break;case b("ReactComposerTaggerType").SOTTO_CTA:h=[b("ReactComposerTaggerType").FUN_FACT,b("ReactComposerTaggerType").STORIES,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").MESSAGING,b("ReactComposerTaggerType").SUPPORT_NOW];i=[b("ReactComposerAttachmentType").ASSET_3D,b("ReactComposerAttachmentType").LIST,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").VISUAL_POLL,b("ReactComposerAttachmentType").TODO_LIST,b("ReactComposerAttachmentType").LIVING_ROOM,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];break;case b("ReactComposerTaggerType").SHIFT_SWAP:h=[b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").FUNDRAISER,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").GROUP_MEET_UP,b("ReactComposerTaggerType").VISUAL_POLL];i=[b("ReactComposerAttachmentType").LIVING_ROOM,b("ReactComposerAttachmentType").MEDIA,b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST];g=!0;break;case b("ReactComposerTaggerType").WORK_CHECKLIST:h=[b("ReactComposerTaggerType").ALBUM,b("ReactComposerTaggerType").AMA,b("ReactComposerTaggerType").GIF,b("ReactComposerTaggerType").MEDIA,b("ReactComposerTaggerType").LOCATION,b("ReactComposerTaggerType").VISUAL_POLL].concat(b("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());i=Object.values(b("ReactComposerAttachmentType")).filter(function(a){return a!==b("ReactComposerAttachmentType").STATUS});break;case b("ReactComposerTaggerType").MEDIA:h=[b("ReactComposerTaggerType").WORK_CHECKLIST];i=[b("ReactComposerAttachmentType").VIDEO_MEETUP,b("ReactComposerAttachmentType").SHIFT_SWAP];break;case b("ReactComposerTaggerType").COVID_BUSINESS_POST:break;case b("ReactComposerTaggerType").VIDEO_MEETUP:h=[b("ReactComposerTaggerType").WORK_CHECKLIST];break;default:throw new Error(c+" is an unhandled tagger type in ReactComposerTaggerStore.isDisabled")}d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);j=h.some(function(b){return e.hasData(a,b)});if(j||i.includes(d))return!0;if(d===this.$ReactComposerTaggerStore29(c))return!1;if(b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a)&&!b("ReactComposerTaggerEligibilityUtils").getPostAsAnonymousAuthorCompatibleTaggers().includes(c))return!0;h=f.some(function(c){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c)});return g&&!h};d.getInstagramSharingEligibility=function(a){return b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a)};d.getAdsPePostSharingEligibility=function(a){return b("ReactComposerTaggerEligibilityUtils").getAdsPePostSharingEligibility(a)};d.$ReactComposerTaggerStore29=function(a){switch(a){case b("ReactComposerTaggerType").ASSET_3D:return b("ReactComposerAttachmentType").ASSET_3D;case b("ReactComposerTaggerType").CALL:return b("ReactComposerAttachmentType").CALL;case b("ReactComposerTaggerType").PAGE_CTA:return b("ReactComposerAttachmentType").CTA;case b("ReactComposerTaggerType").MESSAGING:return b("ReactComposerAttachmentType").MESSAGE;case b("ReactComposerTaggerType").RECOMMENDATION:return b("ReactComposerAttachmentType").PLACE_LIST;case b("ReactComposerTaggerType").FIND_PLAYERS:return b("ReactComposerAttachmentType").FIND_PLAYERS;case b("ReactComposerTaggerType").VISUAL_POLL:return b("ReactComposerAttachmentType").VISUAL_POLL;case b("ReactComposerTaggerType").LIST:return b("ReactComposerAttachmentType").LIST;case b("ReactComposerTaggerType").TODO_LIST:return b("ReactComposerAttachmentType").TODO_LIST;case b("ReactComposerTaggerType").LIVING_ROOM:return b("ReactComposerAttachmentType").LIVING_ROOM;case b("ReactComposerTaggerType").SHIFT_SWAP:return b("ReactComposerAttachmentType").SHIFT_SWAP;case b("ReactComposerTaggerType").MEDIA:return b("ReactComposerAttachmentType").MEDIA;default:return null}};d.getDisplayableSponsorPage=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").SPONSOR);a=(a.sponsors||[])[0];return!a?null:{id:a.getUniqueID(),name:a.getTitle()}};d.getDisplayableBCSupportSponsorPage=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").BC_SUPPORT);a=(a.sponsors||[])[0];return!a?null:{id:a.getUniqueID(),name:a.getTitle()}};d.hasData=function(a,c){var d;a=this.getTaggerData(a,c);if(a==null)return!1;switch(c){case b("ReactComposerTaggerType").PEOPLE:case b("ReactComposerTaggerType").PRODUCT:case b("ReactComposerTaggerType").XY_PRODUCT:case b("ReactComposerTaggerType").PRODUCT_SPROUT:case b("ReactComposerTaggerType").CONTENT_WARNINGS:return a.length>0;case b("ReactComposerTaggerType").LOCATION:return!!a.place;case b("ReactComposerTaggerType").BACKDATE:return!!a.year;case b("ReactComposerTaggerType").ACTIVITY:return!!a.action&&!!a.object;case b("ReactComposerTaggerType").MARKDOWN:return!!a.isMarkdown;case b("ReactComposerTaggerType").AMA:return!!a.isAMA;case b("ReactComposerTaggerType").TARGETING:return!(g||(g=b("isEmpty")))(a)&&(a.gating!=null||a.targeting!=null);case b("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case b("ReactComposerTaggerType").POLITICAL_INFO:return!(g||(g=b("isEmpty")))(a);case b("ReactComposerTaggerType").LOCAL_ALERTS:return a.expirationTime>0;case b("ReactComposerTaggerType").BREAKING_NEWS:return!(g||(g=b("isEmpty")))(a)&&a.isAttachmentBreaking&&a.expirationTime>0;case b("ReactComposerTaggerType").FUN_FACT:return!!a.promptID||!!a.isAskPost;case b("ReactComposerTaggerType").SPONSOR:return a.sponsors&&a.sponsors.length>0;case b("ReactComposerTaggerType").BC_SUPPORT:return a.sponsors&&a.sponsors.length>0;case b("ReactComposerTaggerType").FORMATTED_TEXT:return!!a.formatActive;case b("ReactComposerTaggerType").STICKER:return!!a.stickerID;case b("ReactComposerTaggerType").GIF:return!!a.gifData;case b("ReactComposerTaggerType").APP_INTEGRATION_AODOCS:case b("ReactComposerTaggerType").APP_INTEGRATION_BOX:case b("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE:case b("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX:case b("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE:case b("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE:case b("ReactComposerTaggerType").APP_INTEGRATION_JIRA:case b("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE:case b("ReactComposerTaggerType").APP_INTEGRATION_QUIP:case b("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT:case b("ReactComposerTaggerType").APP_INTEGRATION_TASKS:case b("ReactComposerTaggerType").APP_INTEGRATION_TRELLO:return!!a.isAppAttachmentData;case b("ReactComposerTaggerType").WORK_FILE:return!!a.isWorkFileUpload;case b("ReactComposerTaggerType").MESSAGING:return a.hasCTA;case b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return!!a.politicalRepresentative;case b("ReactComposerTaggerType").FUNDRAISER:return!!a.charityID;case b("ReactComposerTaggerType").TAG_EVENT:return!!a.eventID;case b("ReactComposerTaggerType").TAG_EVENT_TICKET:return!!a.ticketedEventData;case b("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return!!a.videoID;case b("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return!!a.gameID;case b("ReactComposerTaggerType").GET_SHOWTIMES:return!!a.external_movie_id;case b("ReactComposerTaggerType").GROUP_JOIN_CTA:return!!a.groupID;case b("ReactComposerTaggerType").SUPPORT_NOW:return a.hasSupportNowCTA;case b("ReactComposerTaggerType").STARS:return a.isEnabled;case b("ReactComposerTaggerType").PAGES_INTERCEPTION:return a.shouldShowInlineInterception;case b("ReactComposerTaggerType").RECRUITING_CANDIDATE:return!(g||(g=b("isEmpty")))(a);case b("ReactComposerTaggerType").SOTTO_CTA:return a.hasSottoCTA;case b("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return(d=a.selected)!=null?d:!1;case b("ReactComposerTaggerType").CHATROOM:return a.hasChatroom;case b("ReactComposerTaggerType").COVID_BUSINESS_POST:return a.isSelected;case b("ReactComposerTaggerType").WORK_CHECKLIST:return a.hasChecklist;default:throw new Error(c+" is an unhandled tagger type in ReactComposerTaggerStore.hasData")}};d.shouldShowNUX=function(a,b){a=this.getComposerData(a);return!!a.taggersShowNUX[b]};d.shouldShowTooltip=function(a,b){a=this.getComposerData(a);return!!a.taggersShowTooltip[b]};d.areAllTaggersEmpty=function(a){return this.areAllTaggersEmptyExcluding(a,[b("ReactComposerTaggerType").MARKDOWN,b("ReactComposerTaggerType").AMA,b("ReactComposerTaggerType").TARGETING])};d.areAllTaggersEmptyExcluding=function(a,b){var c=this.getTaggersData(a);for(var d in c){if(b.indexOf(d)!==-1)continue;if(this.hasData(a,d))return!1}return!0};d.getSelectedTagger=function(a){return this.getComposerData(a).selectedTagger};d.getAutoFocusOnSelectedTagger=function(a){return this.getComposerData(a).autoFocusOnSelectedTagger};d.getTaggerSource=function(a,b){return this.getComposerData(a).taggersSource[b]};d.getTaggerData=function(a,b){return this.getComposerData(a).taggersData[b]};d.getTaggersData=function(a){return this.getComposerData(a).taggersData};d.getTaggersConfig=function(a,b){return this.getComposerData(a).taggersConfig[b]};d.getShouldNavigateToPhotoEditor=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].shouldNavigateToPhotoEditor};d.getProductTaggingPlatform=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].platform};d.getComposerHasVideoUploads=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].composerHasVideoUploads};d.getShouldShowPtMediaUploadModal=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].shouldShowPtMediaUploadModal};d.getPhotoEditorOpened=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].photoEditorOpened};d.getProductSuggestionPhotoID=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].productSuggestionPhotoID};d.getReferralSource=function(a){return this.getComposerData(a).taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].referralSource};d.hasMinutiae=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").ACTIVITY);return!!(a&&a.action&&a.object)};d.hasLocationTag=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").LOCATION);return!!(a&&(a.place||a.implicitLocation))};d.hasExplicitLocation=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").LOCATION);return!!(a&&a.place)};d.hasImplicitLocation=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").LOCATION);return!!(a&&a.implicitLocation&&!a.place)};d.hasBackdate=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").BACKDATE)||{};return!!a.year};d.hasMarkdown=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown};d.isAMA=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").AMA).isAMA};d.hasMessagingCTA=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").MESSAGING).hasCTA};d.hasSupportNowCTA=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").SUPPORT_NOW).hasSupportNowCTA};d.hasChatroom=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").CHATROOM).hasChatroom};d.hasStarsEnabled=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").STARS).isEnabled};d.getFanFundingPromotionPayload=function(a){return this.getTaggerData(a,b("ReactComposerTaggerType").SUPPORT_NOW).fanFundingPromotionPayload};d.getUserFundingAttachmentType=function(a){return this.getTaggerData(a,b("ReactComposerTaggerType").SUPPORT_NOW).userFundingAttachmentType};d.hasNonprofit=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").FUNDRAISER).charityID};d.getPoliticalDistrictInfo=function(a){return this.getTaggerData(a,b("ReactComposerTaggerType").POLITICAL_INFO)};d.getNumberOfWithWhoTags=function(a){a=this.getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[];return a.length};d.hasSottoCTA=function(a){return!!this.getTaggerData(a,b("ReactComposerTaggerType").SOTTO_CTA).hasSottoCTA};d.paidVirtualEventGatedPost=function(a){return this.getTaggerData(a,b("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST)};d.$ReactComposerTaggerStore2=function(a){var b=this.getComposerData(a.composerID);b.selectedTagger=null;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore3=function(a){var b=this.getComposerData(a.composerID);b.selectedTagger===a.taggerID&&!a.disableToggle?b.selectedTagger=null:b.selectedTagger=a.taggerID;b.autoFocusOnSelectedTagger=a.autoFocus;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore9=function(a){var b=this.getComposerData(a.composerID);b.taggersConfig[a.taggerID]=a.taggerConfig;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore5=function(a){var b=this.getComposerData(a.composerID);b.taggersSource[a.taggerID]=a.taggerSource;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore4=function(a){a=this.validateAction(a,["composerID","taggersSource"]);var b=a[0];a=a[1];var c=this.getComposerData(b);for(var d in a)c.taggersSource[d]=a[d];this.emitChange(b)};d.$ReactComposerTaggerStore6=function(a){var b=this.getComposerData(a.composerID),c=Array.isArray(a.taggerData)?a.taggerData.slice():Object.assign({},a.taggerData);b.taggersData[a.taggerID]=c;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore7=function(a){var b=this.getComposerData(a.composerID);b.taggersShowNUX[a.taggerID]=a.showNUX;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore8=function(a){var b=this.getComposerData(a.composerID);b.taggersShowTooltip[a.taggerID]=a.showTooltip;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore27=function(a){var c=this.getComposerData(a.composerID);c.sourceAttachment=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a.composerID);this.emitChange(a.composerID)};d.$ReactComposerTaggerStore26=function(a){var c=this.getComposerData(a.composerID);a.id===b("ReactComposerAttachmentType").MEDIA&&(c.taggersData[b("ReactComposerTaggerType").FUN_FACT]={});if(a.id===c.sourceAttachment||c.sourceAttachment===null)return;this.getTaggerData(a.composerID,b("ReactComposerTaggerType").GIF).gifData=null;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore25=function(a){var c,d=this.getComposerData(a.composerID),e=Object.assign({mediaLocation:a.mediaLocation},d.taggersData[(c=b("ReactComposerTaggerType")).LOCATION]);d.taggersData[c.LOCATION]=e;e=Object.assign({mediaLocation:a.mediaLocation,mediaTakenTime:a.mediaTakenTime},d.taggersData[c.TAG_EVENT]);d.taggersData[c.TAG_EVENT]=e;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore17=function(a){a=this.validateAction(a,["composerID","facebox","photoID"]);var b=a[0],c=a[1];a=a[2];c=c.bestRecognition;c&&this.$ReactComposerTaggerStore30(b,c.subjectID,c.value,a)};d.$ReactComposerTaggerStore18=function(a){a=this.validateAction(a,["composerID","subject","value","photoID"]);var b=a[0],c=a[1],d=a[2];a=a[3];this.$ReactComposerTaggerStore30(b,c,d,a)};d.$ReactComposerTaggerStore21=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];this.$ReactComposerTaggerStore31(b,a);this.$ReactComposerTaggerStore32(b,a)};d.$ReactComposerTaggerStore19=function(a){var b=this.validateAction(a,["composerID","subject","value","photoID"]),c=b[0],d=b[1],e=b[2];b=b[3];this.$ReactComposerTaggerStore33(c,d,e,a==null?void 0:a.parentProductID,b)};d.$ReactComposerTaggerStore10=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].shouldNavigateToPhotoEditor=a.shouldNavigateToPhotoEditor;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore11=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].platform=a.platform;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore12=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].composerHasVideoUploads=a.composerHasVideoUploads;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore13=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].shouldShowPtMediaUploadModal=a.shouldShowPtMediaUploadModal;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore14=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].photoEditorOpened=a.photoEditorOpened;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore15=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].productSuggestionPhotoID=a.productSuggestionPhotoID;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore16=function(a){var c=this.getComposerData(a.composerID);c.taggersData[b("ReactComposerTaggerType").PRODUCT_SPROUT].referralSource=a.referralSource;this.emitChange(a.composerID)};d.$ReactComposerTaggerStore20=function(a){a=this.validateAction(a,["composerID","subjectID","value","photoID"]);var b=a[0],c=a[1],d=a[2];a=a[3];this.$ReactComposerTaggerStore30(b,c,d,a)};d.$ReactComposerTaggerStore22=function(a){a=this.validateAction(a,["composerID","subjectID"]);var c=a[0];a=a[1];b("ReactComposerPhotoStore").getIsSubjectTagged(c,a)||this.$ReactComposerTaggerStore34(c,a)};d.$ReactComposerTaggerStore23=function(a){var b=this;a=this.validateAction(a,["composerID","photoID","faceboxes","xyTags"]);var c=a[0],d=a[1],e=a[2];a=a[3];this.$ReactComposerTaggerStore31(c,d);e.forEach(function(a){a&&a.taggedSubjectID&&b.$ReactComposerTaggerStore30(c,a.taggedSubjectID,a.taggedValue,d)});a.forEach(function(a){a&&b.$ReactComposerTaggerStore30(c,a.subject,a.name,d)})};d.$ReactComposerTaggerStore28=function(a){var b=this;a=this.validateAction(a,["composerID","photoID","xyTags"]);var c=a[0],d=a[1];a=a[2];this.$ReactComposerTaggerStore32(c,d);a.forEach(function(a){a&&b.$ReactComposerTaggerStore33(c,a.subject,a.name,a.parent_product_id,d)})};d.$ReactComposerTaggerStore24=function(a){var c=this,d=this.validateAction(a,"composerID");this.getComposerData(d).$ReactComposerTaggerStore1.forEach(function(a){b("ReactComposerPhotoStore").getIsSubjectTagged(d,a)||c.$ReactComposerTaggerStore34(d,a)})};d.$ReactComposerTaggerStore30=function(a,c,d,e){var f=new(b("SearchableEntry"))({uniqueID:c,title:d,auxiliaryData:{isFacebox:!0,photos:new Set([e])}});d=this.getComposerData(a);var g=d.taggersData[b("ReactComposerTaggerType").PEOPLE],h=g.find(function(a){return a.getUniqueID()===f.getUniqueID()});d.$ReactComposerTaggerStore1=d.$ReactComposerTaggerStore1.add(c);if(h){c=h.getAuxiliaryData();this.$ReactComposerTaggerStore35(h)&&c.photos.add(e)}else d.taggersData[b("ReactComposerTaggerType").PEOPLE]=g.concat(f);this.emitChange(a)};d.$ReactComposerTaggerStore33=function(a,c,d,e,f){var g=new(b("SearchableEntry"))({uniqueID:c,title:d,auxiliaryData:{isFacebox:!0,parentProductID:e,photos:new Set([f])}});c=this.getComposerData(a);d=c.taggersData[b("ReactComposerTaggerType").PRODUCT];e=d.find(function(a){return a.getUniqueID()===g.getUniqueID()});e?this.$ReactComposerTaggerStore35(e)&&e.getAuxiliaryData().photos.add(f):c.taggersData[b("ReactComposerTaggerType").PRODUCT]=d.concat(g);this.emitChange(a)};d.$ReactComposerTaggerStore34=function(a,c){var d,e=this.getComposerData(a);e.taggersData[(d=b("ReactComposerTaggerType")).PEOPLE]=e.taggersData[d.PEOPLE].filter(function(a){return a.getUniqueID()!==c});e.taggersData[d.PRODUCT]=e.taggersData[d.PRODUCT].filter(function(a){return a.getUniqueID()!==c});e.$ReactComposerTaggerStore1=e.$ReactComposerTaggerStore1["delete"](c);this.emitChange(a)};d.$ReactComposerTaggerStore31=function(a,c){var d=this.getComposerData(a);d=d.taggersData[b("ReactComposerTaggerType").PEOPLE];this.$ReactComposerTaggerStore36(a,d,c)};d.$ReactComposerTaggerStore32=function(a,c){var d=this.getComposerData(a);d=d.taggersData[b("ReactComposerTaggerType").PRODUCT];this.$ReactComposerTaggerStore36(a,d,c)};d.$ReactComposerTaggerStore36=function(a,b,c){var d=[];for(var e=0;e<b.length;e++){var f=b[e],g=f.getAuxiliaryData();this.$ReactComposerTaggerStore35(f)&&g.photos["delete"](c)&&g.photos.size==0&&d.push(f.getUniqueID())}for(var g=0;g<d.length;g++){f=d[g];this.$ReactComposerTaggerStore34(a,f)}};d.$ReactComposerTaggerStore35=function(a){return a.getAuxiliaryData().photos};d.isPostButtonDisabled=function(a){var c=this.getTaggerData(a,b("ReactComposerTaggerType").PRODUCT);return c!==null&&c.length>0&&b("ReactComposerMediaUploadStore").getUploadsCount(a)==0&&this.getComposerHasVideoUploads(a)!==!0};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ComposerSharingSpacesEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_SPACES_SHARESHEET_NEXT:"COMPOSER_SPACES_SHARESHEET_NEXT",COMPOSER_SPACES_SHARESHEET_BACK:"COMPOSER_SPACES_SHARESHEET_BACK",COMPOSER_SPACES_SHARESHEET_POST:"COMPOSER_SPACES_SHARESHEET_POST",COMPOSER_SPACES_SPACE:"COMPOSER_SELECT_SPACE",COMPOSER_SELECT_SPACE_CHOOSE:"COMPOSER_SELECT_SPACE_CHOOSE",COMPOSER_SELECT_SPACE_NEW:"COMPOSER_SELECT_SPACE_NEW",COMPOSER_SELECT_SPACE_NEW_CLICK:"COMPOSER_SELECT_SPACE_NEW_CLICK",COMPOSER_SELECT_SPACE_LOADED:"COMPOSER_SELECT_SPACE_LOADED",COMPOSER_SELECT_TIMELINE_CHOOSE:"COMPOSER_SELECT_TIMELINE_CHOOSE"});e.exports=a}),null);
__d("PagesComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({PAGES_COMPOSER_HELP_CENTER_CLICK:null,PAGES_COMPOSER_VOICE_SWITCHER_ACTOR_CHANGE:null,PAGES_COMPOSER_VOICE_SWITCHER_CLICK:null},"PagesComposerActionTypes");c=a;e.exports=c}),null);
__d("PagesComposerInstagramAudienceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({CLOSE_INSTAGRAM_AUTH_DIALOG:null,INSTAGRAM_AUTH_FAIL:null,INSTAGRAM_AUTH_SUCCEED:null,OPEN_INSTAGRAM_AUTH_DIALOG:null,SET_PAGE_TO_INSTAGRAM_LINKING_STATUS:null},"PagesComposerInstagramAudienceActionTypes");e.exports=a}),null);
__d("ReactComposerAlbumActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({CREATE_ALBUM_CLICKED:null},"ReactComposerAlbumActionType");e.exports=a}),null);
__d("ComposerAsset3dDataRecord",["immutable"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({asset3dID:null,photoEncoding3dID:null,glbURI:null,aspectRatio:null,compressor:null,compressionLevel:null,version:null}));e.exports=a}),null);
__d("ComposerAsset3dInputRecord",["immutable"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({type:"glb",glbFile:null,colorImageIDs:null,depthImageIDs:null,placeholderImage:null}));e.exports=a}),null);
__d("ReactComposerAsset3dAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({CREATE_ASSET3D:null,REMOVE_ASSET3D:null,PREFILL_ASSET3D:null,SELECT_BACKGROUND:null,UPDATE_LOADING_PROGRESS:null,SET_ASSET3D_INPUT:null,SHOW_ERROR:null},"ReactComposerAsset3dAttachmentActionType");e.exports=a}),null);
__d("ReactComposerAsset3dAttachmentActions",["ComposerAsset3dDataRecord","ComposerAsset3dInputRecord","ReactComposerAsset3dAttachmentActionType","ReactComposerDispatcher","ReactComposerAsset3dAttachmentStore"],(function(a,b,c,d,e,f){b("ReactComposerAsset3dAttachmentStore");a=function(){function a(){}var c=a.prototype;c.createAsset3D=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,actorID:c,type:b("ReactComposerAsset3dAttachmentActionType").CREATE_ASSET3D})};c.removeAsset3D=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").REMOVE_ASSET3D})};c.prefill=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").PREFILL_ASSET3D,asset3dInput:new(b("ComposerAsset3dInputRecord"))({type:c.inputType,glbFile:null,colorImageIDs:null,depthImageIDs:null,placeholderImage:{src:c.placeholderImageSrc,width:c.placeholderImageWidth,height:c.placeholderImageHeight}}),asset3dData:new(b("ComposerAsset3dDataRecord"))({asset3dID:c.asset3dID,glbURI:c.glbURI,aspectRatio:c.aspectRatio,compressor:c.compressor,compressionLevel:c.compressionLevel,version:c.version}),background:c.background})};c.selectBackground=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").SELECT_BACKGROUND,background:c})};c.selectColorDepthInput=function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT,asset3dInput:new(b("ComposerAsset3dInputRecord"))({type:"color_depth_pair",glbFile:null,colorImageIDs:c,depthImageIDs:d,placeholderImage:{src:e,width:f,height:g}})})};c.selectGlbFileInput=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT,asset3dInput:new(b("ComposerAsset3dInputRecord"))({type:"glb",glbFile:c,colorImageIDs:null,depthImageIDs:null,placeholderImage:null})})};c.updateLoadingProgress=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").UPDATE_LOADING_PROGRESS,progress:c})};c.showCreationError=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3dAttachmentActionType").SHOW_ERROR})};return a}();c=new a();e.exports=c}),null);
__d("ReactComposerAsset3dWebFunnelActionType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({CREATION_START:null,CREATION_SUCCESS:null,CREATION_FAILED:null,POST_SUBMITTED:null,ATTACHMENT_REMOVED:null});e.exports=a}),null);
__d("ReactComposerAsset3dWebFunnelLogger",["CurrentUser","ReactComposerAsset3dWebFunnelActionType","WebFunnelLogger"],(function(a,b,c,d,e,f){var g="Photo3DWebFunnelDefinition";a=function(){function a(){}var c=a.prototype;c.logAction=function(a,c){a=new(b("WebFunnelLogger"))(g).setAction(c).setSessionKey(a);switch(c){case b("ReactComposerAsset3dWebFunnelActionType").CREATION_START:a.markStart();break;case b("ReactComposerAsset3dWebFunnelActionType").POST_SUBMITTED:a.markEnd();break}a.log()};c.generateSessionKey=function(){return b("CurrentUser").getAccountID()+"_"+Date.now()};return a}();c=new a();e.exports=c}),null);
__d("ReactComposerAsset3dAttachmentStore",["invariant","regeneratorRuntime","ActorURI","AsyncRequest","ComposerAsset3dDataRecord","ReactComposerActionTypes","ReactComposerAsset3dAttachmentActions","ReactComposerAsset3dAttachmentActionType","ReactComposerAsset3dWebFunnelActionType","ReactComposerAsset3dWebFunnelLogger","ReactComposerStoreBase","XAsset3DRenderSettingsCreateController","XCreateAsset3DController","XCreatePhoto3DController","XCreatePhotoEncoding3DController","XCreateProfessionalPhoto3DController","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{asset3dData:null,asset3dInput:null,background:null,progress:0,pendingRequest:null,creationFailed:!1,sessionKey:null,usePhotoEncoding3D:b("gkx")("1272051")}},function(a){switch(a.type){case b("ReactComposerAsset3dAttachmentActionType").CREATE_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore1(a);break;case b("ReactComposerAsset3dAttachmentActionType").REMOVE_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore2(a);break;case b("ReactComposerAsset3dAttachmentActionType").PREFILL_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore3(a);break;case b("ReactComposerAsset3dAttachmentActionType").SELECT_BACKGROUND:d&&d.$ReactComposerAsset3DAttachmentStore4(a);break;case b("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT:d&&d.$ReactComposerAsset3DAttachmentStore5(a);break;case b("ReactComposerAsset3dAttachmentActionType").UPDATE_LOADING_PROGRESS:d&&d.$ReactComposerAsset3DAttachmentStore6(a);break;case b("ReactComposerAsset3dAttachmentActionType").SHOW_ERROR:d&&d.$ReactComposerAsset3DAttachmentStore7(a);break;case b("ReactComposerActionTypes").POST_STARTED:d&&d.$ReactComposerAsset3DAttachmentStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getAsset3DData=function(a){return this.getComposerData(a).asset3dData};d.getAsset3DInput=function(a){return this.getComposerData(a).asset3dInput};d.getBackground=function(a){return this.getComposerData(a).background};d.getProgress=function(a){return this.getComposerData(a).progress};d.getCreationFailed=function(a){return this.getComposerData(a).creationFailed};d.isCreating=function(a){var b=this.getComposerData(a).asset3dInput;a=this.getComposerData(a).asset3dData;return b&&!a};d.isUsingPhotoEncoding3D=function(a){return this.getComposerData(a).usePhotoEncoding3D};d.$ReactComposerAsset3DAttachmentStore5=function(a){a=this.validateAction(a,["composerID","asset3dInput"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.asset3dInput=a;this.emitChange(b)};d.$ReactComposerAsset3DAttachmentStore4=function(a){a=this.validateAction(a,["composerID","background"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.background=a;this.emitChange(b)};d.$ReactComposerAsset3DAttachmentStore9=function(a){var c=this.validateAction(a,["composerID"]);a=this.validateAction(a,["actorID"]);var d=this.getAsset3DData(c);if(d&&d.asset3dID){c=this.getComposerData(c);c=c.background||"default";d=b("ActorURI").create(b("XAsset3DRenderSettingsCreateController").getURIBuilder().setFBID("asset3d_id",d.asset3dID.toString()).setEnum("background",c).getURI(),a);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setErrorHandler(function(a){}).send()}};d.$ReactComposerAsset3DAttachmentStore6=function(a){a=this.validateAction(a,["composerID","progress"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.progress=a;this.emitChange(b)};d.$ReactComposerAsset3DAttachmentStore1=function(a){var c=this;a=this.validateAction(a,["composerID","actorID"]);var d=a[0];a=a[1];var e=this.getComposerData(d);e.asset3dData=null;e.background=null;e.progress=0;e.creationFailed=!1;e.sessionKey=b("ReactComposerAsset3dWebFunnelLogger").generateSessionKey();var f=e.asset3dInput;f!==null||g(0,14194);var h=null,i=new FormData();f.type==="glb"?(h=b("ActorURI").create(b("XCreateAsset3DController").getURIBuilder().getURI(),a),f.glbFile!==null||g(0,14195),i.append("asset3d_file",f.glbFile)):f.type==="color_depth_pair"&&(b("ReactComposerAsset3dWebFunnelLogger").logAction(e.sessionKey,b("ReactComposerAsset3dWebFunnelActionType").CREATION_START),f.colorImageIDs!==null||g(0,17397),f.depthImageIDs!==null||g(0,17398),b("gkx")("960952")?(h=b("ActorURI").create(b("XCreateProfessionalPhoto3DController").getURIBuilder().getURI(),a),i.append("color_image_ids",JSON.stringify(f.colorImageIDs)),i.append("depth_image_ids",JSON.stringify(f.depthImageIDs))):(e.usePhotoEncoding3D?h=b("ActorURI").create(b("XCreatePhotoEncoding3DController").getURIBuilder().getURI(),a):h=b("ActorURI").create(b("XCreatePhoto3DController").getURIBuilder().getURI(),a),i.append("color_image_id",f.colorImageIDs[0]),i.append("depth_image_id",f.depthImageIDs[0])));h!=null||g(0,13561);e.pendingRequest=new(b("AsyncRequest"))().setURI(h).setMethod("POST").setRawData(i).setUploadProgressHandler(function(a){var c=a.loaded;a=a.total;b("ReactComposerAsset3dAttachmentActions").updateLoadingProgress(d,c/a*.8)}).setHandler(function(a){this.$ReactComposerAsset3DAttachmentStore10(a,d)}.bind(this)).setErrorHandler(function(a){b("ReactComposerAsset3dAttachmentActions").showCreationError(d)}).setFinallyHandler(function(){e.pendingRequest=null,c.emitChange(d)});e.pendingRequest.send();this.emitChange(d)};d.$ReactComposerAsset3DAttachmentStore7=function(a){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.creationFailed=!0;var d=c.asset3dInput;d&&d.type==="color_depth_pair"&&b("ReactComposerAsset3dWebFunnelLogger").logAction(c.sessionKey,b("ReactComposerAsset3dWebFunnelActionType").CREATION_FAILED);this.emitChange(a)};d.$ReactComposerAsset3DAttachmentStore8=function(a){var c=this.validateAction(a,["composerID"]);c=this.getComposerData(c);var d=c.asset3dInput;d&&d.type==="color_depth_pair"&&b("ReactComposerAsset3dWebFunnelLogger").logAction(c.sessionKey,b("ReactComposerAsset3dWebFunnelActionType").POST_SUBMITTED);this.$ReactComposerAsset3DAttachmentStore9(a)};d.$ReactComposerAsset3DAttachmentStore2=function(a){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a),d=c.asset3dInput;d&&d.type==="color_depth_pair"&&b("ReactComposerAsset3dWebFunnelLogger").logAction(c.sessionKey,b("ReactComposerAsset3dWebFunnelActionType").ATTACHMENT_REMOVED);c.asset3dData=null;c.asset3dInput=null;c.background=null;c.progress=0;c.pendingRequest&&(c.pendingRequest.abandon(),c.pendingRequest=null);this.emitChange(a)};d.$ReactComposerAsset3DAttachmentStore3=function(a){a=this.validateAction(a,["composerID","asset3dInput","asset3dData","background"]);var b=a[0],c=a[1],d=a[2];a=a[3];var e=this.getComposerData(b);e.asset3dInput=c;e.asset3dData=d;e.background=a;e.progress=0;e.pendingRequest=null;this.emitChange(b)};d.$ReactComposerAsset3DAttachmentStore10=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d=this.getComposerData(c),e=a.payload,e||g(0,14228),f=d.asset3dInput,f&&f.type==="color_depth_pair"&&b("ReactComposerAsset3dWebFunnelLogger").logAction(d.sessionKey,b("ReactComposerAsset3dWebFunnelActionType").CREATION_SUCCESS),d.usePhotoEncoding3D?d.asset3dData=new(b("ComposerAsset3dDataRecord"))({photoEncoding3dID:e.id,glbURI:e.glbURI,aspectRatio:e.aspectRatio,compressor:e.compressor,compressionLevel:e.compressionLevel,version:e.version}):d.asset3dData=new(b("ComposerAsset3dDataRecord"))({asset3dID:e.id,glbURI:e.glbURI,aspectRatio:e.aspectRatio,compressor:e.compressor,compressionLevel:e.compressionLevel,version:e.version}),b("ReactComposerAsset3dAttachmentActions").updateLoadingProgress(c,1);case 7:case"end":return h.stop()}},null,this)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerPerfLogger",["ComposerXSessionIDs","MarauderLogger"],(function(a,b,c,d,e,f){f.logEvent=a;f.registerComposer=c;f.getInstance=d;var g={},h="status";function a(a,c,d){d===void 0&&(d={});var e=g[c];c=b("ComposerXSessionIDs").getSessionID(c);if(!e||!c)return;if(d.logOncePerSession){e.loggedEventTypes[c]||(e.loggedEventTypes[c]={});if(e.loggedEventTypes[c][a])return;e.loggedEventTypes[c][a]=!0}d=babelHelpers["extends"]({},d.extraData,{composer_type:h,target_type:e.targetType,target_id:e.targetID,ref:e.entryPointRef});b("MarauderLogger").log(a,"composer",d,void 0,void 0,c)}function c(a,b,c,d){g[a.id]={targetID:d,targetType:b,entryPointRef:c,loggedEventTypes:{}}}function d(a){return g[a]}}),null);
__d("ReactComposerVideoUploadActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},"ReactComposerVideoUploadActionType");e.exports=a}),null);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerSharingSpacesEvent","ComposerStructuredLoggerUtil","ComposerXMarauderLogger","ComposerXSessionIDs","ExtensibleSproutsItemType","PagesComposerActionTypes","PagesComposerInstagramAudienceActionTypes","PhotosUploadWaterfallXMixin","PhotoUploadFacerecWaterfallTypedLogger","QuickPerformanceLogger","ReactComposerActionTypes","ReactComposerAlbumActionType","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerFocusActionTypes","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactPagesComposerLoggingUtils","classWithMixins","ifRequired","immutable","mixin","nullthrows","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{activated:!1,perfTimes:{},sessionID:null,uniqueEvents:b("immutable").Map([["client_publish_success",!1],["client_flow_success",!1]])}},function(a){d&&d.handler(a)})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.handler=function(a){if(a.suppressWaterfallLogging)return;var c=this.getComposerData(a.composerID);if(!c.activated)return;switch(a.type){case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:this.$ReactComposerLoggingStore1(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore2(a);break;case b("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore3(a);break;case b("ReactComposerAttachmentActionType").SET_BOOTLOADED:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(a);break;case b("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore5(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore6(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore7(a);break;case b("ReactComposerAlbumActionType").CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore8(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore9(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore10(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore11(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore12(a);break;case b("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore13(a);break;case b("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore14(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore15(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore16(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore17(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore18(a);break;case b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore19(a);break;case b("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore20(a);break;case b("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore21(a);break;case b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore22(a);break;case b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore23(a);break;case b("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore24(a);break;case b("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_DATA:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore26(a);break;case b("ReactComposerTaggerActionType").LOG_WP_PICKER_ACTION:this.$ReactComposerLoggingStore27(a);break;case b("ReactComposerActionTypes").POST_STARTED_LOGGING_ONLY_DO_NOT_USE:this.$ReactComposerLoggingStore28(a);break;case b("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore29(a);break;case b("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore30(a);break;case b("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore31(a);break;case b("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore32(a);break;case b("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore33(a);break;case b("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore34(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore35(a);break;case b("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore36(a);break;case b("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore37(a);break;case b("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore38(a);break;case b("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore39(a);break;case b("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore40(a);break;case b("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore41(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore42(a);break;case b("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore43(a);break;case b("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore44(a);break;case b("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore45(a);break;case b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore46(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore47(a);break;case b("ReactComposerAudienceActionTypes").SET_COLLECTION:b("ReactComposerDispatcher").isDispatching()&&b("ReactComposerDispatcher").waitFor([b("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore48(a);break;case b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:case b("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore49(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:case b("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore50(a);break;case b("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED:this.$ReactComposerLoggingStore51(a);break;case b("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED:this.$ReactComposerLoggingStore52(a);break;case b("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:this.$ReactComposerLoggingStore53(a);break;case b("ReactComposerFocusActionTypes").FOCUS_LOST:this.$ReactComposerLoggingStore54(a);break;case b("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_CLICK:case b("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_ACTOR_CHANGE:this.$ReactComposerLoggingStore55(a);break;case b("PagesComposerInstagramAudienceActionTypes").CLOSE_INSTAGRAM_AUTH_DIALOG:case b("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_FAIL:case b("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_SUCCEED:case b("PagesComposerInstagramAudienceActionTypes").OPEN_INSTAGRAM_AUTH_DIALOG:case b("PagesComposerInstagramAudienceActionTypes").SET_PAGE_TO_INSTAGRAM_LINKING_STATUS:this.$ReactComposerLoggingStore56(a);break;case b("PagesComposerActionTypes").PAGES_COMPOSER_HELP_CENTER_CLICK:this.$ReactComposerLoggingStore57(a);break;default:}};d.getSessionID=function(a){return b("ComposerXSessionIDs").getSessionID(a)};d.isActivated=function(a){return this.getComposerData(a).activated};d.activate=function(a){a=this.getComposerData(a);a.activated=!0;b("ReactComposerLoggingQueue").getLength()>0&&this.$ReactComposerLoggingStore58()};d.$ReactComposerLoggingStore3=function(a){a=this.validateAction(a,"composerID");var c=b("ReactComposerStore").getTargetType(a),d=b("ReactComposerStore").getComposerData(a),e=d.actorID;d=d.isActorAPage;var f={};(c==="page"||d)&&(f.posting_as_page_id=d?e:null);c==="page"?f.composer_entry_point_name=b("ReactComposerStore").getRef(a):c==="group"&&(f.composer_entry_point_name=b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a)?"publisher_bar_anonymous_author":"inline_composer");this.$ReactComposerLoggingStore59(a,"composer_entry",{logOncePerSession:!0,extraData:f})};d.$ReactComposerLoggingStore38=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore60(b,c,a)};d.$ReactComposerLoggingStore39=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore61(b,c,a)};d.$ReactComposerLoggingStore40=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore62(b,c,a)};d.$ReactComposerLoggingStore1=function(a){var c=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore3(a);if(a.featureType&&Object.prototype.hasOwnProperty.call(b("ExtensibleSproutsItemType"),a.featureType)){var d=this.validateAction(a,"sproutSurface");this.$ReactComposerLoggingStore60(c,a.featureType,a.source,d)}};d.$ReactComposerLoggingStore2=function(a){var c=this.validateAction(a,"composerID");b("ReactComposerAttachmentStore").isSelectedAttachmentActive(c)&&this.$ReactComposerLoggingStore3(a);if(a.loggingName&&Object.prototype.hasOwnProperty.call(b("ExtensibleSproutsItemType"),a.loggingName)){var d=this.validateAction(a,"sproutSurface");this.$ReactComposerLoggingStore60(c,a.loggingName,a.source,d)}};d.$ReactComposerLoggingStore4=function(a){a=this.validateAction(a,["id","composerID"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore63(a,"client_bootloaded",{extraData:{attachment_type:c,duration:b("ReactComposerAttachmentStore").getBootloadDuration(a,c)}})};d.$ReactComposerLoggingStore5=function(a){a=this.validateAction(a,["id","composerID"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore63(a,"client_bootstrapped",{extraData:{attachment_type:c,duration:b("ReactComposerAttachmentStore").getBootstrapDuration(a,c)}})};d.$ReactComposerLoggingStore8=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"intent_album")};d.$ReactComposerLoggingStore6=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore60(b,"MEDIA",a);this.$ReactComposerLoggingStore59(b,"intent_media");this.$ReactComposerLoggingStore64(b,"client_flow_begin",null,{logOncePerSession:!0});this.$ReactComposerLoggingStore64(b,"client_select_begin")};d.$ReactComposerLoggingStore7=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore61(b,"MEDIA",a)};d.$ReactComposerLoggingStore9=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"add_photo");this.$ReactComposerLoggingStore65(a,"MEDIA")};d.$ReactComposerLoggingStore10=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_process_begin",a);this.$ReactComposerLoggingStore59(b,"media_upload_process_start",{extraData:{source_file_size:a.bytes,source_width:a.width,source_height:a.height}})};d.$ReactComposerLoggingStore11=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_process_success",a);this.$ReactComposerLoggingStore59(b,"media_upload_process_success",{extraData:{source_file_size:a.media_data_size,source_width:a.width,source_height:a.height,transcode_file_size:a.bytes,upload_width:a.upload_width,upload_height:a.upload_height}})};d.$ReactComposerLoggingStore12=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_process_fail",a)};d.$ReactComposerLoggingStore13=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_spherical_check_success",a)};d.$ReactComposerLoggingStore14=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_spherical_check_fail",a)};d.$ReactComposerLoggingStore15=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(a,"client_process_unavailable")};d.$ReactComposerLoggingStore16=function(a){a=this.validateAction(a,["composerID","fileUpload"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,"client_transfer_begin",{bytes:a.getFile().size});this.$ReactComposerLoggingStore59(b,"media_upload_start",{extraData:{source_height:a.getAdditionalData().get("original_height"),source_width:a.getAdditionalData().get("original_width"),source_file_size:a.getAdditionalData().get("original_file_size"),upload_height:a.getAdditionalData().get("upload_height"),upload_width:a.getAdditionalData().get("upload_width"),transcode_file_size:a.getFile().size}})};d.$ReactComposerLoggingStore17=function(a){var c=this.validateAction(a,["composerID","fileUpload","timeToUpload"]),d=c[0],e=c[1];c=c[2];var f={};a.uploadID&&b("ReactComposerMediaUploadStore").getMediaUploadExists(d,a.uploadID)&&(f=b("ReactComposerMediaUploadStore").getMediaUpload(d,a.uploadID));e&&(this.$ReactComposerLoggingStore59(d,"add_photo_success"),this.$ReactComposerLoggingStore64(d,"client_transfer_success",{bytes:e.getFile().size,auto_retry_count:e.getRetryCount(),dt:c,custom_tags:{manual_retry:!!e.getFile().manuallyRetried},projection_type:f.projectionType,fbid:a.photoID,sheight:f.height,swidth:f.width,theight:a.height,twidth:a.width}),this.$ReactComposerLoggingStore59(d,"media_upload_success",{extraData:{media_id:f.photoID,source_height:e.getAdditionalData().get("original_height"),source_width:e.getAdditionalData().get("original_width"),source_file_size:e.getAdditionalData().get("original_file_size"),upload_height:e.getAdditionalData().get("upload_height"),upload_width:e.getAdditionalData().get("upload_width"),transcode_file_size:a.fileUpload.getFile().size}}))};d.$ReactComposerLoggingStore18=function(a){var c=this.validateAction(a,["composerID","fileUpload","error","timeToUpload"]),d=c[0],e=c[1],f=c[2];c=c[3];var g={};a.uploadID&&b("ReactComposerMediaUploadStore").getMediaUploadExists(d,a.uploadID)&&(g=b("ReactComposerMediaUploadStore").getMediaUpload(d,a.uploadID));this.$ReactComposerLoggingStore59(d,"add_photo_failure");this.$ReactComposerLoggingStore64(d,"client_transfer_fail",{bytes:e.getFile().size,error_code:f.code,error_info:f.description,auto_retry_count:e.getRetryCount(),dt:c,custom_tags:{manual_retry:!!e.getFile().manuallyRetried},projection_type:g.projectionType,sheight:g.height,swidth:g.width})};d.$ReactComposerLoggingStore19=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"remove_photo");this.$ReactComposerLoggingStore65(a,"MEDIA");this.$ReactComposerLoggingStore64(a,"client_transfer_cancel")};d.$ReactComposerLoggingStore20=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"remove_photo");this.$ReactComposerLoggingStore65(a,"MEDIA")};d.$ReactComposerLoggingStore21=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore65(a,"MEDIA")};d.$ReactComposerLoggingStore22=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"add_video")};d.$ReactComposerLoggingStore23=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"remove_video");this.$ReactComposerLoggingStore65(a,"MEDIA")};d.$ReactComposerLoggingStore24=function(a){a=this.validateAction(a,["composerID","taggerID","sourceLoggingName"]);var b=a[0],c=a[1];a=a[2];var d=this.$ReactComposerLoggingStore66(c);d!==null||g(0,4216,c);d&&this.$ReactComposerLoggingStore61(b,d,a)};d.$ReactComposerLoggingStore25=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];var d=b("ReactComposerTaggerStore").getSelectedTagger(c),e=null;switch(d){case b("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore60(c,"WITH_TAG",a);e="intent_friend_tag";break;case b("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore60(c,"LOCATION",a);e="intent_location";break;case b("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore60(c,"MINUTIAE",a);e="intent_minutiae";break;case b("ReactComposerTaggerType").MESSAGING:this.$ReactComposerLoggingStore60(c,"GET_MESSAGES",a);break;case b("ReactComposerTaggerType").MARKDOWN:e="markdown_intent";break;case b("ReactComposerTaggerType").COVID_BUSINESS_POST:break;default:d=this.$ReactComposerLoggingStore66(d);d&&this.$ReactComposerLoggingStore60(c,d,a);break}if(e===null)return;this.$ReactComposerLoggingStore59(c,e)};d.$ReactComposerLoggingStore26=function(a){a=this.validateAction(a,["composerID","taggerID","sourceLoggingName"]);var b=a[0],c=a[1];a=a[2];var d=this.$ReactComposerLoggingStore66(c);d!==null||g(0,4216,c);d&&this.$ReactComposerLoggingStore65(b,d,a)};d.$ReactComposerLoggingStore28=function(a){a=this.validateAction(a,["composerID","sproutType"]);var c=a[0];a=a[1];var d=b("ReactComposerStore").getComposerData(c),e=d.actorID;d=d.isActorAPage;d?this.$ReactComposerLoggingStore59(c,"composer_post",{extraData:{posting_as_page_id:e,selected_features:{selected_sprouts:[a]}}}):this.$ReactComposerLoggingStore59(c,"composer_post")};d.$ReactComposerLoggingStore29=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.perfTimes.postStartTime=(h||(h=b("performanceAbsoluteNow")))();c=b("ReactComposerStore").getTargetType(a);var d=b("ReactComposerStore").getRef(a),e=b("ReactComposerStore").getComposerData(a),f=e.actorID;e=e.isActorAPage;b("QuickPerformanceLogger").markerStart(917556);b("QuickPerformanceLogger").markerAnnotate(917556,{string:{targetType:c}});b("QuickPerformanceLogger").markerAnnotate(917556,{string:{ref:d}});d=b("ComposerStructuredLoggerUtil").getDestinationsData(a);if(c==="page"||e){c={selected_sprouts:b("ReactPagesComposerLoggingUtils").getSelectedSprouts(a)};this.$ReactComposerLoggingStore59(a,"composer_post",{extraData:babelHelpers["extends"]({},d,{posting_as_page_id:e?f:null,selected_features:c})})}else this.$ReactComposerLoggingStore59(a,"composer_post",{extraData:babelHelpers["extends"]({},d)});this.$ReactComposerLoggingStore67(a)&&(this.$ReactComposerLoggingStore64(a,"client_publish_begin",this.$ReactComposerLoggingStore68(a)),b("ReactComposerPhotoStore").getPhotos(a).forEach(function(a){a.faceboxes.forEach(function(c){return new(b("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent("client_photo_published").setPhotoFbid(a.id).setFaceBoxID(c.id).setRecognizedUser(c.recognizedSubjectID).setTaggedUser(c.taggedSubjectID).log()})}));this.$ReactComposerLoggingStore69(a,"post")};d.$ReactComposerLoggingStore30=function(a){var c=this,d=this.validateAction(a,"composerID"),e=this.getComposerData(d);this.$ReactComposerLoggingStore59(d,"composer_post_success",{extraData:{logging_ids:a.loggingToken}});b("QuickPerformanceLogger").markerEnd(917556,2);this.$ReactComposerLoggingStore63(d,"client_post_succeeded",{extraData:{attachment_type:b("ReactComposerAttachmentStore").getSelectedAttachmentID(d),duration:(h||(h=b("performanceAbsoluteNow")))()-e.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore67(d)){a=this.$ReactComposerLoggingStore68(d);this.$ReactComposerLoggingStore64(d,"client_publish_success",a);this.$ReactComposerLoggingStore64(d,"client_flow_success");e=b("ReactComposerPhotoStore").getPhotos(d);if(e&&e.forEach){var f=0;e.forEach(function(a){a.isSpherical&&f++});f>0&&b("Bootloader").loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(a,b){a.logNumberOfSphericalPhoto({composerSessionID:c.getSessionID(d)||"",surface:b.LOGGER_SURFACES.composer,numberOfSphericalPhoto:f})},"ReactComposerLoggingStore")}}};d.$ReactComposerLoggingStore31=function(a){var c=this.validateAction(a,"composerID"),d=this.getComposerData(c);this.$ReactComposerLoggingStore59(c,"composer_post_failure");b("QuickPerformanceLogger").markerEnd(917556,87);this.$ReactComposerLoggingStore63(c,"client_post_failed",{extraData:{attachment_type:b("ReactComposerAttachmentStore").getSelectedAttachmentID(c),duration:(h||(h=b("performanceAbsoluteNow")))()-d.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore67(c)){d=a.response;a=Object.assign(this.$ReactComposerLoggingStore68(c),{error_code:d&&d.getError&&d.getError(),error_info:d&&d.getErrorDescription&&d.getErrorDescription()});this.$ReactComposerLoggingStore64(c,"client_publish_fail",a)}};d.$ReactComposerLoggingStore32=function(a){a=this.validateAction(a,["composerID","numPhotos","method"]);var b=a[0],c=a[1];a=a[2];c={method:a,volume:c};this.$ReactComposerLoggingStore64(b,"client_flow_begin",null,{logOncePerSession:!0});a!=="file_selector"&&this.$ReactComposerLoggingStore64(b,"client_select_begin");this.$ReactComposerLoggingStore64(b,"client_select_success",c)};d.$ReactComposerLoggingStore33=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(a,"client_photo_edit_begin")};d.$ReactComposerLoggingStore34=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(a,"client_photo_edit_success")};d.$ReactComposerLoggingStore35=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(a,"client_transfer_manual_retry")};d.$ReactComposerLoggingStore36=function(a){a=this.validateAction(a,["photoID","facebox"]);var c=a[0];a=a[1];var d=a.bestRecognition,e=null;d&&(e=d.subjectID);new(b("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent("recognition_received_by_client").setPhotoFbid(c).setFaceBoxID(a.id).setRecognizedUser(e).log()};d.$ReactComposerLoggingStore37=function(a){a=this.validateAction(a,["photos","facerecWaterfallEvent"]);var c=a[0],d=a[1];c.forEach(function(a){new(b("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(b("nullthrows")(d)).setPhotoFbid(a).log()})};d.$ReactComposerLoggingStore42=function(a){var c=this.validateAction(a,"composerID"),d=a.attachmentConfig;this.$ReactComposerLoggingStore59(c,"composer_feature_update",{extraData:{feature_type:b("ReactComposerFeatureType").LINK,source:a.sourceLoggingName,app_content_id:d==null?void 0:(c=d.content_attachment_data)==null?void 0:c.id}})};d.$ReactComposerLoggingStore43=function(a){var c=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore65(c,b("ReactComposerFeatureType").PRIVACY,a.sourceLoggingName)};d.$ReactComposerLoggingStore44=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore59(a,"composer_cancel")};d.$ReactComposerLoggingStore45=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore69(a,"cancel");this.$ReactComposerLoggingStore59(a,"navigate_away")};d.$ReactComposerLoggingStore46=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore60(c,b("ReactComposerFeatureType").COLLECTIONS,a)};d.$ReactComposerLoggingStore47=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore61(c,b("ReactComposerFeatureType").COLLECTIONS,a)};d.$ReactComposerLoggingStore48=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore65(c,b("ReactComposerFeatureType").COLLECTIONS,a);Object.prototype.hasOwnProperty.call(b("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore59(c,a.toLowerCase(),{extraData:{profile_channel_audience_type:b("ReactComposerAudienceStore").getPrivacyLabel(c)}})};d.$ReactComposerLoggingStore49=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];this.$ReactComposerLoggingStore60(c,b("ReactComposerFeatureType").COLLECTION_CREATION,a);Object.prototype.hasOwnProperty.call(b("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore59(c,a.toLowerCase())};d.$ReactComposerLoggingStore50=function(a){a=this.validateAction(a,["composerID","sourceLoggingName","isCancel"]);var c=a[0],d=a[1];a=a[2];a=a?this.$ReactComposerLoggingStore62.bind(this):this.$ReactComposerLoggingStore61.bind(this);a(c,b("ReactComposerFeatureType").COLLECTION_CREATION,d);Object.prototype.hasOwnProperty.call(b("ComposerSharingSpacesEvent"),d)&&this.$ReactComposerLoggingStore59(c,d.toLowerCase(),{extraData:{profile_channel_audience_type:b("ReactComposerAudienceStore").getPrivacyLabel(c)}})};d.$ReactComposerLoggingStore51=function(a){a=this.validateAction(a,["composerID","sourceLoggingName","spaceCount"]);var c=a[0],d=a[1];a=a[2];Object.prototype.hasOwnProperty.call(b("ComposerSharingSpacesEvent"),d)&&this.$ReactComposerLoggingStore59(c,d.toLowerCase(),{extraData:{space_count:a}})};d.$ReactComposerLoggingStore52=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var c=a[0];a=a[1];Object.prototype.hasOwnProperty.call(b("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore59(c,a.toLowerCase(),{extraData:{profile_channel_audience_type:b("ReactComposerAudienceStore").getPrivacyLabel(c)}})};d.$ReactComposerLoggingStore41=function(a){var c=this.validateAction(a,["composerID","visibilityMap","event","sproutsState"]),d=c[0],e=c[1],f=c[2];c=c[3];this.$ReactComposerLoggingStore59(d,f,{extraData:{sprouts_visibilities:e,state:c===b("ReactComposerSproutsDisplayState").INLINE?"collapsed":"expanded_default",promoted_sprout_name:a.promotedSprout,promotion_id:a.promotionID}})};d.$ReactComposerLoggingStore53=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore70(a)};d.$ReactComposerLoggingStore54=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore71(a)};d.$ReactComposerLoggingStore55=function(a){var c=this.validateAction(a,"composerID"),d=b("ReactComposerStore").getComposerData(c);d=d.actorID;a=a.type===b("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_CLICK?"pages_composer_voice_switcher_click":"pages_composer_voice_switcher_actor_change";this.$ReactComposerLoggingStore59(c,a,{extraData:{posting_as_page_id:d}})};d.$ReactComposerLoggingStore57=function(a){a=this.validateAction(a,"composerID");var c=b("ReactComposerStore").getComposerData(a);c=c.actorID;this.$ReactComposerLoggingStore59(a,"pages_composer_help_center_click",{extraData:{posting_as_page_id:c}})};d.$ReactComposerLoggingStore56=function(a){var c=this.validateAction(a,"composerID"),d=b("ReactComposerStore").getComposerData(c);d=d.actorID;var e=null;switch(a.type){case b("PagesComposerInstagramAudienceActionTypes").CLOSE_INSTAGRAM_AUTH_DIALOG:e="pages_composer_instagram_auth_dialog_close";break;case b("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_FAIL:e="pages_composer_instagram_auth_failure";break;case b("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_SUCCEED:e="pages_composer_instagram_auth_success";break;case b("PagesComposerInstagramAudienceActionTypes").OPEN_INSTAGRAM_AUTH_DIALOG:e="pages_composer_instagram_auth_dialog_open";break;default:e="pages_composer_instagram_auth_dialog_open";break}this.$ReactComposerLoggingStore59(c,e,{extraData:{posting_as_page_id:d}})};d.$ReactComposerLoggingStore27=function(a){a=this.validateAction(a,["composerID","taggerID","event","extraData"]);var b=a[0],c=a[1],d=a[2];a=a[3];c=this.$ReactComposerLoggingStore66(c);this.$ReactComposerLoggingStore59(b,d,{extraData:babelHelpers["extends"]({feature_type:c},a)})};d.$ReactComposerLoggingStore67=function(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO);return c&&!!a.size};d.$ReactComposerLoggingStore68=function(a){var c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[],d=b("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(a);return{volume:b("ReactComposerPhotoStore").getPhotos(a).size,with_tag_count:c.length,sticker_count:d}};d.$ReactComposerLoggingStore60=function(a,c,d,e){var f=b("ReactComposerStore").getComposerData(a),g=f.actorID;f=f.isActorAPage;this.$ReactComposerLoggingStore59(a,"composer_feature_intent",{extraData:babelHelpers["extends"]({feature_type:c,source:d,posting_as_page_id:f?g:null},e&&{sprout_surface:e})})};d.$ReactComposerLoggingStore65=function(a,b,c){this.$ReactComposerLoggingStore59(a,"composer_feature_update",{extraData:{feature_type:b,source:c}})};d.$ReactComposerLoggingStore62=function(a,b,c){this.$ReactComposerLoggingStore59(a,"composer_feature_cancel",{extraData:{feature_type:b,source:c}})};d.$ReactComposerLoggingStore61=function(a,b,c){this.$ReactComposerLoggingStore59(a,"composer_feature_done",{extraData:{feature_type:b,source:c}})};d.$ReactComposerLoggingStore70=function(a){this.$ReactComposerLoggingStore59(a,"composer_focus_acquired")};d.$ReactComposerLoggingStore71=function(a){this.$ReactComposerLoggingStore59(a,"composer_focus_lost")};d.$ReactComposerLoggingStore59=function(a,c,d){var e=this;d===void 0&&(d={});var f=this.getComposerData(a);if(f.uniqueEvents.has(c)){if(f.uniqueEvents.get(c))return;f.uniqueEvents=f.uniqueEvents.set(c,!0)}b("ReactComposerStore").getRef(a)==="timeline/recent_posts"&&b("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(d){new d().setComposerWaterfallEvent(c).addToExtraData("payload",JSON.stringify(e.$ReactComposerLoggingStore72(a))).addToExtraData("message",b("ReactComposerStatusStore").getMessageText(a)).log()},"ReactComposerLoggingStore");d.extraData=Object.assign({is_markdown_enabled:!!b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore72(a),displayed_sprouts:b("ReactComposerStore").getDisplayedSprouts(a),ordered_sprouts:b("ReactComposerStore").getOrderedSprouts(a),ranker_request_id:b("ReactComposerStore").getRankerRequestID(a),sprout_surface:b("ReactComposerStore").getSproutSurface(a)},d.extraData);f=b("ReactComposerStore").getComposerData(a);var g=f.isActorAPage;f=f.pageComposerDestinationsConfig;g&&(d.extraData=Object.assign({post_text:b("ReactComposerStatusStore").getMessageText(a),post_action_type:b("ComposerStructuredLoggerUtil").getPostActionType(a)},d.extraData),f&&(d.extraData=Object.assign({is_sharesheet_enabled:f.isSharesheetEnabled,show_story_section:f.showStorySection,show_instagram_section:f.showInstagramSection,show_group_section:f.showGroupSection,is_instagram_authenticated:f.isInstagramAuthenticated},d.extraData)));b("ifRequired")("ReactComposerWorkContentAppAttachmentStore",function(b){b=b.getScrapedAttachments(a).size;d.extraData=Object.assign({files_attached:b,files_total:b},d.extraData)});b("ComposerXMarauderLogger").logEvent(c,a,d)};d.$ReactComposerLoggingStore63=function(a,c,d){d===void 0&&(d={});var e=this.getComposerData(a);if(e.uniqueEvents.has(c)){if(e.uniqueEvents.get(c))return;e.uniqueEvents=e.uniqueEvents.set(c,!0)}b("ReactComposerPerfLogger").logEvent(c,a,d)};d.$ReactComposerLoggingStore64=function(a,c,d,e,f){var g=this.getComposerData(a);if(g.uniqueEvents.has(c)){if(g.uniqueEvents.get(c))return;g.uniqueEvents=g.uniqueEvents.set(c,!0)}this.logPUWStep(c,this.getSessionID(a),"web_react_composer",b("ReactComposerStore").getRef(a),d,e,f)};d.$ReactComposerLoggingStore58=function(){while(b("ReactComposerLoggingQueue").getLength()>0){var a=b("ReactComposerLoggingQueue").pop();this.handler(a)}};d.$ReactComposerLoggingStore72=function(a){var c={character:b("ReactComposerStatusStore").getTextLength(a),location_tag:b("ReactComposerTaggerStore").hasLocationTag(a)?1:0,implicit_location:b("ReactComposerTaggerStore").hasImplicitLocation(a)?1:0,minutiae:b("ReactComposerTaggerStore").hasMinutiae(a)?1:0,with_who_tag:b("ReactComposerTaggerStore").getNumberOfWithWhoTags(a),photo:b("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a),three_sixty_photo:b("ReactComposerMediaUploadStore").getSphericalPhotoCount(a),asset_3d:b("ReactComposerAsset3dAttachmentStore").getAsset3DInput(a)?1:0,video:b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO),shared_link:b("ReactComposerScrapedAttachmentStore").hasAttachment(a)?1:0,backdated:b("ReactComposerTaggerStore").hasBackdate(a)?b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").BACKDATE):null,audience:b("ReactComposerAudienceStore").getAudience(a),collection:b("ReactComposerAudienceStore").getCollectionID(a)};b("ifRequired")("ReactComposerCTAStore",function(b){b=b.getCTAType(a);b&&(c[b.toLowerCase()]=1)});b("ReactComposerTaggerStore").hasNonprofit(a)&&(c=babelHelpers["extends"]({},c,{fundraiser:1}));b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIST)&&(c=babelHelpers["extends"]({},c,{list:1}));b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL)&&(c=babelHelpers["extends"]({},c,{poll:1}));b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT).length>0&&(c=babelHelpers["extends"]({},c,{product:1}));return c};d.$ReactComposerLoggingStore66=function(a){switch(a){case b("ReactComposerTaggerType").PEOPLE:return"WITH_TAG";case b("ReactComposerTaggerType").LOCATION:return"LOCATION";case b("ReactComposerTaggerType").ACTIVITY:return"MINUTIAE";case b("ReactComposerTaggerType").MARKDOWN:return"MARKDOWN";case b("ReactComposerTaggerType").BACKDATE:return"BACKDATE";case b("ReactComposerTaggerType").SPONSOR:return"SPONSOR_TAG";case b("ReactComposerTaggerType").PRODUCT:return"TAG_PRODUCT";case b("ReactComposerTaggerType").PAGE_CTA:return b("ReactComposerFeatureType").PAGE_CTA;case b("ReactComposerTaggerType").FORMATTED_TEXT:case b("ReactComposerTaggerType").FORMATTED_TEXT_TRAY:return"TEXT_BACKGROUND";case b("ReactComposerTaggerType").STICKER:return"STICKER";case b("ReactComposerTaggerType").GIF:return"GIF";case b("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return"VIDEO_SUGGESTIONS";case b("ReactComposerTaggerType").MESSAGING:return b("ReactComposerFeatureType").MESSAGING;case b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return"CONTACT_YOUR_REPRESENTATIVE";case b("ReactComposerTaggerType").FUN_FACT:return"FUN_FACT";case b("ReactComposerTaggerType").FUNDRAISER:return"FUNDRAISER";case b("ReactComposerTaggerType").ALBUM:return b("ReactComposerFeatureType").ALBUM;case b("ReactComposerTaggerType").VISUAL_POLL:return"VISUAL_POLLS";case b("ReactComposerTaggerType").TODO_LIST:return"TODO_LIST";case b("ReactComposerTaggerType").RECOMMENDATION:return"RECOMMENDATION";case b("ReactComposerTaggerType").SALES_PROMO:return"SALES_PROMO";case b("ReactComposerTaggerType").TAG_EVENT:return"TAG_EVENT";case b("ReactComposerTaggerType").TAG_EVENT_TICKET:return"TAG_EVENT_TICKET";case b("ReactComposerTaggerType").BREAKING_NEWS:return b("ReactComposerFeatureType").BREAKING_NEWS;case b("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return"PLAY_WITH_FRIENDS";case b("ReactComposerTaggerType").LOCAL_ALERTS:return b("ReactComposerFeatureType").LOCAL_ALERTS;case b("ReactComposerTaggerType").GET_SHOWTIMES:return b("ReactComposerFeatureType").GET_SHOWTIMES;case b("ReactComposerTaggerType").PAGES_INTERCEPTION:return b("ReactComposerFeatureType").PAGES_INTERCEPTION;case b("ReactComposerTaggerType").GROUP_JOIN_CTA:return"GROUP_JOIN_CTA";case b("ReactComposerTaggerType").APP_INTEGRATION_AODOCS:return"APP_INTEGRATION_AODOCS";case b("ReactComposerTaggerType").APP_INTEGRATION_BOX:return"APP_INTEGRATION_BOX";case b("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE:return"APP_INTEGRATION_CORNERSTONE";case b("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX:return"APP_INTEGRATION_DROPBOX";case b("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE:return"APP_INTEGRATION_EGNYTE";case b("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE:return"APP_INTEGRATION_GDRIVE";case b("ReactComposerTaggerType").APP_INTEGRATION_JIRA:return"APP_INTEGRATION_JIRA";case b("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE:return"APP_INTEGRATION_ONEDRIVE";case b("ReactComposerTaggerType").APP_INTEGRATION_QUIP:return"APP_INTEGRATION_QUIP";case b("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT:return"APP_INTEGRATION_SHAREPOINT";case b("ReactComposerTaggerType").APP_INTEGRATION_TASKS:return"APP_INTEGRATION_TASKS";case b("ReactComposerTaggerType").APP_INTEGRATION_TRELLO:return"APP_INTEGRATION_TRELLO";case b("ReactComposerTaggerType").WORK_FILE:return"WORK_FILE";case b("ReactComposerTaggerType").SUPPORT_NOW:return"SUPPORT_NOW";case b("ReactComposerTaggerType").AMA:return"AMA";case b("ReactComposerTaggerType").RECRUITING_CANDIDATE:return"RECRUITING_CANDIDATE";case b("ReactComposerTaggerType").CHATROOM:return"CHATROOM";case b("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return"PAID_VIRTUAL_EVENT_GATED_POST";case b("ReactComposerTaggerType").BC_SUPPORT:return"BC_SUPPORT";case b("ReactComposerTaggerType").COVID_BUSINESS_POST:return"COVID_BUSINESS_POST";case b("ReactComposerTaggerType").VIDEO_MEETUP:return"VIDEO_MEETUP";case b("ReactComposerTaggerType").WORK_CHECKLIST:return"WORK_CHECKLIST";default:return null}};d.$ReactComposerLoggingStore69=function(a,c){b("ifRequired")("ReactComposerFormattedTextStore",function(d){var e=d.getTextFormatPresetID(a)||d.getPrevSelectedTextFormatPresetID(a),f=d.getTrackingString(a);e&&b("ifRequired")("SATPInteractionsTypedLogger",function(a){new a().setTrackingString(f).setUserActionString(c).setPresetID(e).setRequestedCollection("COMPOSER_TOP").log()})})};return c}(b("classWithMixins")(b("ReactComposerStoreBase"),b("mixin")(b("PhotosUploadWaterfallXMixin"))));c=new a();e.exports=c}),null);
__d("ReactComposerPhotoLegacyLimitExceededDialog",["fbt","DOM","LayerDestroyOnHide","React","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){f.show=a;var h=b("React");function a(a){var c=g._("\u0110\u00e3 th\u00eam qu\u00e1 nhi\u1ec1u \u1ea3nh");a=g._("B\u1ea1n ch\u1ec9 c\u00f3 th\u1ec3 th\u00eam {maxselect} \u1ea3nh v\u00e0o b\u00e0i vi\u1ebft. \u0110\u1ec3 th\u00eam nhi\u1ec1u \u1ea3nh h\u01a1n, h\u00e3y th\u1eed t\u1ea1o album.",[g._param("maxselect",a)]);var d=b("DOM").create("div");b("ReactDOM").render(h.jsxs(b("XUIDialog.react"),{shown:!0,behaviors:{LayerDestroyOnHide:b("LayerDestroyOnHide")},width:600,children:[h.jsx(b("XUIDialogTitle.react"),{children:h.jsx("span",{children:c})}),h.jsx(b("XUIDialogBody.react"),{children:a}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]}),d)}}),null);
__d("ReactComposerVideoLegacyLimitExceededDialog",["fbt","ErrorDialog"],(function(a,b,c,d,e,f,g){f.show=a;function a(){b("ErrorDialog").show(g._("Qu\u00e1 nhi\u1ec1u t\u1ec7p"),g._("Vui l\u00f2ng ch\u1ecdn m\u1ed7i l\u1ea7n m\u1ed9t file video."))}}),null);
__d("ReactComposerVideoUploadStore",["ReactComposerStoreBase","ReactComposerVideoUploadActionType","immutable"],(function(a,b,c,d,e,f){var g=b("immutable").Record({file:null});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{uploader:null,video:null}},function(a){switch(a.type){case b("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER:d&&d.$ReactComposerVideoUploadStore1(a);break;case b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:d&&d.$ReactComposerVideoUploadStore2(a);break;case b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:d&&d.$ReactComposerVideoUploadStore3(a);break;default:}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getUploader=function(a){return this.getComposerData(a).uploader};d.getVideo=function(a){return this.getComposerData(a).video};d.isUploading=function(a){return this.getUploader(a).isUploading()};d.$ReactComposerVideoUploadStore1=function(a){a=this.validateAction(a,["composerID","uploader"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.uploader=a;this.emitChange(b)};d.$ReactComposerVideoUploadStore2=function(a){a=this.validateAction(a,["composerID","file"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.video=new g({file:a});this.emitChange(b)};d.$ReactComposerVideoUploadStore3=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.video=null;b.input&&b.input.clear();this.emitChange(a)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerVideoUploadActions",["ReactComposerDispatcher","ReactComposerVideoUploadActionType","ReactComposerVideoUploadStore"],(function(a,b,c,d,e,f){f.setUploader=a;f.add=c;f.remove=d;b("ReactComposerVideoUploadStore");function a(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER,uploader:c})}function c(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD,file:c})}function d(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE})}}),null);
__d("ReactComposerMediaUtils",["invariant","Arbiter","Bootloader","PagesComposerContextUtils","PagesComposerUtils","PUWMethods","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPagesStore","ReactComposerPhotoActions","ReactComposerPhotoLegacyLimitExceededDialog","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoLegacyLimitExceededDialog","ReactComposerVideoUploadActions","ReactComposerVideoUploadStore","VideoUploader","VideoUploadFeatureDetector","VideoUploadFile","curry","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesComposerContextUtils").isPageAdminPostingInPage,i=b("PagesComposerUtils").logVideoUploadFunnelEvents,j={clearInput:function(a,b){if(a.input!==null){var c=this.getFileNamesFromFileInput(a.getInput());(b||!j.hasVideos(c))&&a.clear()}},getFileNames:function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c].name);return b},getFileNamesFromFileInput:function(a){if(b("VideoUploadFeatureDetector").supportsFileAPI())return this.getFileNames(a.files);else return[a.value.split("/").pop().split("\\").pop()]},hasEditableVideos:function(a){return b("ReactComposerMediaFilterUtils").hasEditableVideos(a)},hasVideos:function(a){return b("ReactComposerMediaFilterUtils").hasVideos(a)},hasAudioFiles:function(a){return b("ReactComposerMediaFilterUtils").hasAudioFiles(a)},filterVideos:function(a){return b("ReactComposerMediaFilterUtils").filterVideos(a)},filterAudioFiles:function(a){return b("ReactComposerMediaFilterUtils").filterAudioFiles(a)},filterFileOfSupportedType:function(a,c){return b("ReactComposerMediaFilterUtils").filterFileOfSupportedType(a,c)},uploadVideo:function(a,c){var d=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO);d.size>0&&b("ReactComposerMediaUploadActions").removeAllPhotoUploads(a,d);b("ReactComposerVideoUploadActions").add(a,c)},uploadPhotos:function(a,c,d,e,f,g){var h=d.isUploadLimitExceeded(e,c);if(h){b("ReactComposerPhotoLegacyLimitExceededDialog").show(d.getMaxSelectableFilesCount(e));return}h=c?c.length:1;if(h<1)return;b("ReactComposerVideoUploadStore").getVideo(a)&&b("ReactComposerVideoUploadActions").remove(a);b("ReactComposerMediaUploadActions").photosSelect(a,h,f);g&&g()},uploadVideosFromTarget:function(a,c,d,e,f){if(f)this.uploadMultiMediaFromTarget(a,c,d,e,f);else{if(c.files&&c.files.length>1){b("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(a,b("VideoUploadFile").fromFileInput(c))}},uploadVideos:function(a,c,d,e,f,g){if(f)this.uploadMultiMedia(a,c,d,e,"file_selector",g);else{if(c&&c.length>1){b("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(a,b("VideoUploadFile").fromFile(c[0]))}},uploadMultiMediaFromTarget:function(a,b,c,d,e){var f=this.getVideoXUploader(a);f.upload(Array.from(b.files));this.uploadPhotos(a,b.files,c,d,"file_selector",function(){c&&c.upload(b)},e)},uploadPhotosOrVideoFromTarget:function(a,b,c,d,e,f){var g=this.getFileNamesFromFileInput(b);this.hasVideos(g)?this.uploadVideosFromTarget(a,b,c,d,e):this.uploadPhotos(a,b.files,c,d,"file_selector",function(){c&&c.upload(b,f)})},uploadMultiMedia:function(a,c,d,e,f,g){var h=this;f===void 0&&(f="file_selector");g=this.getVideoXUploader(a,g);g.upload(c);var i=c.filter(function(a){return!h.hasVideos([a.name])});this.uploadPhotos(a,i,d,e,f,function(){i.forEach(function(a){a.uploadID=b("uniqueID")(),a.filename=""}),d.enqueueAsyncUploadRequest(a,i,{},{},!1)})},uploadPhotosOrVideo:function(a,c,d,e,f,g,h){f===void 0&&(f="file_selector");h===void 0&&(h=null);var i=this.getFileNames(c);this.hasVideos(i)?this.uploadVideos(a,c,d,e,g,h):this.uploadPhotos(a,c,d,e,f,function(){c.forEach(function(a){a.uploadID=b("uniqueID")(),a.filename=""}),d.enqueueAsyncUploadRequest(a,c,{},{},!1)})},subscribeToImageEdit:function(a,c){return b("Arbiter").subscribe(["AttachmentsPhotoEditor/newImage"+a,"AttachmentsPhotoEditor/tagsUpdated"+a],b("curry")(j.onImageEdited,a,c))},onImageEdited:function(a,c,d,e){if(d==="AttachmentsPhotoEditor/newImage"+a){var f=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO);f=f.find(function(a){return a.photoID===e.fbid||a.originalPhotoID===e.fbid});var g=b("ReactComposerMediaUploadStore").getUploadIndex(a,f.id),h=e.blob;h.uploadID=b("uniqueID")();h.name=f.filename||b("uniqueID")();g=new Map([[h.uploadID,g]]);c&&c.enqueueAsyncUploadRequest(a,[h],{data:{original_fbid:e.fbid,xy_tags:e.xyTags,stickers:e.stickers,text_overlays:e.textOverlays,has_crop:e.hasCrop,has_filter:e.hasFilter},indexMap:g},{xyTags:e.xyTags},!1);b("ReactComposerPhotoActions").removePhoto(a,f.photoID,f.id);b("ReactComposerMediaUploadActions").photosSelect(a,1,"editor")}else d==="AttachmentsPhotoEditor/tagsUpdated"+a&&j.handleFaceboxAndXYTags(a,e.fbid,e.xyTags);b("ReactComposerPhotoActions").finishPhotoEdit(a)},handleFaceboxAndXYTags:function(a,c,d){b("ReactComposerPhotoActions").untagAllForPhoto(a,c),d.forEach(function(d){if(d==null)return;d.from_facebox?b("ReactComposerPhotoActions").tagFacebox(a,c,d.facebox,d.subject,d.name):d.is_product_tag?b("ReactComposerPhotoActions").tagXYProduct(a,c,d.name,d.parent_product_id,d.source,d.subject,d.x,d.y):b("ReactComposerPhotoActions").tagXY(a,c,d.name,d.source,d.subject,d.x,d.y)})},handleXYTagsOnly:function(a,c,d){d.forEach(function(d){if(d==null)return;if(d.from_facebox)return;else d.is_product_tag?b("ReactComposerPhotoActions").tagXYProduct(a,c,d.name,d.parent_product_id,d.source,d.subject,d.x,d.y):b("ReactComposerPhotoActions").tagXY(a,c,d.name,d.source,d.subject,d.x,d.y)})},handleVideoUploadForDroppedFiles:function(a,c,d){var e=b("ReactComposerMediaUploadStore").getUploadsCount(d.composerID)>0;if(e)return!1;e=this.getFileNames(a);if(!e||e.length!==1)return!1;e=j.hasVideos(e);if(e){b("Bootloader").loadModules(["ComposerXVideoUploadDialogController_DEPRECATED"],function(b){return b.showDialog({targetID:d.targetID,files:a,composerEntryPointRef:d.composerType,canShowOptimisticPost:c.shouldShowOptimisticVideoPost})},"ReactComposerMediaUtils");return!0}return!1},handleSpecialMediaUpload:function(a,c,d,e){var f=b("ReactComposerMediaUploadStore").getUploadsCount(e.composerID)>0;if(f)return!1;f=a.target;if(!f||!f.files||f.files.length!==1)return!1;a=j.getFileNamesFromFileInput(f);var g=j.hasEditableVideos(a);a=j.hasAudioFiles(a);if(a&&d.canUploadAudio){b("Bootloader").loadModules(["ComposerXAudioUploadDialogController"],function(a){return a.showDialog({targetID:e.targetID,fileInput:c,originalComposerID:e.composerID})},"ReactComposerMediaUtils");return!0}else if(g){if(h(e.actorID,e.composerID,e.targetID)){a=b("ReactComposerPagesStore").getPagesComposerConfig(e.composerID);if(!d.useVideoUploadDialog||!!((g=a)!=null?(g=g.attachmentsConfig)!=null?(g=g[b("ReactComposerAttachmentType").VIDEO_EDITOR])!=null?g.useInlineVideoUpload:g:g:g)){i(e.composerID,"video_upload_requested");a=this.getVideoXUploader(e.composerID,null,!0);a.upload(Array.from(f.files));return!0}}else if(!d.useVideoUploadDialog)return!1;b("Bootloader").loadModules(["ComposerXVideoUploadDialogController_DEPRECATED"],function(a){return a.showDialog({targetID:e.targetID,fileInput:c,composerEntryPointRef:e.composerType,canShowOptimisticPost:d.shouldShowOptimisticVideoPost,originalComposerID:e.composerID})},"ReactComposerMediaUtils");return!0}return!1},isMultimediaPost:function(a){return b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").VIDEO)>0&&b("ReactComposerMediaUploadStore").getUploadsCount(a,b("ReactComposerMediaUploadType").PHOTO)>0},getVideoXUploader:function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=!1);var e=null;if(c&&c.videoUploadParams&&!b("ReactComposerAttachmentStore").getIsAnonymousAttachmentSelected(a))e=c;else{c=b("ReactComposerAttachmentStore").getMediaAttachmentToSelect(a);e=b("ReactComposerAttachmentStore").getAttachmentsConfig(a,c)}e||g(0,590);c=b("ReactComposerMediaUploadStore").getVideoUploader(a,e.videoUploadParams,d);return c},tryGetVideoXUploader:function(a,b){b===void 0&&(b=null);try{return this.getVideoXUploader(a,b)}catch(a){return null}},getVideoUploader:function(a){var c=b("ReactComposerAttachmentStore").getMediaAttachmentToSelect(a);a=b("ReactComposerAttachmentStore").getAttachmentsConfig(a,c);a||g(0,590);c=JSON.parse(JSON.stringify(a.videoUploadParams));return new(b("VideoUploader"))(c)},changeToPeopleTaggerAfterUpload:function(a){var c=b("ReactComposerTaggerStore").getSelectedTagger(a),d=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").MEDIA);c===null&&d&&b("ReactComposerTaggerActions").selectTaggerWithoutAutofocus(a,b("ReactComposerLoggingName").PHOTO_UPLOAD_DONE,b("ReactComposerTaggerType").PEOPLE)}};e.exports=j}),null);
__d("ReactComposerEventAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({EVENT_ATTACHMENT_ENABLED:null,FETCH_EVENT_ATTACHMENT:null,SET_EVENT_MARKUP:null},"ReactComposerEventAttachmentActionType");e.exports=a}),null);
__d("ReactComposerEventAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerEventAttachmentActionType","ReactComposerStoreBase","XReactComposerEventAttachmentController"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{eventID:null,isEnabled:!1,isFetching:!1,isTimeline:!1,markup:null,pendingRequest:null}},function(a){switch(a.type){case b("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED:d&&d.$ReactComposerEventAttachmentStore1(a);break;case b("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT:d&&d.$ReactComposerEventAttachmentStore2(a);break;case b("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP:d&&d.$ReactComposerEventAttachmentStore3(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerEventAttachmentStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.isEnabled=function(a){return this.getComposerData(a).isEnabled};d.getEventID=function(a){return this.getComposerData(a).eventID};d.getMarkup=function(a){return this.getComposerData(a).markup};d.getIsTimeline=function(a){return this.getComposerData(a).isTimeline};d.hasAttachment=function(a){return this.getComposerData(a).markup!=null};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.$ReactComposerEventAttachmentStore1=function(a){a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};d.$ReactComposerEventAttachmentStore2=function(a){var c=this;a=this.validateAction(a,["composerID","eventID"]);var d=a[0];a=a[1];if(!this.isEnabled(d))return;var e=this.getComposerData(d);e.isFetching=!0;a=b("XReactComposerEventAttachmentController").getURIBuilder().setString("composer_id",d).setString("event_id",a).getURI();e.pendingRequest=new(b("AsyncRequest"))(a).setFinallyHandler(function(){e.isFetching=!1,e.pendingRequest=null,c.emitChange(d)});e.pendingRequest.send();this.emitChange(d)};d.$ReactComposerEventAttachmentStore3=function(a){a=this.validateAction(a,["composerID","eventID","markup"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.markup=a;d.eventID=c;this.emitChange(b)};d.$ReactComposerEventAttachmentStore4=function(a){a=this.validateAction(a,["composerID","id"]);var c=a[0];a=a[1];if(a===b("ReactComposerAttachmentType").STATUS)return;a=this.getComposerData(c);a.markup=null;a.isFetching=!1;a.pendingRequest&&a.pendingRequest.abandon();this.emitChange(c)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerPromptsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null,SET_MEME_CATEGORY_ID:null},"ReactComposerPromptsActionTypes");e.exports=a}),null);
__d("ReactComposerPromptsStore",["ReactComposerPromptsActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;b=a.call(this,function(){return{promptData:null,promptXHP:null}},function(a){c&&c.handler(a)})||this;c=babelHelpers.assertThisInitialized(b);return b}var d=c.prototype;d.handler=function(a){switch(a.type){case b("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(a);break;case b("ReactComposerPromptsActionTypes").SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(a);break;case b("ReactComposerPromptsActionTypes").SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(a);break;default:}};d.$ReactComposerPromptsStore1=function(a){a=this.validateAction(a,["composerID","minutiaeData"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.minutiaeData=a};d.getMinutiaeData=function(a){return this.getComposerData(a).minutiaeData};d.$ReactComposerPromptsStore2=function(a){a=this.validateAction(a,["composerID","promptData"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.promptData=a};d.getPromptData=function(a){return this.getComposerData(a).promptData};d.$ReactComposerPromptsStore3=function(a){a=this.validateAction(a,["composerID","promptXHP"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.promptXHP=a;this.emitChange(b)};d.getPromptXHP=function(a){return this.getComposerData(a).promptXHP};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes");e.exports=a}),null);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){var g=-1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,b){a=b.tti;d.ttiTimestamp=a});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(a){switch(a.type){case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerSessionMetricsStore1(a);break;case b("ReactComposerSessionMetricsActionTypes").KEYSTROKE:d&&d.$ReactComposerSessionMetricsStore2(a);break;case b("ReactComposerSessionMetricsActionTypes").PASTE:d&&d.$ReactComposerSessionMetricsStore3(a);break}})||this;c.ttiTimestamp=g;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getComposerEntryTime=function(a){if(this.ttiTimestamp==g)return 0;else return Math.round((this.getComposerData(a).composerStartTime-this.ttiTimestamp)/1e3)};d.getComposerStartTime=function(a){return this.getComposerData(a).composerStartTime};d.getKeystrokeCount=function(a){return this.getComposerData(a).keystrokeCount};d.getPasteCount=function(a){return this.getComposerData(a).pasteCount};d.$ReactComposerSessionMetricsStore1=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.composerStartTime||(a.composerStartTime=Date.now())};d.$ReactComposerSessionMetricsStore2=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.keystrokeCount++};d.$ReactComposerSessionMetricsStore3=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.pasteCount++};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("slideshowGetDurationParam",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){a=Math.min(a,b("SlideshowConstants").max_photo_num);c=b("DateConsts").MS_PER_SEC*c;var e=d*(a-1);c=Math.floor((c-e)/a);return{durationInMS:c,transitionInMS:d}}}),null);
__d("slideshowGetTotalLengthInSec",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){c=Math.min(c,b("SlideshowConstants").max_photo_num);return Math.round(a*c/b("DateConsts").MS_PER_SEC)}}),null);
__d("ReactComposerPostDataUtils",["cometComposerMentionsBlockToEntity","slideshowGetDurationParam","slideshowGetTotalLengthInSec","transformDraftEditorStateToTextWithEntities","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerPromptsStore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerXMarauderLogger","flattenPHPQueryData","formatDate","getMentionsTextForContentState","ifRequired","isNumberLike","PhotoEditorSaveStates"],(function(a,b,c,d,e,f){f.getPostData=a;f.getMediaUploadsData=c;f.getMediaDataWithoutFiltering=d;f._sanitizeDateField=e;f._getSlideshowSpec=g;f._getXYTagData=h;f._getCreativeEditingToolsData=i;f._getScrapedAttachmentData=j;f._getListAttachmentData=k;f._getWorkChecklistAttachmentData=l;f._getLocalAlertData=m;f._getTodoListAttachmentData=n;f._getMultilingualRichtext=o;f._getVisualPollAttachmentData=p;f.createFormData=q;f.getGroupMeetupData=r;f.isEmptyAttachment=s;function a(a){var c,d=this,e,f=a.composerID,g=a.targetID,h=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").PEOPLE)||[],i=[];h.forEach(function(a){i.push(a.getUniqueID())});h=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").PRODUCT)||[];h=h.filter(function(a){return!a.getAuxiliaryData().isFacebox});h=h.map(function(a){return a.getUniqueID()});var j=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),k=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").TAG_EVENT),l=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").ACTIVITY),m=[],n=[],o=[],p;l&&l.action&&l.object?(m.push(l.action.getUniqueID()),p=l.actionIconID,b("isNumberLike")(l.object.getUniqueID())&&l.object.getUniqueID()!==l.object.getTitle()?(n.push(l.object.getUniqueID()),o.push("")):o.push(l.object.getTitle())):j.politicalRepresentative?b("ifRequired")("ContactYourRepresentativeConsts",function(a){m.push(a.composer_action_id),n.push(j.politicalRepresentative.getUniqueID()),o.push("")}):k&&k.eventID&&b("ifRequired")("TagEventSproutConsts",function(a){m.push(a.composer_action_id),n.push(k.eventID),o.push("")});l=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").STICKER);l=l&&l.stickerID?l.stickerID:0;var q=b("ReactComposerAsset3dAttachmentStore").getAsset3DData(f),r=b("ReactComposerTaggerStore").isDisabled(f,b("ReactComposerTaggerType").ASSET_3D);r=q&&!r?q.asset3dID:null;q=b("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(f);var s=b("ifRequired")("ReactComposerLocationAttachmentStore",function(a){return a.getMarkup(f)!==null?2:1},function(){return 1}),t=[],u=[],v="",w=[];b("ifRequired")("ReactComposerMultilingualStatusStore",function(a){var b=a.getLanguageDialects(f);t=a.getMessages(f);u=b;v=a.getSpecifiedPostLanguage(f);w=d._getMultilingualRichtext(b,a.getRichTextBlocks(f))});var x=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").FUNDRAISER);x=x?x.charityID:null;var y=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").GROUP_JOIN_CTA),aa=y?y.groupID:null;y=y?y.remove:!1;var z=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").PLAY_WITH_FRIENDS);z=z?z.gameID:null;var A=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").LOCATION),B=b("ReactComposerEventAttachmentStore").getEventID(f),C=null;B&&(C={event_id:B});B=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").TAG_EVENT_TICKET);B&&B.ticketedEventData&&(C={event_id:B.ticketedEventData.getUniqueID(),use_ticket_cta:!0});B=A?A.place:null;var D;if(b("ReactComposerTaggerStore").hasBackdate(f)){var E=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").BACKDATE);D={year:this._sanitizeDateField(E.year),month:this._sanitizeDateField(E.month),day:this._sanitizeDateField(E.day),hour:this._sanitizeDateField(E.hour),minute:this._sanitizeDateField(E.minute)}}E=A&&A.implicitLocation?A.implicitLocation.citypageid:null;var F=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").SPONSOR)||{},G=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").BC_SUPPORT)||{};e=(e=G.sponsors)!=null?e:[];e=e.length>0;e=e?G:F;e={canAddSponsorCTA:e.canAddSponsorCTA,directShareStatus:e.directShareStatus,entrypoint:e.entrypoint,eventLocation:e.eventLocation,sponsorRelationship:e.sponsorRelationship,sponsors:e.sponsors};e.sponsors=e.sponsors.map(function(a){return a.getUniqueID()});G={};F.bcmpDealID&&(G.bcmp_deal_id=F.bcmpDealID);F.bcmpDealUpsell&&(G.bcmp_create_deal=F.bcmpDealUpsell);F.composerInterceptEvent&&(G.composer_intercept_event=F.composerInterceptEvent);F.composerInterceptReason&&(G.composer_intercept_reason=F.composerInterceptReason);F.detectedBrandId&&(G.detected_brand_id=F.detectedBrandId);if(e.sponsors.length>0){var H={sponsor_relationship:e.sponsorRelationship,shared_to_sponsor_status:e.directShareStatus,can_sponsor_add_cta:e.canAddSponsorCTA?1:0,sponsor_page_id:e.sponsors[0]};G.tagging_data=H}F.eventLocation&&(G.event_location=F.eventLocation);F.entrypoint&&(G.entrypoint=F.entrypoint);H=b("ReactComposerAudienceStore").getCollectionID(f);F=null;if(!H){var I=b("ReactComposerAudienceStore").getLegacyAudience(f);I&&(F=[{value:I}])}I=a.useHints;var J=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").TARGETING),K=J&&!H?I?J.hints:J.targeting:null;K!=null&&(!I&&K.fan_of&&(K.fan_of=K.fan_of.map(function(a){return a.id})),b("ifRequired")("AdsAPITargetFields",function(a){a&&K&&K[a.INTERESTS]&&(K[a.INTERESTS]=K[a.INTERESTS].map(function(a){return a.id}))}));I=J&&!H?J.gating:null;b("ifRequired")("PagesComposerUnpublishedPostsStore",function(a){a=a.getStopFeedDistributionTime(f);a!=null&&(K||(K={}),K["relevant-until-date"]=b("formatDate")(a,"m/d/Y",{skipPatternLocalization:!0}),K["relevant-until-time"]=60*(60*a.getHours()+a.getMinutes()))});var L=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);L&&(L.showStart==1&&L.showEnd==100||L.showStart==null&&L.showEnd==null?L=null:L={showStart:L.showStart,showEnd:L.showEnd});c=!!((c=a)!=null?(c=c.composerConfig)!=null?(c=c.contextInfo)!=null?c.is_preview:c:c:c);c=c?null:b("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(f)},function(){return null});var M=r?null:b("ReactComposerScrapedAttachmentStore").getAttachmentConfig(f),N=!1,O=null;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){N=a.isCTAAttachmentSelected(f)});M===null&&N&&(b("ifRequired")("ReactComposerCTAStore",function(a){M=a.getAttachmentConfig(f)}),M===null&&b("ifRequired")("ReactComposerCollectionStore",function(a){M=a.getAttachmentConfig(f)}));N&&b("ifRequired")("ReactComposerCTAStore",function(a){O=a.getCTAData(f)});b("ReactComposerAttachmentStore").getSelectedAttachmentID(f)===b("ReactComposerAttachmentType").MEDIA&&b("ifRequired")("ReactComposerPortableCTAAttachmentStore",function(a){var c=a.getSelectedCta(f),d=a.getCTAData(f);b("ifRequired")("CallToActionTypes",function(a){(b("ReactComposerMediaUploadStore").getPhotos(f).size===1||b("ReactComposerMediaUploadStore").getPhotos(f).size>1&&c===a.MESSAGE_PAGE)&&(O=d!==null&&d!==void 0?d:O)})});var P=b("ReactComposerTaggerStore").hasData(f,b("ReactComposerTaggerType").BREAKING_NEWS),Q=0;P&&(Q=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").BREAKING_NEWS).expirationTime);P&&Q>0&&M&&M.params.url&&(M.params.breaking_news_selected=P,M.params.breaking_news_expiration=Q);var R=b("ReactComposerTaggerStore").hasMarkdown(f);b("ifRequired")("ReactComposerMarkdownStore",function(a){R=R||a.isMarkdownEnabled(f)});var ba=b("ifRequired")("ReactComposerPostToGroupStore",function(a){return a.getIsTabSelected(f)},function(){return!1}),ca=b("ReactComposerTaggerStore").getPoliticalDistrictInfo(f);J!==null&&!!J.woodhengeInfo&&(I||(I={}),I.woodhenge_info=J.woodhengeInfo);J!==null&&!!J.videoCreatorTopFanPageID&&(I||(I={}),I.top_fans_video_creator=J.videoCreatorTopFanPageID);J!==null&&!!J.newsSubscribersInfo&&(I||(I={}),I.news_subscribers_info=J.newsSubscribersInfo);J=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").CONTENT_WARNINGS);J!=null&&(J=J.map(function(a){return a.getUniqueID()}));var S=null;b("ifRequired")("ReactComposerTopicFeedsTaggerStore",function(a){a.getIsDarkLaunch(f)||(S=a.getTaggedTopics(f).toArray())});var T=null;b("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function(a){T=a.getPostTagIDs(f)});var U=b("ReactComposerPromptsStore").getPromptData(f),V=b("ReactComposerSessionMetricsStore").getComposerStartTime(f),da=null;V&&(da=Math.round((Date.now()-V)/1e3));V=!1;b("ifRequired")("ReactComposerProfileBadgeStore",function(a){V=a.hasProfileBadge(f)});var W=b("ComposerXMarauderLogger").getInstance(f),ea=W&&W.ref,fa=W&&W.composerSourceSurface,X=a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],Y=X&&X.richTextEditor,ga=!1;X&&X.isWelcomeToGroupPost&&(ga=!0);X=H?null:b("ReactComposerAudienceStore").getAudience(f);var ha=null;b("ifRequired")("ReactComposerFindPlayersStore",function(a){var b=a.getTitle(f),c=a.getName(f);a=a.getTags(f);(b||c||a)&&(ha={title:b,tags:a,name:c})});var ia=null;b("ReactComposerStore").getRankerRequestID(f)&&(ia={RequestID:b("ReactComposerStore").getRankerRequestID(f)});var ja=null,Z=M&&M.readOnly;Z&&(ja={xc_disable_link:Z});Z=null;b("ifRequired")("ReactComposerCivicEngagementStore",function(a){Z=a.getCivicProductSource(f)});Y=b("ReactComposerStatusStore").getMessage(f,Y&&!R);var $=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").FUN_FACT),ka=null,la=null;$&&($.promptID?ka=$.promptID:$.isAskPost&&Y&&(la={prompt_title:Y},Y=null));$=b("ifRequired")("ReactComposerCulturalMomentHolidayCardStore",function(a){return a.getHolidayCardData(f)},function(){return null});var ma=b("ifRequired")("ReactComposerAutoSavingStore",function(a){return a.getDraftID(f)},function(){return null}),na=b("ReactComposerAudienceStore").getStoriesSelected(f),oa=b("ReactComposerAudienceStore").getTimelineSelected(f),pa=b("ReactComposerTaggerStore").getTaggerData(f,b("ReactComposerTaggerType").GET_SHOWTIMES),qa=b("ReactComposerTaggerStore").hasSupportNowCTA(f),ra=b("ReactComposerTaggerStore").getFanFundingPromotionPayload(f),sa=b("ReactComposerTaggerStore").getUserFundingAttachmentType(f),ta=b("ReactComposerTaggerStore").paidVirtualEventGatedPost(f);return Object.assign(babelHelpers["extends"]({},b("ReactComposerStatusStore").getRichTextBlocks(f),{action_type_id:m,album_id:H,asset3d_id:r,asked_fun_fact_prompt_data:la,attachment:M,audience:F,backdated_date:D,boosted_post_config:c,breaking_news_expiration:Q,breaking_news_selected:P,cta_data:O,charity_id:x,composer_entry_point:ea,composer_entry_time:b("ReactComposerSessionMetricsStore").getComposerEntryTime(f),composer_session_id:b("ReactComposerLoggingStore").getSessionID(f),composer_session_duration:da,composer_source_surface:fa,composer_type:W&&W.composerType,composertags_city:E,composertags_place:B&&B.getUniqueID()||E,composertags_place_name:B&&B.getTitle(),composertags_with:i,composertags_sponsors:e.sponsors,civic_product_source:Z,direct_share_status:e.directShareStatus,sponsor_relationship:e.sponsorRelationship,can_add_sponsor_cta:e.canAddSponsorCTA,branded_content_data:G,composertags_product_items:h,content_warnings:J,extensible_sprouts_ranker_request:ia,external_movie_data:pa,feed_targeted_data:K,feed_topics:S,find_players_info:ha,fun_fact_prompt_id:ka,group_post_tag_ids:T,group_join_target_id:aa,hide_object_attachment:q,has_support_now_cta:qa,fan_funding_promotion_payload:ra,remove_group_join_cta:y,icon_id:p,is_explicit_place:!!B,instant_game_entry_point_data:a.composerConfig.instantGameEntryPointData,is_markdown:R,is_ama:b("ReactComposerTaggerStore").isAMA(f),is_post_to_group:ba,is_welcome_to_group_post:ga,is_profile_badge_post:V,political_district_info:ca,story_list_attachment_data:this._getListAttachmentData(f),local_alert_data:this._getLocalAlertData(f),multilingual_statuses:t,multilingual_status_langs:u,multilingual_rich_text:w,multilingual_specified_lang:v,num_keystrokes:b("ReactComposerSessionMetricsStore").getKeystrokeCount(f),num_pastes:b("ReactComposerSessionMetricsStore").getPasteCount(f),object_id:n,object_str:o,paid_virtual_event_gated_post:ta,place_attachment_setting:s,play_with_friends_game_id:z,poll_question_data:this._getVisualPollAttachmentData(f),privacyx:X,prompt_id:U?U.promptID:null,prompt_tracking_string:U?U.trackingString:null,publisher_abtest_holdout:L,ref:b("ReactComposerStore").getRef(f),stories_selected:na,todo_list_data:this._getTodoListAttachmentData(f),timeline_selected:oa,user_funding_attachment_type:sa,xc_sticker_id:l,event_tag:C,tagger_session_id:A&&A.sessionID,target_type:b("ReactComposerStore").getTargetType(f),targeted_privacy_data:I,xhpc_message:Y,xhpc_message_text:b("ReactComposerStatusStore").getMessageText(f),is_forced_reshare_of_post:M&&M.reshare_original_post,xc_disable_config:ja,delight_ranges:b("ReactComposerStatusStore").getDelightRanges(f),holiday_card:$,draft_id:ma,work_shared_draft_mode:a==null?void 0:(H=a.composerConfig)==null?void 0:(r=H.actorConfig)==null?void 0:r.workSharedDraftMode,work_checklist_metadata:this._getWorkChecklistAttachmentData(f)}),this._getScrapedAttachmentData(M),b("ReactComposerPostUtilsCore").getCoreData(f,a.composerConfig.contextInfo,g))}function c(a,c){var d=b("ReactComposerPhotoStore").getPhotos(a).filter(function(a){return!a.isDepthFile});c=c.filter(function(a){return a.mediaType!==b("ReactComposerMediaUploadType").PHOTO?!0:d.some(function(b){return b.id===a.photoID})});return this.getMediaDataWithoutFiltering(a,c)}function d(a,c){var d=c.map(function(a){return a.photoID}).toArray(),e=c&&c.size>0?c.first().holidayCardID:null;e=e?{holiday_card_id:e,source:"promo"}:null;var f=b("ReactComposerSlideshowStore").isSlideshowSelected(a),g=null;f&&(g=this._getSlideshowSpec(a));return Object.assign({application:"composer",composer_unpublished_photo:d,qn:b("ReactComposerLoggingStore").getSessionID(a),slideshow_spec:g,waterfallxapp:"web_react_composer",xy_tags:this._getXYTagData(a),holiday_card:e},this._getCreativeEditingToolsData(c))}function e(a){return!a||a===-1||a===0?null:a}function g(a){var c=b("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(a),d=null;c!=null&&(d=c.moodID);c=b("ReactComposerSlideshowStore").getDurationInMS(a);var e=b("ReactComposerSlideshowStore").getTransitionInMS(a),f=b("ReactComposerSelectedImagesStore").getNumberOfImages(a);c=b("slideshowGetTotalLengthInSec")(c,f);f=b("slideshowGetDurationParam")(f,c,e);return{photo_ids:b("ReactComposerSelectedImagesStore").getPhotoIDs(a),images_crops:b("ReactComposerSelectedImagesStore").getImagesCrops(a),photo_duration:f.durationInMS,photo_transition_duration:f.transitionInMS,storyline_mood_id:d}}function h(a){var c=b("ReactComposerPhotoStore").getAllTaggedFaceboxes(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("taggedValue"),subject:a.get("taggedSubjectID"),from_facebox:!0,source:a.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}});a=b("ReactComposerPhotoStore").getAllXYTags(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("name"),subject:a.get("subject"),from_facebox:a.get("from_facebox"),source:a.get("source")}});return c.concat(a)}function i(a){var c={},d={},e={},f={},g={};a.forEach(function(a){var h=a.get("photoID");a=b("PhotoEditorSaveStates").getLoggingData(a.get("originalPhotoID"));a&&(c[h]=a.hasFilter?!0:null,d[h]=a.hasCrop?!0:null,e[h]=a.textOverlays,f[h]=a.stickers,a.customAccessibilityCaption&&(g[h]=a.customAccessibilityCaption))});a={};a.composer_has_filter=c;a.composer_has_crop=d;a.composer_custom_accessibility_caption=g;a.composer_text_overlay=e;a.composer_sticker=f;return a}function j(a){return!a||!a.params||a.readOnly?null:{xc_share_params:JSON.stringify(a.params),xc_share_target_type:a.type,xc_share_images:a.params.images,xc_share_title:a.params.title,xc_share_summary:a.params.summary,xc_link_url:a.params.url}}function k(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIST),d=null;c&&b("ifRequired")("ReactComposerListStore",function(c){var e=c.getListTitle(a),f=c.getListItems(a),g=c.getSelectedListStyle(a),h=c.getSelectedListColor(a),i=c.getListColors(a),j=c.getListPrompts(a);c=c.getSelectedListPrompt(a);var k=c!==-1?j[c].prompt_id:null;j=c!==-1?j[c].is_fun_fact_prompt:!1;var l=[];f.forEach(function(a){var c=a.getCurrentContent().getPlainText();c.trim().length>0&&l.push({description:b("getMentionsTextForContentState")(a.getCurrentContent())})});d={original_list_id:null,create_story_list_action_link:null,list_style:g,title:b("getMentionsTextForContentState")(e.getCurrentContent()),items:l,text_format_preset_id:i[h].preset_id,fun_fact_prompt_id:j?k:null,prompt_id:j?null:k}});return d}function l(a){var c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").WORK_CHECKLIST);c=c.hasChecklist;return!c?null:b("ifRequired")("ReactComposerWorkChecklistStore",function(c){var d=c.getTitle(a).getCurrentContent();d=d.hasText()?d.getPlainText():void 0;c=c.getListItems(a);var e=[];c.forEach(function(a){a=a.editorState;var c=a.getCurrentContent().getPlainText();c.trim().length>0&&e.push({text_with_entities:b("transformDraftEditorStateToTextWithEntities")(a,[b("cometComposerMentionsBlockToEntity")])})});return{title:d,items:e}},function(){return null})}function m(a){var c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCAL_ALERTS);if(!c.expirationTime||!c.structuredAlertType)return null;a=c.geoAreas||[];var d=null;b("ifRequired")("ReactComposerLocalAlertsUtils",function(a){d=a.getLocalAlertsCustomAreaFromLocationObject(c.customArea)});if(d)return{expiration_time:c.expirationTime,geo_areas:a.map(function(a){return a.getUniqueID()}),alert_type:c.structuredAlertType,custom_area:d};else return{expiration_time:c.expirationTime,geo_areas:a.map(function(a){return a.getUniqueID()}),alert_type:c.structuredAlertType}}function n(a){var c=1,d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").TODO_LIST),e=null;d&&b("ifRequired")("ReactComposerListStore",function(d){var f=d.getListTitle(a),g=d.getListItems(a),h=d.getDesiredVolunteerCountList(a);d=g.filter(function(a){return a.getCurrentContent().getPlainText().trim().length>0}).map(function(a,d){return{title:b("getMentionsTextForContentState")(a.getCurrentContent()),desired_volunteer_count:h.get(d,c)}});e={title:b("getMentionsTextForContentState")(f.getCurrentContent()),items:d}});return e}function o(a,b){if(!b)return[];var c=[];for(var d=0;d<a.length;d++)b[d]&&c.push({dialect:a[d],composedTextParams:b[d]});return c}function p(a){var c=this,d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),e=null;d&&b("ifRequired")("ReactComposerQuestionStore",function(d){var f=d.isRelativeEndTime(a),g=d.getVisualPollEndTimeInMillis(a),h=!0,i=0,j=0;f?j=Math.round(g/1e3):i=Math.round(g/1e3);f=d.getIsResultsHidden(a);g=d.getVisualPollNumOptions(a);var k=d.getVisualPollOptionTexts(a),l=d.getVisualPollOptionGifUrls(a),m=b("ReactComposerMediaUploadStore").getUploads(a);m=c.getMediaUploadsData(a,m).composer_unpublished_photo;d=d.getVisualPollOptionImageIndices(a);var n=[],o=0,p=0;for(var q=0;q<g;q++)n.push({}),q<k.length&&k[q]?n[q].text=k[q]:h=!1,q<l.length&&l[q]?(n[q].external_image_url=l[q],o+=1):q<d.length&&d[q]>=0&&d[q]<m.length&&(n[q].associated_image_id=m[d[q]],p+=1);q=o+p===n.length?4:6;h&&(e={text:b("ReactComposerStatusStore").getMessage(a),hidden_results:f?!0:null,question_type:q,poll_end_time:i,relative_poll_end_time:j,options:n})});return e}function q(a){var c={};Object.keys(a).forEach(function(b){if(a[b]!==void 0&&a[b]!==null){var d=a[b]instanceof Object;if(!d)c[b]=a[b];else{d=!Object.values(a[b]).every(function(a){return a===void 0||a===null});d&&(c[b]=a[b])}}});var d=new FormData(),e=b("flattenPHPQueryData")(c);Object.keys(e).forEach(function(a){d.append(a,e[a])});return d}function r(a){var c=null;b("ifRequired")("ReactComposerGroupMeetUpStore.react",function(b){c={meet_up_location_page:b.getPageID(a),meet_up_date_string:b.getDateString(a),meet_up_day_time:b.getDayTime(a),meet_up_rough_time:b.getRoughTimeID(a),meet_up_street_address:b.getLocationName(a)}});return{meetup_info:c}}function s(a,c){var d,e=c.composerID,f=c.actorID;c=c.targetID;var g=b("ReactComposerAttachmentStore").getSelectedAttachmentID(e);d=b("ReactComposerTaggerStore").areAllTaggersEmptyExcluding(e,[(d=b("ReactComposerTaggerType")).BC_SUPPORT,d.FORMATTED_TEXT,d.TARGETING,d.SPONSOR,d.MARKDOWN,d.AMA]);var h=b("ReactComposerStatusStore").getMessageText(e).trim();if(g===b("ReactComposerAttachmentType").STATUS||g===b("ReactComposerAttachmentType").QUESTION||g===b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST||g===b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_QUESTION){if(h||!d)return!1;d=this.getPostData({actorID:f,composerConfig:a,composerID:e,targetID:c});return!d.attachment}if(g===b("ReactComposerAttachmentType").MEDIA||g===b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA){if(h)return!1;if(b("ReactComposerScrapedAttachmentStore").hasAttachment(e))return!1;f=b("ReactComposerMediaUploadStore").getUploadsCount(e);return f===0}return!1}}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){c=a.call(this,c)||this;c.$ReactComposerAsyncRequest1=b;a.prototype.setHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest5.bind(babelHelpers.assertThisInitialized(c)));a.prototype.setErrorHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest6.bind(babelHelpers.assertThisInitialized(c)));a.prototype.setFinallyHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest7.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.setHandler=function(a){this.$ReactComposerAsyncRequest2=a;return this};d.setErrorHandler=function(a){this.$ReactComposerAsyncRequest3=a;return this};d.setFinallyHandler=function(a){this.$ReactComposerAsyncRequest4=a;return this};d.$ReactComposerAsyncRequest5=function(a){var c=this,d=this.$ReactComposerAsyncRequest8(a);if(d){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var d=a.payload&&a.payload.isPostPending;d||b("ReactComposerPostUtilsCore").handlePostSucceeded(c.$ReactComposerAsyncRequest1);c.$ReactComposerAsyncRequest2&&c.$ReactComposerAsyncRequest2(a)},0)};d.$ReactComposerAsyncRequest6=function(a){var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};d.$ReactComposerAsyncRequest8=function(a){return a.payload&&a.payload.errors&&a.payload.errors[0]};d.$ReactComposerAsyncRequest9=function(a){var c=this.$ReactComposerAsyncRequest8(a);a=new(b("AsyncResponse"))(a.getRequest(),a);a.errorSummary=c?c.summary:null;a.errorDescription=c?c.description:null;a.silentError=c&&c.is_silent;a.transientError=c&&c.is_transient;this.$ReactComposerAsyncRequest10(a)};d.$ReactComposerAsyncRequest10=function(a){var c=this;setTimeout(function(){b("ReactComposerActions").postError(c.$ReactComposerAsyncRequest1,a),c.$ReactComposerAsyncRequest3&&c.$ReactComposerAsyncRequest3(a)},0)};d.$ReactComposerAsyncRequest7=function(a){var c=this;setTimeout(function(){b("ReactComposerActions").postFinally(c.$ReactComposerAsyncRequest1,a),c.$ReactComposerAsyncRequest4&&c.$ReactComposerAsyncRequest4(a)},0)};return c}(b("AsyncRequest"));e.exports=a}),null);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({RESET:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType");e.exports=a}),null);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{file:null,maxFileUploadString:null,selectedFileName:d&&d.$ReactComposerFileStore1()}},function(a){switch(a.type){case b("ReactComposerFileActionType").RESET:d&&d.$ReactComposerFileStore2(a);break;case b("ReactComposerFileActionType").SAVE_FILE:d&&d.$ReactComposerFileStore3(a);break;case b("ReactComposerFileActionType").SET_FILE_CONFIG:d&&d.$ReactComposerFileStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getFile=function(a){return this.getComposerData(a).file};d.getMaxFileUploadSize=function(a){return this.getComposerData(a).maxFileUploadSize};d.getMaxFileUploadString=function(a){return this.getComposerData(a).maxFileUploadString};d.getSelectedFileName=function(a){return this.getComposerData(a).selectedFileName};d.getURI=function(a){return"/ajax/groups/files/upload"};d.hasFile=function(a){return!!this.getComposerData(a).file};d.isFileSelected=function(a){a=this.getComposerData(a);return!!a.file};d.$ReactComposerFileStore1=function(){return g._("Ch\u01b0a ch\u1ecdn file n\u00e0o")};d.$ReactComposerFileStore2=function(a){var b=this.validateAction(a,"composerID");b=this.getComposerData(b);b.file=null;b.selectedFileName=this.$ReactComposerFileStore1();this.emitChange(a.composerID)};d.$ReactComposerFileStore3=function(a){var b=this.validateAction(a,["composerID","file","name"]),c=b[0],d=b[1];b=b[2];c=this.getComposerData(c);c.file=d;c.selectedFileName=b;this.emitChange(a.composerID)};d.$ReactComposerFileStore4=function(a){var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.maxFileUploadSize=b.maxFileUploadSize;c.maxFileUploadString=b.maxFileUploadString;this.emitChange(a.composerID)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType");e.exports=a}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{state:g.UNKNOWN}},function(a){switch(a.type){case b("ReactComposerMarkdownActionType").SHOW_INTERCEPT:d&&d.$ReactComposerMarkdownStore1(a);break;case b("ReactComposerMarkdownActionType").HIDE_INTERCEPT:d&&d.$ReactComposerMarkdownStore2(a);break;case b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:d&&d.$ReactComposerMarkdownStore3(a);break;case b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:d&&d.$ReactComposerMarkdownStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.showIntercept=function(a){return this.getComposerData(a).state===g.CHECKING};d.interceptAttempted=function(a){a=this.getComposerData(a);a=a.state;return a===g.ENABLED||a===g.DISABLED};d.isMarkdownEnabled=function(a){return this.getComposerData(a).state===g.ENABLED};d.$ReactComposerMarkdownStore1=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=g.CHECKING;this.emitChange(a)};d.$ReactComposerMarkdownStore2=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=g.UNKNOWN;this.emitChange(a)};d.$ReactComposerMarkdownStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=g.ENABLED;this.emitChange(a)};d.$ReactComposerMarkdownStore4=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=g.DISABLED;this.emitChange(a)};return c}(b("ReactComposerStoreBase"));c=new a();e.exports=c}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function(a,b,c,d,e,f){"use strict";b("ReactComposerMarkdownStore");a=function(){function a(){}var c=a.prototype;c.showIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};c.hideIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};c.enableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};c.disableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};return a}();c=new a();e.exports=c}),null);
__d("WorkChecklistWebFunnelLogger",["WebFunnelLogger","uuid"],(function(a,b,c,d,e,f){"use strict";f.startFunnel=a;f.appendAction=c;f.endFunnel=d;var g="WorkChecklistWebFunnelDefinition",h=b("uuid")();function a(a){h=b("uuid")(),new(b("WebFunnelLogger"))(g).setAction(a).setSessionKey(h).markStart().log()}function c(a){new(b("WebFunnelLogger"))(g).setAction(a).setSessionKey(h).log()}function d(a,c){a=new(b("WebFunnelLogger"))(g).setAction(a).setSessionKey(h).markEnd();c!=null&&a.addActionPayload("unpublishedContentType",c);a.log()}}),null);
__d("ReactComposerPostUtils",["fbt","invariant","ActorURI","Arbiter","BanzaiODS","Bootloader","ClickToMessengerGrowthTypedLogger","ComposerPublisher","DateConsts","DOM","HTML","MarketplaceWWWRealEstateGating","PagesCrosspostChannel","PagesProfilePictureActions","PagesStoryCreationStatusTypes","React","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerChatroomStore","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVerticalsConstants","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","ReactDOM","SimpleXUIDialog","StoriesConstants","ThisControllerNoLongerExists","URI","WorkChecklistWebFunnelLogger","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XMarketplaceCreatePostController","XSalesPromoCreateAsyncController","XVideoEditDialogSaveController","curry","dotAccess","formatDate","getByPath","ifRequired","setTimeout","textProbablyWritingMarkdown","uuid"],(function(a,b,c,d,e,f,g,h){var i,j=b("PagesProfilePictureActions").updateProfilePictureStory,k=b("React"),l=b("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,m=b("ReactComposerVerticalsConstants").VerticalConfigs;a=b("ReactComposerWorkFileStore").module;var n=!!a,o=a||b("ReactComposerFileStore"),p=!0;c={publish:function(a,c){b("ReactComposerActions").publishStarted(a),c=c||{},c.composer_id=a,c.streamNode?c.streamStory=c.streamNode:c.streamMarkup&&(c.streamStory=b("HTML")(c.streamMarkup).getRootNode()),c.contentID&&(c.matchData={content_id:c.contentID}),b("Arbiter").inform("composer/publish",c)},isPostButtonDisabled:function(a,c,d){d===void 0&&(d=!1);c=b("ReactComposerPhotoStore").isLimitExceeded(a,c);var e=b("ReactComposerMediaUploadStore").isUploading(a),f=b("ReactComposerPhotoStore").isRecognizing(a),g=!!b("ReactComposerVideoUploadStore").getVideo(a)&&b("ReactComposerStore").isPosting(a);a=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(a);return c||(e||g)&&!d||f||a},_getIsOnMediaAttachment:function(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA)||b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_MEDIA);a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return c||a},_setupGenericDataFromStore:function(a,c,d,e){b("ifRequired")("ReactComposerStatusDonateButtonStore",function(b){b.getEnabled(c)&&Object.assign(a,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:b.getFundraiserCampaignID(c),link_title:b.getTitle(c),link_description:b.getDescription(c)}}})}),b("ifRequired")("ReactComposerCTAStore",function(f){f=f.getCTAData(c);f&&f.type==="MESSAGE_PAGE"&&(b("ReactComposerMediaUploadStore").getUploadsCount(c,b("ReactComposerMediaUploadType").PHOTO)>1?(new(b("ClickToMessengerGrowthTypedLogger"))().setEvent("create_multi_photo_post_with_cta").setPageID(d).log(),e&&Object.assign(a,{cta_data:f})):Object.assign(a,{cta_data:f}))})},_setupDataForPlaceListAttachment:function(a,c){var d=[b("ReactComposerAttachmentType").PLACE_LIST,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_PLACE_LIST].some(function(a){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,a)});d&&b("ifRequired")("ReactComposerPlaceListStore.react",function(b){Object.assign(a,{is_placelist_post:!0,placelist_within_page:b.getPageID(c),should_redirect_place_list_on_create:b.getShouldRedirectOnCreate(c)}),b.getGroupID(c)&&Object.assign(a,{target_id:b.getGroupID(c),xhpc_targetid:b.getGroupID(c)})})},_setupDataForFormattedText:function(a,c){b("ifRequired")("ReactComposerFormattedTextStore",function(b){b=b.getTextFormatPresetID(c);b&&Object.assign(a,{text_format_preset_id:b})})},_setupDataForCTAAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerCTAStore",function(a){Object.assign(c,{cta_data:a.getCTAData(d)})})},_setupDataForOnSaleAttachment:function(a,c,d){a&&(b("ifRequired")("ReactComposerSellStore",function(a){var b=a.getCategoryID(d);Object.assign(c,{composer_attachment_sell_title:a.getTitleText(d),composer_attachment_sell_price:a.getPrice(d),composer_attachment_sell_price_type:a.getPriceType(d),composer_attachment_sell_currency:a.getCurrency(d),composer_attachment_sell_quantity:m.AUTOS.categoryIds.includes(b)||m.REAL_ESTATE.categoryIds.includes(b)?null:a.getQuantity(d),composer_attachment_sell_condition:a.getConditionID(d),composer_attachment_sell_category:a.getCategoryID(d),composer_attachment_sell_latitude:a.getLatitude(d),composer_attachment_sell_longitude:a.getLongitude(d),composer_attachment_sell_location_page_id:null,composer_attachment_sell_pickup_note:a.getPickupNoteText(d),post_to_marketplace:a.isNearbyLocationChecked(d),post_to_news_feed:a.isNewsFeedChecked(d),cross_post_checked:a.isCrossPostChecked(d),composer_attachment_sell_audience_target_ids:Array.from(a.getAudienceTargetIDs(d)).join(",")})}),b("ifRequired")("ReactComposerAutosSellStore.react",function(a){m.AUTOS.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}),b("ifRequired")("ComposerRealEstateSellStore",function(a){m.REAL_ESTATE.categoryIds.includes(c.composer_attachment_sell_category)&&(Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)}),b("MarketplaceWWWRealEstateGating").canSeeStructuredRealEstateComposer()&&Object.assign(c,{xhpc_message:a.getDescription(d)}))}))},_setupDataForGroupMeetupAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").GROUP_MEET_UP);d&&Object.assign(a,b("ReactComposerPostDataUtils").getGroupMeetupData(c))},_setupDataForPageRecommendationAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PAGE_RECOMMENDATION);d&&b("ifRequired")("ReactComposerPageRecommendationStore.react",function(b){if(b.getRecommendationType(c)){var d=b.getTags(c),e=b.getTagEntryPoint(c),f=[];d.forEach(function(a){a.selected===!0&&f.push({id:a.value,entry_point:e})});Object.assign(a,{page_recommendation:{page_id:b.getPageID(c),rec_type:b.getRecommendationType(c),attached_tags:f}})}else Object.assign(a,{page_recommendation_ids:[b.getPageID(c)]})})},_setupDataForPremadePost:function(a,b){a=a.composerConfig.pagePremadePostData;a&&Object.assign(b,{page_premade_post:a})},_setupDataForGIFAttachment:function(a,b){a&&Object.assign(b,{animated_image:a})},_setupDataForGroupLearningCourseAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerGroupLearningCourseStore",function(a){Object.assign(c,{module_name:a.getModuleName(d),target_id:a.getGroupID(d),xhpc_composerid:d,xhpc_targetid:a.getGroupID(d),xhpc_learning_course:!0,xhpc_mentorship_mentor_prompt:a.getMentorPrompt(d),xhpc_mentorship_mentee_prompt:a.getMenteePrompt(d),xhpc_mentorship_post_offset:a.getScheduledPostOffset(d),xhpc_unit_id:a.getUnitID(d),xhpc_is_unit_completed:a.getIsUnitCompleted(d)})})},_setupDataForLearningCourse:function(a,c,d){var e=b("ReactComposerAttachmentStore").getAttachment(d,b("ReactComposerAttachmentType").LEARNING_COURSE);if(a&&e){a=new(i||(i=b("URI")))(window.location.href).getQueryData().filter;e=o.getSelectedFileName(d);a&&Object.assign(c,{xhpc_unit_id:a,xhpc_learning_course:!0,module_name:e?e:"New file"})}},_setupDataForLearningLinkAttachment:function(a,c,d,e){a&&b("ifRequired")("ReactComposerLearningLinkStore",function(a){Object.assign(c,{module_name:a.getTitleText(d),learning_link_link:a.getLink(d),xhpc_composerid:d,xhpc_targetid:e,xhpc_learning_course:!0,xhpc_learning_link:!0,xhpc_unit_id:new(i||(i=b("URI")))(window.location.href).getQueryData().filter,xhpc_message:b("ReactComposerStatusStore").getMessageText(d)})})},_setupDataForLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){var c=b.getLivingRoomID();if(c){var d;Object.assign(a,{living_room_attachment:{group_id:(d=b.getGroupID())!=null?d:void 0,living_room_id:c}})}else Object.assign(a,{living_room_attachment:b.getLivingRoomAttachmentData()})})},_setupDataForWorkChecklistAttachment:function(a,c){a=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").WORK_CHECKLIST);if(a){b("WorkChecklistWebFunnelLogger").endFunnel("post_clicked",(a=c==null?void 0:(a=c.composerConfig)==null?void 0:(c=a.contextInfo)==null?void 0:c.unpublished_content_type)!=null?a:"NORMAL_POST")}},_setupDataForVideoMeetupAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").VIDEO_MEETUP);c&&b("ifRequired")("ReactComposerVideoMeetupStore",function(b){Object.assign(a,{video_meetup:{emoji:b.getEmoji(),room_name:b.getRoomName(),should_allow_anonymous_guests:b.getShouldAllowAnonymousGuests(),start_time:b.getStartTime(),video_meetup_id:b.getVideoMeetupID(),was_created_as_video_meetup:!0}})})},_setupDataForShiftSwapAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").SHIFT_SWAP);c&&(b("ifRequired")("CoworkerGroupsShiftCoverCreationFunnelLogger",function(a){a.appendAction("shift_cover_post_button_clicked")}),b("ifRequired")("ReactComposerShiftSwapStore",function(b){Object.assign(a,{work_shift_swap_data:{job_position:b.getPosition(),description:b.getShiftDescription(),start_time:b.getShiftStartTime(),end_time:b.getShiftEndTime()!==null?b.getShiftEndTime():void 0}})}))},_setupDataForScheduledLivingRoomMetadataAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){var c=b.getScheduledLivingRoomMetadataID();c&&Object.assign(a,{scheduled_living_room_metadata:{scheduled_living_room_metadata_id:c}});c=b.getAnnouncementPostMessage();c!=null&&Object.assign(a,{xhpc_message:c})})},_setupDataForLocalDevPlatformAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM);d&&b("ifRequired")("ReactComposerLocalDevPlatformStore",function(b){var d=b.getAppConfigID(c),e=b.getFbeID(c),f=b.getPhotoID(c),g=b.getPageID(c),h=b.getCTATitle(c),i=b.getCTASubtitle(c),j=b.getCTAActionTitle(c);b=b.getCTAAction(c);Object.assign(a,{local_dev_platform_app_instance:{ldp_app_config_id:d,fbe_id:e,page_id:g,additional_data:{photo_id:f,title:h,subtitle:i,cta_button_text:j,cta_button_url:b}}})})},_setupDataForDetectionAnalyticsData:function(a){if(a.attachment&&a.attachment.params){var c=String(b("uuid")());Object.assign(a,{detection_analytics_data:{detection_id:c,device_advertising_id:null,product_id:String(54)}})}},_setupDataForComposerStyle:function(a,b){a=(a=a)!=null?(a=a.composerConfig)!=null?(a=a.contextInfo)!=null?a.is_dialog_composer:a:a:a;a&&Object.assign(b,{is_dialog_composer:a})},_setupDataForChatroomAttachment:function(a,c){var d=b("ReactComposerTaggerStore").hasChatroom(c);if(d){d=b("ReactComposerChatroomStore").getLinkHash(c);Object.assign(a,{chatroom:{is_video_meetup_room:!0,link_hash:d}})}},_onMessengerSuccess:function(a,c){b("Bootloader").loadModules(["FantaTabActions"],function(b){a.getThreadIDs().forEach(function(a){return b.openTab(a)})},"ReactComposerPostUtils")},_onStorySuccess:function(a){p&&l&&(b("ReactDOM").render(k.jsx(l,{}),b("DOM").create("div")),p=!1);a=b("dotAccess")(a,"request.data.variables","{}");var c=JSON.parse(a);if(c&&((a=c)!=null?(a=a.input)!=null?a.composer_source_surface:a:a)==="page"){j(b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS);b("Arbiter").inform("Pages/createStorySuccess");b("Bootloader").loadModules(["FBStoriesDataHelper"],function(a){a.loadPageBucketData(c.actor_id)},"ReactComposerPostUtils");var d=(a=c)!=null?(a=a.input)!=null?a.actor_id:a:a;d&&b("Bootloader").loadModules(["PagesStoryArchiveIntroductionDialogContainer.react"],function(a){return b("ReactDOM").render(k.jsx(a,{pageID:d}),b("DOM").create("div"))},"ReactComposerPostUtils")}else b("Bootloader").loadModules(["FBStoriesTrayInit","FBStoriesProductionActions"],function(a,c){c.setUserBucketUploadStatus(!1),a.reloadTray(b("StoriesConstants").TIMEOUT_FOR_SERVER_TO_FINISH_WORK)},"ReactComposerPostUtils")},_onInstagramSuccess:function(a){if(a.payload.success&&!a.payload.media_link)return;b("Bootloader").loadModules(["ReactCrossPostingConfirmationDialogContainer.react"],function(c){b("ReactDOM").render(k.jsx(c,{media_channel:b("PagesCrosspostChannel").INSTAGRAM,media_link:a.payload.media_link,success:a.payload.success}),b("DOM").create("div"))},"ReactComposerPostUtils")},_getSomethingWentWrongDialog:function(a,c){return b("Bootloader").loadModules(["XUIDialogButton.react"],function(d){b("SimpleXUIDialog").showEx(c,a,k.jsx(d,{action:"cancel",use:"confirm",label:g._("\u0110\u00f3ng")}))},"ReactComposerPostUtils")},post:function(a){!a.actorID&&h(0,5899);!a.composerConfig&&h(0,5900);!a.composerConfig.contextInfo&&h(0,5901);!a.composerID&&h(0,5902);!a.targetID&&h(0,5903);var c=a.actorID,d=a.composerID,e=a.targetID,f=!1,j=b("ReactComposerAudienceStore").getNoDestinationSelected(d);if(j){b("BanzaiODS").bumpEntityKey(2966,"composer.destination_picker","error_no_destination");this._getSomethingWentWrongDialog(g._("R\u1ea5t ti\u1ebfc"),g._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i. Ch\u00fang t\u00f4i \u0111ang c\u1ed1 g\u1eafng s\u1eeda l\u1ed7i trong th\u1eddi gian s\u1edbm nh\u1ea5t c\u00f3 th\u1ec3."));return}j=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER);var k=this._getIsOnMediaAttachment(d),l=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FILE),m=[b("ReactComposerAttachmentType").QUESTION,b("ReactComposerAttachmentType").ANONYMOUS_GROUP_POST_QUESTION].some(function(a){return b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,a)}),p=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SELL)||b("ifRequired")("ReactComposerSellStore",function(a){return a.getInterceptSell(d)},function(){return!1}),q=!1;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){q=a.isCTAAttachmentSelected(d)});var r=b("ReactComposerSlideshowStore").isSlideshowSelected(d),s=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").PROFILE_PIC_FRAME),t=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QA),u=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FIND_PLAYERS),v=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_COURSE),w=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),x=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SALES_PROMO),y=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),z=a.composerConfig.attachmentsConfig||{};z=z[b("ReactComposerAttachmentType").STATUS]||{};var A=b("ifRequired")("ReactComposerSellStore",function(a){return a.showURLIntercept(d)},function(){return!1});A=z.attemptIntercept&&z.sellIntercept&&!p&&!A;var B=b("ReactComposerPostDataUtils").getPostData(a),C=Boolean(b("getByPath")(a,["composerConfig","taggersConfig",b("ReactComposerTaggerType").MESSAGING,"enableSMCTAForMultiPhoto"]));this._setupGenericDataFromStore(B,d,e,C);C=b("ReactComposerVideoUploadStore").getVideo(d);if(k&&!!C){var D=b("ReactComposerVideoUploadStore").getUploader(d);D&&D.uploadFromFile(C.file,B);return}D=n?o.hasFile(d):o.isFileSelected(d);C=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").GIF).gifData;var E,F=b("ReactComposerMediaUploadStore").getUploads(d);this._setupDataForFormattedText(B,d);this._setupDataForOnSaleAttachment(p,B,d);this._setupDataForCTAAttachment(q,B,d);this._setupDataForPlaceListAttachment(B,d);this._setupDataForGroupMeetupAttachment(B,d);this._setupDataForPageRecommendationAttachment(B,d);this._setupDataForPremadePost(a,B);this._setupDataForGIFAttachment(C,B);this._setupDataForLearningCourse(l,B,d);this._setupDataForGroupLearningCourseAttachment(v,B,d);this._setupDataForLearningLinkAttachment(y,B,d,e);this._setupDataForLivingRoomAttachment(B,d);this._setupDataForShiftSwapAttachment(B,d);this._setupDataForVideoMeetupAttachment(B,d);this._setupDataForScheduledLivingRoomMetadataAttachment(B,d);this._setupDataForLocalDevPlatformAttachment(B,d);this._setupDataForDetectionAnalyticsData(B);this._setupDataForWorkChecklistAttachment(d,a);this._setupDataForComposerStyle(a,B);this._setupDataForChatroomAttachment(B,d);C=F.size>0;j=j||k||p||v||y;k=r||j&&C;y=!!((v=a)!=null?(v=v.composerConfig)!=null?(v=v.contextInfo)!=null?v.is_preview:v:v:v);z.attemptMarkdownIntercept&&a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]&&(a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=B.is_markdown);r=B.blocks;var G=z.attemptMarkdownIntercept&&!p&&!r&&!B.is_markdown;b("ifRequired")("ReactComposerMarkdownStore",function(a){G=G&&!a.interceptAttempted(d)});if(!k&&G&&b("textProbablyWritingMarkdown")(b("ReactComposerStatusStore").getMessageText(d))){b("setTimeout")(function(){return b("ReactComposerActions").postFinally(d,null)},0);b("ReactComposerMarkdownActions").showIntercept(d);return}j=b("ifRequired")("ReactComposerSellStore",function(a){return a.getPostDirectlyToMarketplace(d)},function(){return!1});var H=null;v=b("ReactComposerStore").getRef(d);if(m||t)switch(v){case"group":H="group";break;case"event":case"event_about":H="event";break;case"pages_feed":H="composer";break;default:H=v}z=b("ifRequired")("PagesComposerUnpublishedPostsStore",function(a){return a.getScheduledPublishTime(d)},function(){return null});z=z?Math.round(z.getTime()/1e3):null;var I;if(k)I=b("ReactComposerPostDataUtils").getMediaUploadsData(d,F),Object.assign(B,I),A?E=b("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",d).setInt("xhpc_targetid",e).getURI():G?E=b("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",d).setBool("markdown_enabled",B.is_markdown).getURI():j?E=b("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",d).setBool("xhpc_photos_optional",a.isSaveDraft).setInt("xhpc_targetid",e).getURI():(f=b("ComposerPublisher").getShouldUseGraphQLForMedia(c,B),E=new(i||(i=b("URI")))("/media/upload/photos/composer/"));else if(l&&D)E=new(i||(i=b("URI")))(o.getURI(d));else if(m)H==="group"&&!C?(f=!0,b("ifRequired")("ReactComposerQuestionStore",function(a){var b=a.canChooseMultiplePollOptions(d)?"CHOOSE_MULTIPLE":"CHOOSE_ONE",c=a.canAnyoneAddPollOptions(d)?"OPEN":"LOCKED";a=a.getOptionStrings(d);var e=[];for(var f=0;f<a.length;++f)a[f].length>0&&e.push({option_text:a[f]});Object.assign(B,{attachment_poll_data:{poll_type:b,poll_answers_state:c,options:e}})})):(E=new(i||(i=b("URI")))("/ajax/questions/save.php"),b("ifRequired")("ReactComposerQuestionStore",function(a){var c=a.getOptionStrings(d),e=a.getOptionImageIndices(d);Object.assign(B,{composerAttachmentQuestion:b("ReactComposerStatusStore").getMessage(d),question_options:c,question_option_image_indices:e,source:H,create_eigenpoll:a.canChooseMultiplePollOptions(d),anyone_add_options:a.canAnyoneAddPollOptions(d)})}),Object.assign(B,b("ReactComposerPostDataUtils").getMediaUploadsData(d,F)));else if(q&&B.attachment.params.allowMultiMedia||B.fan_funding_promotion_payload)f=!0;else if(j&&a.isSaveDraft)E=b("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",d).setBool("xhpc_photos_optional",!0).setInt("xhpc_targetid",e).getURI();else if(p)E=new(i||(i=b("URI")))("/ajax/groups/sell/save.php");else if(s){var J,K;b("ifRequired")("ReactComposerProfilePictureFrameStore",function(a){J=a.getSelectedOverlayID(d),K=a.getScheduledPostDate(d),I=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getCroppedPhotoForUpload(d))});var L,M,N;r=!1;if(K){L=b("formatDate")(K,"m/d/Y",{skipPatternLocalization:!0});k=K.getHours()*b("DateConsts").MIN_PER_HOUR+K.getMinutes();M=b("DateConsts").SEC_PER_MIN*k;N=K.getTime()/1e3;r=!0}E=new(i||(i=b("URI")))("/media/upload/photos/composer/");Object.assign(B,babelHelpers["extends"]({},I,{scheduled:r,sticker_id:J,future_date:L,future_time:M,scheduled_publish_time:N}))}else if(t)b("ifRequired")("ReactComposerGroupQAStore",function(a){E=new(i||(i=b("URI")))("/group_qa/save/"),Object.assign(B,{composer_question_title:a.getTitle(d),composer_question_description:a.getDescription(d),source:H})}),Object.assign(B,b("ReactComposerPostDataUtils").getMediaUploadsData(d,F));else if(x)b("ifRequired")("ReactComposerSalesPromoStore",function(a){Object.assign(B,{availability_location:a.getAvailabilityLocation(d),description:a.getDescription(d),destination_uri:a.getDestinationURI(d),discount_code:a.getDiscountCode(d),expiration_time:a.getExpirationTime(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,F).composer_unpublished_photo,terms_and_conditions:a.getTermsAndConditions(d)})}),E=b("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",B.availability_location).setString("description",B.description).setString("destination_uri",B.destination_uri).setString("discount_code",B.discount_code).setInt("expiration_time",B.expiration_time).setFBID("group_id",e).setFBID("owner_id",c).setFBIDVector("photo_ids",B.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",B.terms_and_conditions).getURI(),Object.assign(B,b("ReactComposerPostDataUtils").getMediaUploadsData(d,F));else if(u)b("ifRequired")("ReactComposerFindPlayersStore",function(a){E=new(i||(i=b("URI")))(b("ThisControllerNoLongerExists").__DEADURI__("tkyroer8j")),Object.assign(B,{composer_find_players_title:a.getTitle(d),composer_find_players_tags:a.getTags(d),composer_find_players_name:a.getName(d),composer_find_players_description:b("ReactComposerStatusStore").getMessage(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,F).composer_unpublished_photo})});else if(w){var O,P=!0;b("ifRequired")("ReactComposerMediaEffectShareStore",function(a){I=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getEffectPhotoForUpload(d));var c=a.getComposerData(d).effectStatus;O=a.getEffectToApply(d);c==="active"&&(P=!1);c=a.getUploadedVideoID(d);if(c){Object.assign(B,{draft:P});a.postVideo(d,B);return}});E=new(i||(i=b("URI")))("/media/upload/photos/composer/");Object.assign(B,babelHelpers["extends"]({},I,{scheduled:!1,sticker_id:O,draft:P}))}else if(B.attachment&&B.attachment.params.canvas_video){E=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",B.attachment.params.canvas_video.video_id).setEnum("composer_entry_point_ref",v).getURI();D=z===null&&!B.draft;Object.assign(B,B.attachment.params.canvas_video);Object.assign(B,{description:B.xhpc_message,is_canvas_video:!0,publish:D,scheduled_publish_time:z,source:"page_video_lpp_publish"});var Q={content_id:B.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:!1,scraped_url:B.attachment.params.url,target_id:e};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(Q)})}else if(B.attachment&&B.attachment.params.carousel_video_lpp){E=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",B.attachment.params.carousel_video_lpp.video_id).setEnum("composer_entry_point_ref",v).getURI();m=z===null&&!B.draft;Object.assign(B,B.attachment.params.carousel_video_lpp);Object.assign(B,{description:B.xhpc_message,scheduled_publish_time:z,publish:m,source:"page_video_lpp_publish"});var R={child_attachments:B.attachment.params.child_attachments,event:"publish",target_id:e,content_id:B.attachment.params.carousel_video_lpp.video_id,is_old_composer:!1,scraped_url:B.attachment.params.url};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(R)})}else A?E=b("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",d).setInt("xhpc_targetid",e).getURI():(f=b("ComposerPublisher").getShouldUseGraphQLForStatus(c,B),E=new(i||(i=b("URI")))("/ajax/updatestatus.php"));C=E;j=!1;b("ifRequired")("ReactComposerVideoXEditDialogStore",function(e){j=e.hasSelectedCustomThumbnails(d);if(j){var f=F.map(function(a){return a.id}),g=e.getThumbnailTypes(f.toArray(),d),h={};F.forEach(function(a){return h[a.id]=a.photoID});var i={};for(var g=g,k=Array.isArray(g),m=0,g=k?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=g.length)break;n=g[m++]}else{m=g.next();if(m.done)break;n=m.value}n=n;var p=n[0];n=n[1];i[h[p]]=n}Object.assign(B,{thumb_types:i});p=e.getUploadsWithTextOnThumbnail(f.toArray(),d);n=[];for(var m=p,k=Array.isArray(m),g=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(g>=m.length)break;i=m[g++]}else{g=m.next();if(g.done)break;i=g.value}p=i;n=n.concat(h[p])}Object.assign(B,{videos_with_text_thumbnails:n});var q=b("ReactComposerPostDataUtils").createFormData(B);e.getThumbnails(f.toArray(),d).then(function(e){e.forEach(function(a){q.append("thumb"+h[a[0]],a[1])});if(l&&o.hasFile(d)){e=o.getFile(d);q.append("file1",e)}e=b("ActorURI").create(E,c);e=new(b("ReactComposerAsyncRequest"))(d,e).setRawData(q).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);e.send()}).done()}});b("ifRequired")("ReactComposerWorkContentAppAttachmentStore",function(a){Object.assign(B,{multi_share_attachments:Array.from(a.getScrapedAttachments(d).map(function(a){return{type:a.attachmentConfig.type,params:a.attachmentConfig.params}}))})});b("ifRequired")("ReactComposerWorkContentFileUploadStore",function(a){Object.assign(B,{attached_files_data:{files:Array.from(a.getCompletedUploads(d).map(function(a){return{id:a.fileID,handle:a.handleID}}))}})});E===C||h(0,5904);if(b("ReactComposerAudienceStore").getStoriesSelected(d)){p=b("ReactComposerMediaUploadStore").getVideos(d).size>0;p&&(B.is_also_posting_video_to_feed=b("ReactComposerAudienceStore").getTimelineSelected(d));y||b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:this._onStorySuccess}),B,{type:"STORIES"})}if(b("ReactComposerAudienceStore").getInstagramSelected(d)){s=b("ReactComposerAudienceStore").getInstagramBusinessAccountID(d);s&&(B.instagram_business_account_id=s)}b("ReactComposerAudienceStore").getSelectedGroupID(d)&&(B.crosspost_group_id=b("ReactComposerAudienceStore").getSelectedGroupID(d));if(b("ReactComposerAudienceStore").getAdsPePostSelected(d)){k=b("ActorURI").create(E,c);r=new(b("ReactComposerAsyncRequest"))(d,k).setData(B).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);r.send();return}b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d).isEmpty()||b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:b("curry")(this._onMessengerSuccess,b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d))}),B,{type:"MESSENGER",messenger_ids:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d)});if(!b("ReactComposerAudienceStore").getTimelineSelected(d)&&!y)return;if(f){b("ComposerPublisher").publish(a,B,{type:"TIMELINE"});return}B.delight_ranges&&Object.assign(B,{delight_ranges:JSON.stringify(B.delight_ranges)});if(!j){t=b("ActorURI").create(E,c);a.isSaveDraft&&Object.assign(B,{composer_attachment_sell_draft_type:"commerce_sell_options",draft:!0});x=new(b("ReactComposerAsyncRequest"))(d,t).setData(B).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);if(l&&o.hasFile(d)){u=o.getFile(d);w=new FormData();w.append("file1",u);x.setRawData(w)}x.send()}}};e.exports=c}),null);
__d("AudienceSelectorTags",[],(function(a,b,c,d,e,f){var g={};a={hasTags:function(a){return Object.prototype.hasOwnProperty.call(g,a)},setHasTags:function(a){a&&(g[a]=!0)}};e.exports=a}),null);
__d("PrivacySelectorOption",["csx","fbt","Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyBaseFilterConst","PrivacyConst","SelectorDeprecated","intlList"],(function(a,b,c,d,e,f,g,h){e.exports=a;function a(a,c){if(!a)throw new Error("there's no DOM option. Config data: ",c);this._elem=a;this._selector=b("Parent").byClass(this._elem,"audienceSelector");if(!this._selector)return;this._priv_base_val=c.priv_base_val;this._audienceCount="";this._hasRestricted=c.has_restricted||!1;this._isCustom=c.is_custom||!1;this._includedAudience=c.included||"";this._excludedAudience=c.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=c.tag_expansion_behavior||b("PrivacyConst").TagExpansion.NONE;this._plusLabel=b("DOM").scry(a,".plusLabel")[0];this._audienceCountLabel=b("DOM").scry(a,".audienceCountLabel")[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();b("Arbiter").subscribe("Composer/changedtags",function(a,c){a=b("CSS").hasClass(this._selector,"composerAudienceSelector");if(!this._getChangedData()||!a)return;this._tags=[];this._taggedIDs=[];for(var a=0;a<c.withTags.length;a++){var d=c.withTags[a].info;d.uid!=b("CurrentUser").getID()&&(this._tags.push(d.text),this._taggedIDs.push(d.uid))}for(var e in c.mention)c.mention[e].type=="user"&&c.mention[e].uid!=b("CurrentUser").getID()&&(this._tags.push(c.mention[e].text),this._taggedIDs.push(c.mention[e].uid));d=b("DOM").scry(document.body,"._5l7q")[0];d&&!!this._taggedIDs.length&&b("CSS").hide(d);this._updateOptionCountLabel();a=this._recalculateTooltipAndLabel();a&&b("SelectorDeprecated").isOptionSelected(this._elem)&&(this._updateSelector(),b("Arbiter").inform("SelectedPrivacyOption/changed",this._getChangedData()))}.bind(this));b("SelectorDeprecated").listen(this._selector,"change",this._updateSelector.bind(this))}Object.assign(a.prototype,{updateOption:function(a,b,c,d,e){this._priv_base_val=a;this._includedAudience=b;this._excludedAudience=c;this._tagExpansionBehavior=d;this._audienceCount=e;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return{label:this._label,tooltip:this._tooltip}},_recalculateTooltipAndLabel:function(){var a=this._label;this._label=this._getNewSelectorLabel();var b=this._tooltip;this._tooltip=this._getNewTooltip();return b!=this._tooltip||a!=this._label},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case b("PrivacyBaseFilterConst").ALL_FRIENDS:return this._recalcFriendsTooltip();case b("PrivacyBaseFilterConst").FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case b("PrivacyBaseFilterConst").SELF:var a=this._getTagExpansionText();return a?a:this._getIncludedAudience();default:return this._recalcCustomTooltip()}},_getNewSelectorLabel:function(){var a=this._elem.getAttribute("data-label").replace(/\(.*\)/,"");if(this._showAudienceCount()){var b=" ("+this._audienceCount+")";a+=b}this._isTagExpanded()&&(a+=" (+)");return a},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var a=" ("+this._audienceCount+")";b("DOM").setContent(this._audienceCountLabel,a)}b("CSS").conditionShow(this._audienceCountLabel,this._showAudienceCount())}this._plusLabel&&b("CSS").conditionShow(this._plusLabel,this._isTagExpanded())},_getChangedData:function(){return{tags:this._taggedIDs,privacy:this._priv_base_val}},_showAudienceCount:function(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0},_isTagExpanded:function(){var a=this._getTagExpansionBehavior(),c=!!this._taggedIDs.length||this._alreadyHasTags();return c&&a!=b("PrivacyConst").TagExpansion.NONE},_alreadyHasTags:function(){var a=b("DOM").scry(this._selector,"*[data-oid]")[0];a=a&&a.getAttribute("data-oid");return a&&b("AudienceSelectorTags").hasTags(a)},_updateSelector:function(){if(!this._isSharedAlbum()&&b("SelectorDeprecated").isOptionSelected(this._elem)){var a=b("CSS").hasClass(this._selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(this._selector,this._label);b("SelectorDeprecated").setButtonTooltip(this._selector,this._tooltip);b("DynamicIconSelector").swapIcon(this._selector);return!1}return!0},_isSharedAlbum:function(){var a=b("DOM").scry(this._selector,"*[data-shared-album]")[0];return a&&a.getAttribute("data-shared-album")},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF,c=this._priv_base_val===b("PrivacyConst").FriendsValue.EVERYONE;if(a&&this._isSharedAlbum()||c)return b("PrivacyConst").TagExpansion.NONE;else if(this._priv_base_val<b("PrivacyConst").FriendsValue.ALL_FRIENDS)return b("PrivacyConst").TagExpansion.TAGGEES;return b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES},_getTagExpansionText:function(){var a=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(a==b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES)return h._("b\u1ea1n b\u00e8 c\u1ee7a b\u1ea5t k\u1ef3 ai \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb");else if(a==b("PrivacyConst").TagExpansion.TAGGEES)return h._("B\u1ea5t k\u1ef3 ai \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb");return""}return""},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF;return a&&!this._isSharedAlbum()?h._("Ch\u1ec9 m\u00ecnh t\u00f4i"):this._elem.getAttribute("data-label")},_getCombinedSentence:function(a,b){return!b?a:h._("{list of people who can see this}; Ngo\u1ea1i tr\u1eeb: {list of people who cannot see this}",[h._param("list of people who can see this",a),h._param("list of people who cannot see this",b)])},_recalcFriendsTooltip:function(){var a=this._tags.length;if(a>2)return this._hasRestricted?h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a b\u1ea5t k\u1ef3 ai \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb; ngo\u1ea1i tr\u1eeb: B\u1ecb h\u1ea1n ch\u1ebf"):h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a b\u1ea5t k\u1ef3 ai \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb");else if(a==2)if(this._hasRestricted)return h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n, b\u1ea1n b\u00e8 c\u1ee7a {user} v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a {user2}; Ngo\u1ea1i tr\u1eeb: B\u1ecb h\u1ea1n ch\u1ebf",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else return h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n, b\u1ea1n b\u00e8 c\u1ee7a {user} v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a {user2}",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else if(a==1)if(this._hasRestricted)return h._("Nh\u1eefng ng\u01b0\u1eddi b\u1ea1n c\u1ee7a b\u1ea1n v\u00e0 nh\u1eefng ng\u01b0\u1eddi b\u1ea1n c\u1ee7a {user}; Ngo\u1ea1i tr\u1eeb: B\u1ecb h\u1ea1n ch\u1ebf",[h._param("user",this._tags[0])]);else return h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a {user}",[h._param("user",this._tags[0])]);else return this._hasRestricted?h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n; Ngo\u1ea1i tr\u1eeb: B\u1ecb h\u1ea1n ch\u1ebf"):h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n")},_recalcFriendsMinusTooltip:function(){var a=this._tags.length;if(a>0||this._alreadyHasTags()){a=h._("b\u1ea1n b\u00e8 c\u1ee7a b\u1ea5t k\u1ef3 ai \u0111\u01b0\u1ee3c g\u1eafn th\u1ebb");a=h._("{people who can see this}, {list of more people who can see this}",[h._param("people who can see this",h._("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n")),h._param("list of more people who can see this",a)]);var b=h._("Ng\u01b0\u1eddi quen");this._hasRestricted&&(b=h._("{Name of Acquaintances friend list}, {restricted}",[h._param("Name of Acquaintances friend list",b),h._param("restricted",h._("B\u1ecb h\u1ea1n ch\u1ebf"))]));return this._getCombinedSentence(a,b)}else return this._hasRestricted?h._("B\u1ea1n b\u00e8; ngo\u1ea1i tr\u1eeb: Ng\u01b0\u1eddi quen, b\u1ecb h\u1ea1n ch\u1ebf"):h._("B\u1ea1n b\u00e8 tr\u1eeb ng\u01b0\u1eddi quen")},_recalcCustomTooltip:function(){var a=this._getIncludedAudience(),c=this._getTagExpansionText();c&&(a=h._("{list of people who can see this}, {list of additional people who can see this}",[h._param("list of people who can see this",a),h._param("list of additional people who can see this",c)]));for(var c=0;c<this._taggedIDs.length;c++){var d=this._taggedIDs[c];if(d in this._excludedAudience){delete this._excludedAudience[d];this._excludedTaggees[d]=this._tags[c];break}}for(var e in this._excludedTaggees)if(Object.prototype.hasOwnProperty.call(this._excludedTaggees,e)&&this._taggedIDs.indexOf(e)===-1){this._excludedAudience[e]=this._excludedTaggees[e];delete this._excludedTaggees[e];break}d=[];for(var f in this._excludedAudience)Object.prototype.hasOwnProperty.call(this._excludedAudience,f)&&d.push(this._excludedAudience[f]);return this._getCombinedSentence(a,b("intlList")(d))}})}),null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController"],(function(a,b,c,d,e,f){function g(a,c){if(!a)return;setTimeout(function(){this._selector=b("Parent").byClass(a,"audienceSelector");if(!this._selector)return;this.initCustomState(a,c.option_id,c.id);var d={priv_base_val:c.base_audience_value,audience_count:c.audience_count,is_custom:!0,included:c.included_audience,excluded:c.excluded_audience,tag_expansion_behavior:c.tag_expansion_behavior};this._optionJSInstance=new(b("PrivacySelectorOption"))(a,d);b("Event").listen(a,"click",function(a){this.openCustomDialog(a,c.option_id,c.explain_tags,c.autosave,c.limit_community,c.limit_facebook,c.limit_fof,c.limit_tagexpand,c.source)}.bind(this));b("SelectorDeprecated").listen(this._selector,"select",function(a){a.option._id!=this._id&&this.clearCustomState()}.bind(this))}.bind(this),0)}Object.assign(g,{_instances:{},update:function(a,c,d,e,f,h,i,j,k){e=g._instances[a];e._update(c,d)._updateOption(d,f,h,i,j,k);b("Arbiter").inform("Form/change",{node:e._container})},getData:function(a){a=g._instances[a];return a&&a._privacyData},setPrivacyData:function(a,b,c){g._instances[a]._update(b,c)}});Object.assign(g.prototype,{_updateOption:function(a,c,d,e,f,g){a=b("SelectorDeprecated").getOption(this._selector,a)||b("SelectorDeprecated").getOption(this._selector,b("PrivacyConst").BaseValue.CUSTOM+"");c=this._optionJSInstance.updateOption(c,d,e,f,g);b("Arbiter").inform("CustomPrivacyOptionController/update",{selector:this._selector,option:a,tooltip:c.tooltip,label:c.label});return this},_update:function(a,c){c=c==b("PrivacyConst").BaseValue.CUSTOM||!b("SelectorDeprecated").getOption(this._selector,c);var d=this._selector.getAttribute("data-name");this.updateCustomState(a,c,d);return this},initCustomState:function(a,c,d){g._instances[c]=this;this._container=b("DOM").find(a,".customPrivacyInputs");this._id=d;this._privacyData={};c=b("Form").serialize(this._container);c.audience&&(this._privacyData=c.audience[d]);return a},openCustomDialog:function(a,c,d,e,f,g,h,i,j){c=b("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",c).setString("id",this._id).setString("privacy_data",JSON.stringify(this._privacyData)).setBool("explain_tags",d).setBool("autosave",e).setBool("limit_community",f).setBool("limit_facebook",g).setBool("limit_fof",h).setBool("limit_tagexpand",i).setBool("is_new_privacy_selector",!1).setString("source",j).getURI();d=new(b("AsyncRequest"))(c);d.setRelativeTo(a.getTarget());b("AsyncDialog").send(d,function(a){a.subscribe("cancel",function(){b("Arbiter").inform("CustomPrivacyOptionController/cancel",{selector:this._selector})}.bind(this))}.bind(this))},updateCustomState:function(a,c,d){this.clearCustomState();this._privacyData=babelHelpers["extends"]({},a);if(c&&d){d=d.slice(0,-"[value]".length);c={};c[d]=a;b("Form").createHiddenInputs(c,this._container,{},!0)}},clearCustomState:function(){this._privacyData={},b("DOM").empty(this._container)}});e.exports=g}),null);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DOMQuery","DynamicIconSelector","OldPrivacySelectorTypedLogger","PrivacyConst","SelectorDeprecated"],(function(a,b,c,d,e,f){var g={};b("SelectorDeprecated").subscribe("select",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;a=b("SelectorDeprecated").getOptionValue(c.option);c.value=a;b("Arbiter").inform("AudienceSelector/changed",c);if(a==b("PrivacyConst").BaseValue.CUSTOM&&!b("CSS").hasClass(c.option,"noDialog")){b("SelectorDeprecated").toggle(c.selector);return!1}b("Arbiter").inform("AudienceSelector/changedNonCustomDialogButton",c);if(b("CSS").hasClass(c.selector,"dataTooltip")){a=b("DOM").find(c.option,".itemAnchor").getAttribute("data-tooltip");b("SelectorDeprecated").setButtonTooltip(c.selector,a||null)}if(!b("CSS").hasClass(c.option,"specialOption"))return;a=b("DOM").find(c.option,"a").getAttribute("data-type");if(b("CSS").hasClass(c.option,"moreOption")){b("CSS").addClass(c.selector,a);b("CSS").addClass(c.selector,"showSecondaryOptions");return!1}else if(b("CSS").hasClass(c.option,"returnOption")){b("CSS").removeClass(c.selector,"showSecondaryOptions");b("CSS").removeClass(c.selector,"friendList");return!1}});var h=function(a,c){var d=i(a,"data-fbid-for-logging");a=i(a,"data-adama-render-location");new(b("OldPrivacySelectorTypedLogger"))().setEvent(c).setFbid(d).setAdamaRenderLocation(a).log()},i=function(a,c){var d=a.getAttribute(c);if(d)return d;d=b("DOMQuery").scry(a,".uiSelectorButton")[0];return d?d.getAttribute(c):null};function j(a){var b=document.documentElement;a=a.getBoundingClientRect();return a.top>=0&&a.bottom<=(window.innerHeight||b.clientHeight)&&a.left>=0&&a.right<=(window.innerWidth||b.clientWidth)}b("SelectorDeprecated").subscribe(["open","close"],function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;var d=b("DOMQuery").scry(c.selector,".uiSelectorMenuWrapper");if(d.length>0){d=d[0];b("CSS").conditionClass(d,"audienceSelectorUpwards",!j(d))}d=a==="open"?"open_menu":"close_menu";h(c.selector,d)});var k={keepSynchronized:function(a,b){g[a]||(g[a]={}),g[a][b.id]=b},setHasTags:function(a){b("AudienceSelectorTags").setHasTags(a)},getComposerInstance:function(){var a=g["PrivacyLiteNav/audience"];if(a){var b;for(var c in a){b=a[c];return b}}return null},forceAndKeepSynchronized:function(a,c){k.keepSynchronized(a,c),b("Arbiter").inform("AudienceSelector/update",{option:b("SelectorDeprecated").getSelectedOptions(c)[0],selector:c})},get:function(a){if(b("CSS").hasClass(a,"audienceSelector"))return a;a=b("DOM").scry(a,"div.audienceSelector");if(a.length!=1)return;return a[0]},setAudience:function(a,c){var d=k.get(a);b("SelectorDeprecated").loadMenu(d,function(a){b("SelectorDeprecated").setSelected(d,c.toString());b("DynamicIconSelector").swapIcon(d);a=b("SelectorDeprecated").getSelectedOptions(d);var e=a[0]&&b("DOM").find(a[0],"a");e&&e.getAttribute("ajaxify")&&b("AsyncRequest").bootstrap(e.getAttribute("ajaxify"),e,!0);b("Arbiter").inform("AudienceSelector/changed",{option:a[0],selector:d})})}};b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;b("SelectorDeprecated").setSelected(c.selector,b("SelectorDeprecated").getOptionValue(c.option));b("DynamicIconSelector").swapIcon(c.selector);a=b("CSS").hasClass(c.selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(c.selector,c.label);b("SelectorDeprecated").setButtonTooltip(c.selector,c.tooltip);h(c.selector,"custom_save");b("Arbiter").inform("AudienceSelector/update",c)});b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;h(c.selector,"custom_cancel")});b("Arbiter").subscribe(["AudienceSelector/changed","AudienceSelector/update"],function(a,c){var d=b("SelectorDeprecated").getOptionValue(c.option),e=null;d==b("PrivacyConst").BaseValue.EVERYONE?e="select_everyone":d==b("PrivacyConst").BaseValue.FRIENDS_OF_FRIENDS?e="select_friends_of_friends":d==b("PrivacyConst").BaseValue.ALL_FRIENDS?e="select_friends":d==b("PrivacyConst").BaseValue.FRIENDS_MINUS_ACQUAINTANCES?e="select_friends_except_acquaintances":d==b("PrivacyConst").BaseValue.SELF?e="select_only_me":d==b("PrivacyConst").BaseValue.CUSTOM?a==="AudienceSelector/changed"&&(e="select_custom"):d==b("PrivacyConst").BaseValue.FACEBOOK_EMPLOYEES?e="select_fb_only":b("CSS").hasClass(c.option,"friendListOption")?e="select_friendlist":b("CSS").hasClass(c.option,"moreOption")?e="select_see_all_lists":b("CSS").hasClass(c.option,"returnOption")?e="select_return":e="select_other";e!=null&&h(c.selector,e);e={};if(d==b("PrivacyConst").BaseValue.CUSTOM){if(a=="AudienceSelector/changed")return;e=b("CustomPrivacyOptionController").getData(c.option.id);if(!e)return}for(var f in g){a=g[f];if(a[c.selector.id]){b("Arbiter").inform("AudienceSelector/syncNonSelectorIcon",{category:f});for(var i in a){var j=a[i];if(!j||c.selector===j)continue;b("SelectorDeprecated").getValue(j)!==d&&(b("SelectorDeprecated").setSelected(j,d),b("DynamicIconSelector").swapIcon(j));if(d==b("PrivacyConst").BaseValue.CUSTOM){var k=b("SelectorDeprecated").getOption(j,b("PrivacyConst").BaseValue.CUSTOM+"");k&&(b("CustomPrivacyOptionController").setPrivacyData(k.id,e,d),b("SelectorDeprecated").setButtonTooltip(j,c.tooltip))}}}}});e.exports=k}),null);
__d("TimelineComposer",["Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","DOM","Event","ReloadPage","Run","$","findTag","getObjectValues","goURI","tidyEvent"],(function(a,b,c,d,e,f){f.init=a;f.destroy=l;f.renderCapsuleBasedStory=m;f.getRoot=c;f.initNUX=d;var g,h,i;function j(){g&&b("ComposerXMarauderLogger").logCompleted(g.id)}function k(a){if(a.hidePost){j();return}var c=a.redirect;if(c){var d=b("ComposerXStore").getAllForComposer(a.composer_id);b("getObjectValues")(d).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(c);j();return}d=a.streamStory;if(!d){b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["TimelineStoryPublisher"],function(b){b.publish(a)},"TimelineComposer");j();return}m(b("$")(a.composer_id),d);b("Arbiter").inform("TimelineComposer/on_after_publish",d,"persistent");j()}function a(a){g||(h=b("Arbiter").subscribe("composer/publish",function(a,b){k(b)}),i=b("Arbiter").subscribe("LitestandComposer/publishTemp",function(a,b){k({composer_id:b.composer_id,streamStory:b.markup})}),b("Run").onLeave(l)),g=b("$")(a)}function l(){h&&h.unsubscribe(),i&&i.unsubscribe(),g=null}function m(a,c){a=b("findTag")("timeline_tab_content");a=a.querySelector("[id^=timeline_story_container]");var d=null;a&&(d=b("DOM").prependContent(a,c)[0]);d&&b("Bootloader").loadModules(["Animation"],function(a){new a(d).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"TimelineComposer")}function c(){return g}function d(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("DOM").scry(c,"textarea")[0];a&&a.focus()}))}}),null);
__d("pagesComposerReplaceByID",["DOM","$"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c){a!=null&&b("DOM").replace(b("$")(a),c)}}),null);
__d("VideoLibraryButton.react",["cx","fbt","React","XPagesManagerPublishingToolsController","XUIDialogButton.react"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("XPagesManagerPublishingToolsController").getURIBuilder().setString("page_token",this.props.pageID).setString("section","VIDEOS").setEnum("source",this.props.source).setEnum("refSource",this.props.refSource).getURI()};d.$2=function(){this.$1().go()};d.render=function(){return i.jsx(b("XUIDialogButton.react"),{action:"cancel",className:"_2bhc",label:h._("Th\u01b0 vi\u1ec7n video"),size:this.props.size,onClick:this.$2.bind(this)})};return c}(i.Component);e.exports=a;a.defaultProps={size:"small"}}),null);
__d("XVideoGenerateStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/generate_story/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}})}),null);