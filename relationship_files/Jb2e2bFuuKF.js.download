if (self.CavalryLogger) { CavalryLogger.start_js(["FbS7O"]); }

__d("PagesPrivateReplyConstants",[],(function(a,b,c,d,e,f){e.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created",CANNOT_MESSAGE:"cannot_message",MESSAGING_DISABLED:"messaging_disabled"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_STORY_CARD:"comment_story_card",COMMENT_WALL_POST:"comment_wall_post",COMMENT_CUSTOMER_GROUP_USER_POST:"comment_customer_group_user_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",RECOMMENDATION:"recommendation",WALL_POST:"wall_post",VIDEO_TEXT_QUESTION_RESPONSE:"video_text_question_response",PUBLIC_POST_WITH_PAGE_TAGGED:"public_post_with_page_tagged",FB_LOGIN:"fb_login"}}}),null);
__d("AuthorPinnedCommentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};return a}();c={comment_id:!0,event:!0};e.exports=a}),null);
__d("FacecastStreamingCommentDelayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setProtocol=function(a){this.$1.protocol=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,comment_id:!0,event:!0,protocol:!0};e.exports=a}),null);
__d("PublicConversationsUnicornTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentFbid=function(a){this.$1.comment_fbid=a;return this};return a}();c={comment_fbid:!0};e.exports=a}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};c.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};c.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};return a}();c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,video_timestamp:!0};e.exports=a}),null);
__d("ConstituentBadgeEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){a=new(b("EventEmitter"))();e.exports=a}),null);
__d("AuthorPinnedCommentLogger",["AuthorPinnedCommentsTypedLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.logPinningCommentAttempt=function(a){this.$1(a,"pinning_attempt")};c.logUnpinningCommentAttempt=function(a){this.$1(a,"unpinning_attempt")};c.logReplacingPinnedCommentAttempt=function(a){this.$1(a,"replacing_attempt")};c.logNuxDisplayed=function(a){this.$1(a,"nux_displayed")};c.logNuxDismissed=function(a){this.$1(a,"nux_dismissed")};c.logPinButtonShown=function(a){this.$1(a,"pin_button_shown")};c.logUnpinButtonShown=function(a){this.$1(a,"unpin_button_shown")};c.$1=function(a,c){new(b("AuthorPinnedCommentsTypedLogger"))().setCommentID(a).setEvent(c).log()};return a}();c=new a();e.exports=c}),null);
__d("UFICommentVPVs",["MarauderLogger"],(function(a,b,c,d,e,f){"use strict";f.logVPV=a;f.hasLoggedVPV=c;var g=new Map();function a(a,c){b("MarauderLogger").log("comment_vpv",void 0,null,"comment",c),g.has(a)||g.set(a,new Set()),g.get(a).add(c)}function c(a,b){return g.has(a)?g.get(a).has(b):!1}}),null);
__d("UFIAddCommentAction",[],(function(a,b,c,d,e,f){"use strict";f.cancel=a;f.changeContent=b;f.retrySubmit=c;f.submitEdit=d;f.submitNew=e;function a(a){return{type:"add_comment_cancel",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function b(a,b,c){return{type:"add_comment_change_content",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,text:b,replyFBID:c}}function c(a,b){return{type:"add_comment_retry_submit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b}}function d(a,b,c,d){return{type:"add_comment_submit_edit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b,commentData:c,target:d}}function e(a,b,c,d){return{type:"add_comment_submit_new",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b,target:c,replyCommentID:d,timestamp:Date.now()}}}),null);
__d("UFICommentVPVDLoggingConfig",[],(function(a,b,c,d,e,f){"use strict";a=3e4;f.idleTimeout=a;b=100;f.minDurationToLog=b;c=200;f.minVisibleSize=c}),null);
__d("onCommentIsVisible",["cx","Arbiter","Parent","SubscriptionsHandler","UFICommentVPVDLoggingConfig","getFBAlphaConsoleSize","intersectionObserverEntryIsIntersecting","killswitch","observeIntersection","onViewportChanged"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],i={height:0};function a(a,c,d){var e;function f(a){return c(a)}function g(a){e!==a&&(e=a,d(a))}function j(a){if(b("intersectionObserverEntryIsIntersecting")(a)===!1)d(!1);else{var c=a.boundingClientRect,e=a.intersectionRect,f=a.rootBounds;c=c||i;e=e||i;f=f||i;e.height>=b("UFICommentVPVDLoggingConfig").minVisibleSize||e.height>=f.height/2||e.height===c.height||a.intersectionRatio>.95&&a.intersectionRatio<=1?d(!0):d(!1)}}function k(a){return b("Parent").byClass(a,"uiScrollableAreaWrap")}if(b("killswitch")("LOG_COMMENT_VPVD_USING_INTERSECTION_OBSERVER"))return b("onViewportChanged")(g,f);else{var l=function(){var c=n==null?"-44px 0px -"+b("getFBAlphaConsoleSize")().height+"px 0px":void 0;o&&o.remove();o=b("observeIntersection")(a,j,{root:n,rootMargin:c,threshold:h});m.addSubscriptions(o)},m=new(b("SubscriptionsHandler"))(),n=k(a),o=null;b("Arbiter").subscribe(["PhotoSnowlift.DATA_CHANGE","PhotoSnowlift.GO"],function(){var b=k(a);b&&b!==n&&(n=b,l())});l();var p=!1;return{remove:function(){if(p)return;p=!0;m.release()}}}}}),null);
__d("transformTextRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){e.exports=a;var g;function a(a,c,d){if(!a||!c||!d)return a;c.sort(function(a,b){return a.offset-b.offset});var e=0;for(var f=0;f<c.length;f++){c[f].offset+=e;var h=(g||(g=b("UnicodeUtils"))).substr(a,c[f].offset,c[f].length),i=g.strlen(h),j=d(h,c[f]),k=g.strlen(j);h!==j&&(a=(g||(g=b("UnicodeUtils"))).substr(a,0,c[f].offset)+j+g.substr(a,c[f].offset+c[f].length),c[f].length=k,e+=k-i)}return a}}),null);
__d("UFICommentUtils",["HovercardLinkInterpolator","React","TextDelightRange.react","UFIConstants","UFIVideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","transformTextRanges"],(function(a,b,c,d,e,f){"use strict";f.getCommentTextWithTruncatedURIs=a;f.getCommentBodyInterpolator=c;f.shallowCopyRanges=d;f.annotateProfileURIIfPublic=e;f.shouldShowTranslateAll=i;var g,h=b("React");function a(a,c){b("UFIConstants").commentURLTruncationLength&&(a&&a.length>0&&(c=b("transformTextRanges")(c,a,function(a,c){c=c.entity&&(c.entity.external||c.entity.__typename==="ExternalUrl");return c?b("URITruncator")(a,b("UFIConstants").commentURLTruncationLength):a})));return c}function c(a,c,d,e,f){return function(g,i){if(i.videoTimestamp){if(e)return h.jsx("span",{children:i.entity});var j=function(a){a.preventDefault();new(b("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(i.integerTimestamp).setCommentID(d).setIsContentTimestamp(!1).log();c&&(b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(c,i.integerTimestamp),b("UFIVideoPlayerRegistry").scrollToAvailableVideo(c));return!1};return h.jsx("a",{className:"TimestampLink",onClick:j,href:"#",children:i.entity})}else if(i.sphericalViewport){j=function(a){a.preventDefault();c&&b("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(c,{yaw:i.yaw,pitch:i.pitch});return!1};return h.jsx("a",{onClick:j,href:"#",children:i.entity})}else if(i.sphericalViewportAndTimestamp){j=function(a){a.preventDefault();c&&(b("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(c,{yaw:i.yaw,pitch:i.pitch}),b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(c,i.integerTimestamp));return!1};return h.jsx("a",{onClick:j,href:"#",children:i.entity})}else if(i.campaign)return h.jsx(b("TextDelightRange.react"),{campaignID:i.campaign.id,commentPrivacy:f||void 0,delightStyles:i.campaign.delight_styles,surface:"comment",children:g});else return b("HovercardLinkInterpolator")(g,i,"_blank",a,"ufi")}}function d(a){if(!a)return a;var b=[];a.forEach(function(a){b.push(babelHelpers["extends"]({},a))});return b}function e(a,c){return!a?c:new(g||(g=b("URI")))(c).addQueryData("rc","p").toString()}function i(a,b,c,d){if(!a)return!1;var e=0,f,g;for(var h=0;h<a.length;h++){f=a[h];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0;if(c[f.id]){g=b?b[f.id]:[];for(var i=0;i<g.length;i++){f=g[i];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0}}}return!1}}),null);
__d("UFISubscriptionUpdates",["fbt","BanzaiODS","CommentPrivacyValue","FacecastStreamingCommentDelayTypedLogger","IdentityBadgeUtils","ImmutableObject","ShortProfiles","UFICentralUpdates","UFIComments","UFIConstants","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";b("BanzaiODS").setEntitySample("feedback",1e-4);var h={handleLiveLike:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_like_received");if(!c||!c.feedback_like_subscribe)return;d=c.feedback_like_subscribe.feedback;var e=c.feedback_like_subscribe.liker;if(!d||!e)return;var f=[{actiontype:b("UFIConstants").UFIActionType.LIKE_ACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,likesentences:{current:d.does_viewer_like?d.viewer_likes_sentence:d.viewer_does_not_like_sentence,alternate:d.does_viewer_like?d.viewer_does_not_like_sentence:d.viewer_likes_sentence},hasviewerliked:d.does_viewer_like,likecount:d.likers.count}],g=d.reactions_summary;if(g){g=b("UFIReactionsUtils").getReactionCountMapFromSummary(d.reactions_summary);var h=d.viewer_feedback_reaction_info?d.viewer_feedback_reaction_info.key:0,i=d.reaction_count_reduced?d.reaction_count_reduced:d.reactors.count;f.push({actiontype:b("UFIConstants").UFIActionType.REACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,viewerreaction:h,reactioncount:d.reactors.count,reactioncountreduced:i,reactioncountmap:g,reactionsentences:{current:h?d.viewer_likes_reaction_sentence:d.viewer_does_not_like_reaction_sentence,alternate:h?d.viewer_does_not_like_reaction_sentence:d.viewer_likes_reaction_sentence}})}b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:f})},handleLiveShares:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_share_received");d=c&&c.feedback.share_count_reduced!==null;if(!d)return;d=[{actiontype:b("UFIConstants").UFIActionType.SHARE_COUNT_UPDATE_ACTION,sharecountreduced:c.feedback.share_count_reduced,entidentifier:a}];b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:d})},handleLiveComment:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_comment_received");d=c&&c.comment;if(!d)return;a=this.prepareCommentData(a,d,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{comments:[a]})},handleLiveStreamingComment:function(a,c,d,e){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_streaming_comment_received");var f=c&&c.comment;if(!f)return;e&&new(b("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(f.legacy_fbid).setEvent("push").log();var g=this.prepareCommentData(a,f,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("requireWeak")("UFILiveStreamingComments",function(b){b.enqueueSubscribedComment(a,{comments:[g],streamingstate:"live",priority:f.live_streaming_comment_priority},c.feedback.top_level_comments.total_count)})},handleLiveStreamingReply:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_streaming_reply_received");if(c==null)return;d=c.comment;if(d==null)return;a=this.prepareCommentData(a,d,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,{comments:[a],streamingstate:"live",priority:d.live_streaming_comment_priority})},prepareCommentData:function(a,c,d){d===void 0&&(d=null);a={__typename:"saved",author:c.author.id,body:c.body,cancomment:c.feedback.can_viewer_comment,canedit:c.can_viewer_edit,canremove:c.can_viewer_delete,canreport:c.can_viewer_report,canembed:c.can_viewer_embed,ftentidentifier:a,id:c.legacy_token,fbid:c.legacy_fbid,legacyid:c.legacy_fbid,timestamp:{time:c.created_time,text:g._("v\u00e0i gi\u00e2y tr\u01b0\u1edbc")},hasviewerliked:c.feedback.does_viewer_like,identityBadges:b("IdentityBadgeUtils").fromLiveVideoCommentCreateSubscription(c.identity_badges_web||[]),isauthorbot:c.isauthorbot,isauthornoncoworker:c.is_author_non_coworker,isfeatured:c.is_featured,istranslatable:c.translation_available_for_viewer,likecount:c.feedback.likers.count,viewercanlike:c.feedback.can_viewer_like,parentcommentid:c.comment_parent&&c.comment_parent.legacy_token,parentcommentauthorid:(a=c)!=null?(a=a.comment_parent)!=null?(a=a.author)!=null?a.id:a:a:a,privacy_value:b("CommentPrivacyValue")[c.comment_privacy_value],spamreplycount:0,hasConstituentBadge:c.has_constituent_badge,videoTimeOffset:c.timestamp_in_video,canviewerpin:c.can_viewer_pin,canviewerunpin:c.can_viewer_unpin,ispinnedbyauthor:c.is_author_pinned};var e=c.written_while_video_was_live;c.timestamp_in_video!=null&&e!=null&&(a.postedLiveState=e?"Live":"OnDemand");d!=null&&(a.clientid=d);if(c.attachments&&c.attachments.length){e=Object.assign({},c.attachments[0]);d=e.style_list;if(d&&d.length){var f=d[0];if(f=="sticker"){var h=e.target;a.attachment={fbid:h.id,metadata:{source_uri:h.img.uri,source_uri_2x:h.img_2x.uri,width:h.img.width,height:h.img.height,frameCount:h.frame_count,frameRate:h.frame_rate,framesPerCol:h.frames_per_column,framesPerRow:h.frames_per_row,sprite_uri:h.sprite_img&&h.sprite_img.uri,sprite_uri_2x:h.sprite_img_2x&&h.sprite_img_2x.uri},type:"sticker"}}else if(f=="photo"){h=e.target;a.attachment={fbid:h.id,metadata:{preview_uri:h.photo_img&&h.photo_img.uri,width:h.photo_img.width,height:h.photo_img.height,url:h.url},type:"photo"}}else if(f=="share"||f=="image_share")e.type="live_share",a.attachment=e;else if(f=="animated_image_share"||f=="animated_image_autoplay"||f=="animated_image_video"||f=="animated_image_video_autoplay")e.type="gif",a.attachment=e;else if(f=="video_inline")e.type="video",a.attachment=e;else if(f=="file_upload")e.type="file",a.attachment=e;else if(f=="comment_place_info")e.type="live_comment_place_info",a.attachment=e;else if(f=="donation")e.type="donation",a.attachment=e;else if(f=="TIP_JAR_PAYMENT")e.type="TIP_JAR_PAYMENT",a.attachment=e;else if(f=="chat_command_result")e.type="chat_command_result",a.attachment=e;else if(f=="COMMENT_MESSAGE_INFO")e.type="upsell_info",a.attachment=e;else if(f=="gaming_video_chat_attachment"){h=d==null?void 0:d[1];h=="marketplace_ecomm_product_item"&&(e.type="marketplace_ecomm_product_item",a.attachment=e)}}}c.translated_body_for_viewer&&(a.translationdata={sourceDialectName:c.translatability_for_viewer.source_dialect_name,targetDialectName:c.translatability_for_viewer.target_dialect_name,translatedText:c.translated_body_for_viewer,trigger:c.translatability_for_viewer.translation_type});f=c.feedback;f.reactions_summary&&(a.canviewerreact=f.can_viewer_react,a.reactioncount=f.reactors.count,a.reactioncountmap=b("UFIReactionsUtils").getReactionCountMapFromSummary(f.reactions_summary),a.reactioncountreduced=f.reaction_count_reduced?f.reaction_count_reduced:f.reactors.count,a.viewerreaction=f.viewer_feedback_reaction_info?f.viewer_feedback_reaction_info.key:0);return a},handlePinnedCommentEvent:function(a,c,d){if(c){c=h.prepareCommentData(a.ftentidentifier,c,d);b("UFIComments").setComment(c.id,new(b("ImmutableObject"))(c));b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(a,c.id))}else b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(a))},handleFeedbackPinnedComment:function(a,b){var c=b.pinned_streaming_comment_pin_subscribe.pin_event.pinned_comment;b=b.pinned_streaming_comment_pin_subscribe.client_subscription_id;this.handlePinnedCommentEvent(a,c,b)},handleLivePinnedComment:function(a,b,c){c=b.pinned_comment_event_create_subscribe;if(c){c=c.pinned_comment_event.pinned_comment;b=b.client_mutation_id;this.handlePinnedCommentEvent(a,c,b)}},handleLiveCommentLike:function(a,c,d){a=c&&c.comment_like_subscribe&&c.comment_like_subscribe.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,clientid:c.comment_like_subscribe.client_mutation_id,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})},handleFacecastCommentUpdate:function(a,c,d){a=c&&c.facecast_comment_update_subscribe&&c.facecast_comment_update_subscribe.comment&&c.facecast_comment_update_subscribe.comment.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})}};e.exports=h}),null);
__d("UFICommentVPVDLogging",["csx","Banzai","Parent","UFICommentVPVDLoggingConfig","UFIOrderingModeStore","UFIStopWatch"],(function(a,b,c,d,e,f,g){"use strict";f.log=a;function a(a){var c=a.renderedComment,d=c.comment,e=c.isLivePinnedComment;c=c.isInLiveVideoReplyMode;var f=a.contextArgs,g=a.node;a=a.stopWatch;if(a.state()===b("UFIStopWatch").COUNTING)return{state:"still visible - not logged",instanceid:f.instanceid,fbid:d.fbid,duration_ms:a.milliseconds()};var h=a.milliseconds();if(h>=0&&h<b("UFICommentVPVDLoggingConfig").minDurationToLog)return{state:"small duration - not logged",instanceid:f.instanceid,fbid:d.fbid,duration_ms:h};var i=null,j=null;if(g){g=b("Parent").byClass(g,"public/feedobject/root");if(g){var k=g.getAttribute("data-ft");k&&(i=JSON.parse(k));j=g.getAttribute("data-referrer")}}k=b("UFIOrderingModeStore").getState().get(f.instanceid);g=0;k==="live_streaming"&&(f.islivestreaming?g=1:f.isLiveVOD&&(g=2));e={comment_fbid:d.fbid,comment_id:d.id,container_module:f.location,duration_ms:h,is_live_pinned_comment:e,is_on_sponsored_story:!!f.isSponsored,is_page_comment:!!f.isPage,is_reply:!!d.parentcommentid,mf_story_key:i?i.mf_story_key:null,order_mode:k,qid:i?i.qid:null,referrer_source:j,streaming_comments_mode:g,streaming_comment_location:c?"active_reply_thread":"active_main_thread"};a.reset();b("Banzai").post("comment_vpvd",e);return babelHelpers["extends"]({state:"logged",instanceid:f.instanceid,fbid:d.fbid,duration_ms:h},e)}}),null);
__d("UFICommentVPVDState",["invariant","Arbiter","Parent","UFICommentVisibilityStore","UFICommentVPVDLogging","UFICommentVPVDLoggingConfig","UFIRootRegistry","UFIStopWatch","UFIVisibility","UserActivity","ViewportTrackingHelper","getActiveElement","gkx"],(function(a,b,c,d,e,f,g){"use strict";f.subscribe=a;f.unsubscribe=c;f.getState=d;f.getKey=t;f.initComment=e;f.updateAllStates=u;f.cleanupUFIInstance=v;f.onCommentVisibilityChanged=w;f.onClickDocument=x;f.onSnowliftOpen=y;f.onSnowliftClose=z;f.debug=A;var h=Object.freeze({INFOCUS:"INFOCUS",BLURRED_NEW:"BLURRED_NEW",BLURRED_INACTIVE:"BLURRED_INACTIVE",BLURRED_SNOWLIFT_OTHER:"BLURRED_SNOWLIFT_OTHER",BLURRED_UNDER_LAYER:"BLURRED_UNDER_LAYER",BLURRED_NO_NODE:"BLURRED_NO_NODE"}),i="changed",j=new(b("Arbiter"))(),k=null,l=!1,m=!1,n={};function o(a){if(!b("gkx")("676811"))return;console.table&&console.table([{isFocusInLayer:l,isSnowliftOpen:m,userIsActive:b("UserActivity").isActive(b("UFICommentVPVDLoggingConfig").idleTimeout)}]);console.table&&console.table(Object.keys(n).map(function(a){a=n[a];return{instanceID:a.contextArgs.instanceid,fbid:a.renderedComment.comment.fbid,state:a.state,visibility:a.visibility,counting:a.stopWatch.state()}}))}function p(a){var b=Object.keys(a);if(!b.length)return;b.forEach(function(b){return r(a[b])});n=babelHelpers["extends"]({},n,a);j.inform(i)}function q(a,b){var c;p((c={},c[a]=b,c))}function r(a){a.visibility==b("UFIVisibility").VISIBLE&&a.state==h.INFOCUS?a.stopWatch.start():a.stopWatch.pause()}function s(a){if(!b("UserActivity").isActive(b("UFICommentVPVDLoggingConfig").idleTimeout))return h.BLURRED_INACTIVE;if(l&&!m){if(!a.node)return h.BLURRED_NO_NODE;if(!k)return h.BLURRED_UNDER_LAYER;a.node||g(0,1811);k||g(0,1811);var c=b("ViewportTrackingHelper").isDescendantOf(a.node,k);return c?h.INFOCUS:h.BLURRED_UNDER_LAYER}if(m)if(b("UFIRootRegistry").isSnowliftNode(a.contextArgs.rootid))return h.INFOCUS;else return h.BLURRED_SNOWLIFT_OTHER;return h.INFOCUS}function a(a){return j.subscribe(i,a)}function c(a){j.unsubscribe(a)}function d(){return n}function t(a,b){return b.instanceid+"/"+a.comment.fbid+(a.isLivePinnedComment?"/P":"")+(a.isInLiveVideoReplyMode?"/R":"")}function e(a,c,d){var e=t(a,c),f=n[e];if(!f&&!d)return;else if(!f){c={renderedComment:a,contextArgs:c,node:d,state:h.BLURRED_NEW,stopWatch:new(b("UFIStopWatch"))(),visibility:b("UFICommentVisibilityStore").getVisibility(b("UFICommentVisibilityStore").getState(),c,a)};c.state=s(c);q(e,c)}else!d?(f.stopWatch.pause(),q(e,babelHelpers["extends"]({},f,{state:h.BLURRED_NO_NODE}))):q(e,babelHelpers["extends"]({},f,{node:d,state:s(f)}))}function u(a){p(Object.keys(n).reduce(function(a,b){a[b]=babelHelpers["extends"]({},n[b],{state:s(n[b])});return a},{})),o(a)}function v(a){var c=[],d=b("gkx")("676811");Object.keys(n).filter(function(b){return n[b].contextArgs.instanceid==a}).forEach(function(a){n[a].stopWatch.pause();var e=b("UFICommentVPVDLogging").log(n[a]);d&&c.push(e);delete n[a]});d&&(console.table&&console.table(c))}function w(){var a=b("UFICommentVisibilityStore").getState();p(Object.keys(n).reduce(function(c,d){var e=n[d],f=e.renderedComment,g=e.contextArgs;e=e.visibility;g=b("UFICommentVisibilityStore").getVisibility(a,g,f);f=e!=g;if(!f)return c;c[d]=babelHelpers["extends"]({},n[d],{visibility:g});return c},{}));o("UFICommentVisibilityStore.changed")}function x(){var a=b("getActiveElement")();!a?(k=null,l=!1):(k=b("Parent").byClass(a,"uiContextualLayerParent"),l=!!k)}function y(){m=!0}function z(){m=!1}function A(){o("debug")}}),null);
__d("UserActivityEmitter",["invariant","EventEmitter","TimeSlice","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h="change",i={};a=function(){a.factory=function(b){i[b]||(i[b]=new a(b));return i[b]};function a(a){var c=this;this.$5=250;this.$6=function(){c.$4=="INACTIVE"&&(c.$4="ACTIVE",c.$2.emit(h,"ACTIVE")),c.$3&&b("clearTimeout")(c.$3),c.$3=b("setTimeoutAcrossTransitions")(b("TimeSlice").guard(c.$7,"UserActivityEmitter idleTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),c.$5)};this.$7=function(){c.$4="INACTIVE",c.$2.emit(h,"INACTIVE"),b("clearTimeout")(c.$3),c.$3=null};a>b("UserActivity").EVENT_INTERVAL_MS||g(0,3503,b("UserActivity").EVENT_INTERVAL_MS);this.$5=a;this.$2=new(b("EventEmitter"))();this.$4=b("UserActivity").isActive(a)?"ACTIVE":"INACTIVE";this.$1=b("UserActivity").subscribe(this.$6);this.$4=="ACTIVE"&&this.$6()}var c=a.prototype;c.subscribe=function(a){return this.$2.addListener(h,a)};c.getState=function(){return this.$4};return a}();e.exports=a}),null);
__d("UFICommentVPVD",["Arbiter","Banzai","Event","UFICommentAction","UFICommentVisibilityStore","UFICommentVPVDLogging","UFICommentVPVDLoggingConfig","UFICommentVPVDState","UFISharedDispatcher","UFIVisibility","UserActivityEmitter","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=!1,h=null,i="CommentVPVD: Logging subsystem shutting down - sending data to server",j="CommentVPVD: Visibility changed - sending data to server";function k(a){a===void 0&&(a=j);var c=b("UFICommentVPVDState").getState(),d=[],e=b("gkx")("676811");Object.keys(c).forEach(function(a){a=b("UFICommentVPVDLogging").log(c[a]);e&&d.push(a)});e&&(console.table&&console.table(d))}function l(){if(h!==null)return;h=b("setTimeoutAcrossTransitions")(function(){h=null,k()},10)}a={init:function(){if(g||!b("UFICommentVPVDState"))return;g=!0;b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){clearTimeout(h);h=null;var a=b("UFICommentVPVDState").getState();Object.keys(a).forEach(function(c){c=a[c];var d=c.contextArgs;c=c.renderedComment;b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeVisibility(d,c,b("UFIVisibility").HIDDEN))});k(i)});b("UFISharedDispatcher").register(function(a){a.type=="story_remove"&&b("UFICommentVPVDState").cleanupUFIInstance(a.instanceID)});var a=b("UserActivityEmitter").factory(b("UFICommentVPVDLoggingConfig").idleTimeout);b("UFICommentVisibilityStore").addListener(function(){var a=b("UFICommentVPVDState").getState();b("UFICommentVPVDState").onCommentVisibilityChanged();a!==b("UFICommentVPVDState").getState()&&l()});b("Event").listen(document.documentElement,"click",function(){b("UFICommentVPVDState").onClickDocument(),b("UFICommentVPVDState").updateAllStates("document onClick"),l()});a.subscribe(function(a){b("UFICommentVPVDState").updateAllStates("user-active = "+a),a!="ACTIVE"&&l()});b("Arbiter").subscribe("reflow",function(){b("UFICommentVPVDState").updateAllStates("reflow"),l()});b("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){b("UFICommentVPVDState").onSnowliftOpen(),b("UFICommentVPVDState").updateAllStates("PhotoSnowlift.OPEN"),l()});b("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){b("UFICommentVPVDState").onSnowliftClose(),b("UFICommentVPVDState").updateAllStates("PhotoSnowlift.CLOSE"),l()})}};e.exports=a}),null);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/clear/",{})}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/",{})}),null);
__d("LiveVideoPinnedCommentUtils",["fbt","AsyncRequest","BanzaiODS","Bootloader","UFILivePinnedCommentStore","UFISharedDispatcher","UFIStoryAction","UFIVideoPlayerRegistry","XVideoBroadcastClearPinCommentEventAsyncController","XVideoBroadcastPinnedCommentsController","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";f.toggleFeedbackCommentPin=a;f.toggleCommentPin=c;f.unpinVODComment=d;function h(){return b("ifRequired")("LiveVideoBroadcastBroadcastStore",function(a){return a.getCurrentBroadcastTime()})}function a(a){var c=a.commentFBID,d=a.commentID,e=a.contextArgs;a=a.isPinned;var f=b("XVideoBroadcastPinnedCommentsController").getURIBuilder().getURI(),g=b("UFILivePinnedCommentStore").getPinnedCommentID(e.ftentidentifier);a?b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(e)):b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(e,d));new(b("AsyncRequest"))().setURI(f).setData({feedback_id:e.feedbackID,comment_fbid:a?null:c}).setMethod("POST").setErrorHandler(function(a){g?b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(e,g)):b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(e))}).send()}function c(a){var c=a.commentFBID,d=a.commentID,e=a.contextArgs;a=a.isPinned;var f=b("UFILivePinnedCommentStore").getPinnedCommentID(e.ftentidentifier);a?b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(e)):b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(e,d));d=e.isBroadcasterUFI?h():b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTime(e.instanceid);if(d===null){b("BanzaiODS").bumpEntityKey(2966,"streaming_comments","pin_with_no_timestamp");return}var g=b("XVideoBroadcastPinnedCommentsController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(g).setData({video_id:e.fluentContentToken,video_time_offset:d,comment_fbid:a?null:c}).setMethod("POST").setErrorHandler(function(a){f?b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(e,f)):b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(e))}).send()}function d(a,c,d){return b("Bootloader").loadModules(["SimpleXUIDialog"],function(e){e.showConfirm(g._("N\u1ebfu b\u1ecf ghim b\u00ecnh lu\u1eadn n\u00e0y, b\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 ghim l\u1ea1i n\u1eefa."),g._("B\u1ecf ghim b\u00ecnh lu\u1eadn"),function(e){if(!e)return;new(b("AsyncRequest"))().setURI(b("XVideoBroadcastClearPinCommentEventAsyncController").getURIBuilder().getURI()).setData({pin_event_id:c}).setMethod("POST").setHandler(function(c){a===b("UFILivePinnedCommentStore").getPinnedCommentID(d.ftentidentifier)&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(d))}).send()})},"LiveVideoPinnedCommentUtils")}}),null);
__d("UFIThreadedFacecastCommentsUtils",["Bootloader","UFISharedDispatcher","UFIStoryAction","UFIVideoPlayerControllerStore"],(function(a,b,c,d,e,f){"use strict";f.isEnabled=a;f.onReplyClickCallback=c;function a(a){var b=a.isActiveLivingRoom;a=a.liveVideoThreadedCommentsConfig;a=!!(a&&a.enable_replies);return b||a}function c(a,c,d){var e=c.source;if(e===41||e===46||e===39||e===49)return function(){(d.isthreaded&&a.cancomment||!!a.parentcommentid)&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").showFacecastReplies(c,a.parentcommentid||a.id))};else{var f=b("UFIVideoPlayerControllerStore").getVideoPlayerController(c.instanceid);if(!f)return null;var g=f.getVideoURL();return g==null?null:function(){b("Bootloader").loadModules(["TahoeController","URI"],function(b,c){c=new c(g).setQueryData({comment_id:a.fbid,ref:"tahoe"});b.openFromVideoPlayer(f,c,null,null,"live_video_reply_click",f.getPlayerOrigin(),f.getPlayerSuborigin())},"UFIThreadedFacecastCommentsUtils")}}}}),null);
__d("UFICommentVPVDTracker.react",["cx","FBLogger","React","ReactDOM","SubscriptionsHandler","UFICommentAction","UFICommentVisibilityStore","UFICommentVPVD","UFICommentVPVDLoggingConfig","UFICommentVPVDState","UFISharedDispatcher","UFIVisibility","ViewportTrackingHelper","gkx","onCommentIsVisible","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("React");var i=a.Children;function j(a){return b("UFICommentVisibilityStore").getVisibility(b("UFICommentVisibilityStore").getState(),a.contextArgs)===b("UFIVisibility").VISIBLE}c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.state={isVisible:!1,beforeFirstViewportChange:!0};d.$4=function(a){d.$1=a,b("UFICommentVPVDState").initComment(d.props.renderedComment,d.props.contextArgs,a)};d.isCommentVisible=function(a){if(!j(d.props)&&!d.state.beforeFirstViewportChange)return!1;a={height:a.bottom-a.top,width:0};return b("ViewportTrackingHelper").isVisibleInDimension(a,b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),b("UFICommentVPVDLoggingConfig").minVisibleSize)};d.onCommentVisibilityChanged=function(a){d.setState({isVisible:a,beforeFirstViewportChange:!1}),d.$3(a)};b("UFICommentVPVD").init();d.$2=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.componentDidMount=function(){if(this.$1==null){b("FBLogger")("ufi").mustfix("When intializing VPVd tracking for a comment, could not obtain a reference to the HTML element representing the comment.");return}this.$2.addSubscriptions(b("onCommentIsVisible")(this.$1,this.isCommentVisible,this.onCommentVisibilityChanged))};d.componentWillUnmount=function(){this.$3(!1),this.$2.release()};d.render=function(){var a=this.props,c=this.state;a=i.only(a.children);var d=b("gkx")("678285");return h.jsx("div",{"data-debugstate":d?c.isVisible?"fully visible":"not fully visible":null,className:"_3b-9"+(d?" _3b-a":"")+(d&&c.isVisible?" _3b-b":"")+(d&&!c.isVisible?" _3b-c":""),ref:this.$4,children:a})};d.$3=function(a){var c=this;setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").changeVisibility(c.props.contextArgs,c.props.renderedComment,a?b("UFIVisibility").VISIBLE:b("UFIVisibility").HIDDEN))},0)};return c}(h.Component);c.propTypes={renderedComment:b("prop-types").object.isRequired,contextArgs:b("prop-types").object.isRequired};e.exports=c}),null);
__d("UFIActor.react",["cx","fbt","Badge.react","Focus","HovercardLink","Locale","React","ReactDOM","UFICommentUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.focusOnMount&&b("Focus").setWithoutOutline(b("ReactDOM").findDOMNode(this.refs.authorName))};d.render=function(){var a=this,c=this.props.author,d=b("Locale").isRTL()?"rtl":"ltr",e=(this.props.isAuthorWeakReference?"weakReference":"")+" UFICommentActorName",f=[];this.props.isAuthorWeakReference&&f.push(i.jsx("i",{className:"UFIWeakReferenceIcon"},"icon"));this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0&&f.push(i.jsxs("span",{children:[i.jsx(b("Badge.react"),{type:"subscription",size:"medium"},"badge")," "]}));c.persona?f.push(h._("{author} ({persona})",[h._param("author",c.firstName),h._param("persona",c.persona)])):this.props.useFirstName?f.push(c.firstName):this.props.author.isBusinessPersona&&this.props.author.assetRole?f.push(c.name+" "+h._("(")+this.props.author.assetRole+h._(")")):f.push(c.name);this.props.isAuthorNonCoworker?f.push(i.jsx(b("Badge.react"),{type:"work_non_coworker"},"noncoworker")):this.props.isAuthorBot&&f.push(i.jsx(b("Badge.react"),{type:"bot"},"bot"));var g=this.props.isAdminViewer?"ufi_admin":"ufi",j=Object.assign({},this.props);delete j.author;delete j.delimiter;delete j.dialogUrl;delete j.disableAuthorLink;delete j.focusOnMount;delete j.groupOrEventID;delete j.hovercardLocation;delete j.isAdminViewer;delete j.isAuthorBot;delete j.isAuthorNonCoworker;delete j.isAuthorWeakReference;delete j.isPublic;delete j.showHovercard;delete j.useFirstName;g=this.props.showHovercard?b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(c,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:g,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null;var k=c.uri&&!this.props.disableAuthorLink;c=k?b("UFICommentUtils").annotateProfileURIIfPublic(!!this.props.isPublic,c.uri):null;k=k?i.jsx("a",babelHelpers["extends"]({},j,{className:e,"data-hovercard":g,"data-ft":this.props["data-ft"],dir:d,href:c,ref:"authorName",children:f})):i.jsx("span",{className:e,dir:d,ref:"authorName",children:f});this.props.dialogUrl&&(k=i.jsx("a",babelHelpers["extends"]({},j,{className:e,"data-hovercard":g,"data-ft":this.props["data-ft"],dir:d,ajaxify:this.props.dialogUrl,rel:"dialog",href:c,ref:"authorName",children:f})));return i.jsxs("span",{children:[k,i.Children.map(this.props.children,function(b){return b?[b.key==="badge"||b.key==="constituentTitle"||b.key==="friendsOnlyBadge"||b.key==="groupMemberBadge"?"":a.props.delimiter,b]:null})]})};return c}(i.Component);e.exports=a;a.defaultProps={delimiter:" \xb7 ",isAdminViewer:!1,isPublic:!1}}),null);
__d("DigitalContentWalletSpendingSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SHORTCUT_TIPPING:83,STREAMER_BONUS:84});e.exports=a}),null);
__d("MentionsInputUtils",[],(function(a,b,c,d,e,f){a={generateDataFromTextWithEntities:function(a){var b=a.text,c=[];(a.ranges||[]).forEach(function(a){var d=a.entity;!d.external&&!a.videoTimestamp&&!a.sphericalViewport&&!a.campaign&&!/\D/.test(d.id)&&c.push({uid:d.id,text:b.substr(a.offset,a.length),offset:a.offset,length:a.length,weakreference:!!d.weakreference})});a={value:b,mentions:c,delights:(a.ranges||[]).filter(function(a){return a.campaign})};return a}};e.exports=a}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloaded:!1,hasUploadFailure:!1},d.$1=null,d.$2=null,d.$3=function(){d.setState({hasUploadFailure:!1})},d.$4=function(){d.setState({hasUploadFailure:!1})},d.$5=function(){d.setState({hasUploadFailure:!0})},d.$6=function(a){d.props.onClick&&d.props.onClick();if(d.state.bootloaded)return;b("Bootloader").loadModules(["UFIUploader"],function(a){d.$1=new a(d.refs.inputContainer,d.refs.inputControl,d.refs.input,d.props.getPhotoUploadData,d.props.getFileUploadData,d.props.prepareForAttachedPhotoPreview,d.props.prepareForAttachedVideoPreview,d.props.prepareForAttachedFilePreview,d.props.onPhotoUploadComplete,d.props.onVideoEncodeUpdate,d.props.onVideoUploadUpdate,d.props.onVideoUploadComplete,d.props.onFileUploadComplete,d.props.setFileInput,d.props.viewerActorID,d.$3,d.$4,d.$5)},"UFIAttachMediaSection.react");d.setState({bootloaded:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs,c=a.input;a=a.inputControl;c&&a&&(this.$2=b("Focus").relocate(c,a))};d.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};d.render=function(){var a=this.props.allowFileAttachments,c=a?h._("\u0110\u00ednh k\u00e8m file"):this.props.allowVideoAttachments?h._("\u0110\u00ednh k\u00e8m \u1ea3nh ho\u1eb7c video"):h._("\u0110\u00ednh k\u00e8m \u1ea3nh"),d=a?h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi \u0111\u00ednh k\u00e8m file, vui l\u00f2ng th\u1eed l\u1ea1i"):h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi \u0111\u00ednh k\u00e8m file, vui l\u00f2ng th\u1eed l\u1ea1i"),e=this.state.hasUploadFailure;a=i.jsx("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(this.props.attachment?" _5t1p":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:c,onClick:this.$6,ref:"inputContainer",role:"presentation",children:i.jsx("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl",children:i.jsx("input",{accept:a?b("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?b("UFICommentFileInputAcceptValues").both:b("UFICommentFileInputAcceptValues").photos,"aria-label":c,className:"_n",name:"file",ref:"input",title:c,type:"file"},"0")})});return i.jsx(b("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center",children:a})};return c}(i.Component);a.propTypes={getPhotoUploadData:(c=b("prop-types")).func.isRequired,getFileUploadData:c.func,prepareForAttachedPhotoPreview:c.func.isRequired,prepareForAttachedVideoPreview:c.func,prepareForAttachedFilePreview:c.func,onPhotoUploadComplete:c.func.isRequired,onVideoUploadComplete:c.func,onVideoUploadUpdate:c.func,onVideoEncodeUpdate:c.func,onFileUploadComplete:c.func,onClick:c.func,setFileInput:c.func.isRequired,targetId:c.string,allowVideoAttachments:c.bool,allowFileAttachments:c.bool,attachment:c.object,viewerActorID:c.string.isRequired};e.exports=a}),null);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=278;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$5=function(){c.setState({flyoutShown:!1,query:""})};c.$8=function(){c.$3=c.state.flyoutShown};c.$7=function(a){a.preventDefault();if(c.state.renderFlyout!==null){c.$3||(c.props.onGifFlyoutShow&&c.props.onGifFlyoutShow(),c.setState({flyoutShown:!0}));return}a=b("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(a,d,e){c.setState({flyoutShown:!0,renderFlyout:function(){return i.jsx(a,{alignment:"right",behaviors:{flip:e,LayerTabIsolation:b("LayerTabIsolation")},className:"_5trk",contextRef:function(){return c.$1},onBlur:c.$5,onToggle:function(a){!a&&c.state.flyoutShown&&c.$5()},position:"above",shown:c.state.flyoutShown,hasActionableContext:!0,width:j,children:i.jsx("div",{children:i.jsx(d,{onEscKeyDown:c.$5,onSelect:c.$9,query:c.state.query,shown:c.state.flyoutShown,searchInterface:b("MessengerPlatformInterfaceType").FB_INTERFACE,queryDefault:c.props.defaultGifSelection})})})}}),c.props.onGifFlyoutShow&&c.props.onGifFlyoutShow()},"UFIGifButton.react");c.$4.addSubscriptions(a)};c.$9=function(a){c.props.onGifSelected(a),c.$5()};c.$6=function(a){c.$1=a};c.state={renderFlyout:null,flyoutShown:!1,query:""};return c}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$4=new(b("SubscriptionsHandler"))();this.$2=b("Arbiter").subscribe("page_transition",function(){return a.$5()})};d.componentWillUnmount=function(){this.$2&&this.$2.unsubscribe(),this.$4&&this.$4.release(),delete this.$4};d.render=function(){var a=h._("\u0110\u0103ng file GIF"),c=this.state.renderFlyout&&this.state.flyoutShown?this.state.renderFlyout():null;return i.jsx(b("FocusRelocator.react"),{from:this.$1,to:this.refs.icon,children:i.jsxs(b("Link.react"),{"aria-label":a,className:"_r1a UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this.$6,onClick:this.$7,onMouseDown:this.$8,role:"button",children:[i.jsx("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children,c]})})};return c}(i.Component);e.exports=a;a.defaultProps={children:[],showTooltip:!0,defaultGifSelection:null}}),null);
__d("UFIGroupedInputTabs",["CacheStorage"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({EMOJI:"EMOJI",STICKER:"STICKER",GIF:"GIF"});f.InputTitleEnum=g;var h="last_used_input_on_composer",i=new(b("CacheStorage"))("localstorage");a=function(){return i.get(h,g.STICKER)};f.getLastUsedTab=a;c=function(a){i.set(h,a)};f.setLastUsedTab=c}),null);
__d("UFIImageBlock.react",["cx","ImageBlock.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ImageBlock.react"),babelHelpers["extends"]({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent",children:this.props.children}))};return c}(h.Component);e.exports=a}),null);
__d("UFIInsightsSharingCommentTag.react",["cx","fbt","invariant","Arbiter","DOMScroll","Middot.react","React","ReactDOM","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isSelected:!1},d.$2=function(){var a=d.props.commentId,c=d.$1();c!==void 0&&a!==void 0&&(b("Arbiter").inform("InsightsComments/"+c+"/clickedInsightsCommentTag",{commentId:a}),d.setSelected())},d.$3=function(){var a=d.$1();a!==void 0&&b("Arbiter").inform("InsightsComments/"+a+"/clickedInsightsCommentTag",{commentId:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.onCommentClicked&&b("Arbiter").unsubscribe(this.onCommentClicked)};d.setSelected=function(){var a=this;this.setState({isSelected:!0});window.setTimeout(function(){a.setState({isSelected:!1})},2e3)};d.componentDidMount=function(){var a=this,c=this.props.commentId;c!==void 0&&c!==null&&(this.onCommentClicked=b("Arbiter").subscribe("InsightsComments/clickedInsightComment/"+c,function(){var c=b("ReactDOM").findDOMNode(a.refs.commentTagContainer);c instanceof Element||i(0,4555);b("DOMScroll").ensureVisible(c,null,55,180);a.setSelected()}))};d.$1=function(){var a=this.props,b=a.feedbackTargetID;a=a.feedbackTargetGraphQLId;if(b!==null&&b!==void 0)return b;return a!==null&&a!==void 0?atob(a).split(":")[1]:""};d.render=function(){var a=this.props.showMiddot,c=a&&j.jsx(b("Tooltip.react"),{tooltip:h._("B\u00ecnh lu\u1eadn \u0111\u01b0\u1ee3c \u0111\u0103ng c\u00f3 li\u00ean quan \u0111\u1ebfn m\u1ed9t \u0111i\u1ec3m nh\u1ea5t \u0111\u1ecbnh tr\u00ean \u0111\u1ed3 th\u1ecb"),children:j.jsx(b("Middot.react"),{className:"_6y-0"})}),d="_71ku"+(this.state.isSelected?" _71kv":"");return j.jsxs("span",{className:d,ref:"commentTagContainer",role:"link",tabIndex:0,onBlur:this.$3,onClick:this.$2,children:[c,j.jsx(b("ShimButton.react"),{className:"_39g5 _71kw",form:"link",children:a&&"commented about ["+this.props.formattedValue+"] "})]})};return c}(j.Component);e.exports=a}),null);
__d("UFILiveShoppingFeaturedProductsButton.react",["cx","fbt","Bootloader","FocusRelocator.react","Link.react","LiveShoppingViewerTypedLogger","React","SimpleNUXMessage","XUIAmbientNUX.react","createCancelableFunction","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=null;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={locked:!1,visible:!1,showNUX:!b("SimpleNUXMessage").hasUserSeenMessage("194523878288338")},d.$8=function(){b("SimpleNUXMessage").markMessageSeenByUser("194523878288338"),d.setState({showNUX:!1})},d.$5=function(a){a.preventDefault(),a.stopPropagation(),d.props.onClick&&d.props.onClick(),d.state.showNUX&&d.$8(),d.state.visible||new(b("LiveShoppingViewerTypedLogger"))().setEvent("bottom_sheet_open").setVideoID(d.props.videoID).log(),d.setState(function(a){return{locked:!1,visible:a.locked?!1:!a.visible}})},d.$6=function(a){d.setState(function(a){return{locked:a.visible}})},d.$9=function(a){a||d.setState({visible:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null,this.$2&&this.$2.cancel(),this.$2=null};d.render=function(){var a=this,c=h._("S\u1ea3n ph\u1ea9m \u0111\u00e1ng ch\u00fa \u00fd"),d="UFICommentFeaturedProductsIconActive",e="UFICommentFeaturedProductsIcon";d=this.state.visible?b("joinClasses")(d,e):e;return i.jsxs(b("FocusRelocator.react"),{from:this.$4,to:this.$3,children:[i.jsxs(b("Link.react"),{"aria-label":c,className:this.props.buttonClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":c,onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,linkRef:function(b){return a.$4=b},ref:"contentRef",role:"button",children:[i.jsx("div",{className:d,ref:function(b){return a.$3=b}}),this.$7()]}),i.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return a.refs.contentRef},position:"above",shown:this.state.showNUX,width:"auto",onCloseButtonClick:this.$8,children:h._("Nh\u1ea5n \u0111\u1ec3 xem s\u1ea3n ph\u1ea9m \u0111\u00e1ng ch\u00fa \u00fd.")})]})};d.$7=function(){var a=this;if(!j){this.state.visible&&(this.$2=b("createCancelableFunction")(function(){a.forceUpdate()}),this.$1=b("Bootloader").loadModules(["UFILiveShoppingFeaturedProductsDialog.react"],function(b){j=b,a.$2&&(a.$2(),a.$2=null)},"UFILiveShoppingFeaturedProductsButton.react"));return null}return!this.state.visible?null:i.jsx(j,{context:this.$4,onToggle:this.$9,shown:this.state.visible,position:this.props.position,videoID:this.props.videoID})};return c}(i.Component);e.exports=a}),null);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("\u0110\u1ecbnh d\u1ea1ng v\u0103n b\u1ea3n b\u1eb1ng Markdown");return i.jsx(b("Link.react"),{className:"_r1a _45-m","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,"aria-label":a,onClick:this.props.onClick,role:"button",children:i.jsx("div",{className:"_45-n"+(this.props.active?" _45-o":"")})})};return c}(i.Component);e.exports=a}),null);
__d("UFIVideoEncodeStatusMonitor",["AsyncRequest","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.subscribe=function(a,c){var d=this;this.$3();this.$2=b("setInterval")(function(){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:d.$1}).setHandler(function(b){b=b.getPayload();b.is_ready?(d.$3(),a&&a()):b.error&&(d.$3(),c&&c())}).send()},1e3);return{unsubscribe:function(){d.$3()}}};c.$3=function(){b("clearInterval")(this.$2)};return a}();e.exports=a}),null);
__d("XConstituentBadgeV2OptInDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/constituent_badge/v2_opt_in_dialog/",{ft_id:{type:"String"},should_refresh:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/markdown_preview/",{comment_body:{type:"String"}})}),null);
__d("UFIAddComment.react",["cx","fbt","requireCond","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","ConstituentBadgeEventEmitter","CurrentUser","DigitalContentWalletSpendingSubtype","DOMScroll","EmojiInputButton.react","Event","ExclamationStarsActions.react","ExclamationStarsDispatcher.react","ExclamationStarsStore.react","FanFundingStarsEventsTypedLogger","FluxContainer","cr:682211","IdentityBadgeUtils","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","LivingRoomTypeValues","MentionsInputUtils","MercuryIDs","React","ReactDOM","Run","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextWithEntities.react","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAttachMediaSection.react","UFIBotsButton","UFICommercialBreakStore","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIComposerIsTypingStore","UFIConfig","cr:719006","UFIGifButton.react","UFIGroupedInputTabs","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFILiveShoppingFeaturedProductsButton.react","UFIMarkdownButton.react","UFINavigationCheck","UFIODSLogger","UFISharedDispatcher","UFIStickerButton.react","UFIThreadedFacecastCommentsStore","UFIVideoEncodeStatusMonitor","WebFunnelLogger","XBasicFBNuxDismissController","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController","XConstituentBadgeV2OptInDialogController","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","XUIText.react","getActiveElement","gkx","ifRequired","immutable","joinClasses","keyMirror","lazyLoadComponent","promiseDone","prop-types","textProbablyWritingMarkdown","throttle","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LivingRoomTypeValues").AddVideoTabValue,j=b("React"),k=b("UFIBotsButton").module,l=b("UFIGroupedInputTabs").InputTitleEnum,m=b("UFIGroupedInputTabs").setLastUsedTab,n=b("keyMirror")(b("DigitalContentWalletSpendingSubtype")),o=a.URL||a.webkitURL||{},p=h._("Vi\u1ebft b\u00ecnh lu\u1eadn..."),q=h._("Vi\u1ebft tr\u1ea3 l\u1eddi..."),r="fcg fss UFICommentTip",s=h._("B\u1ea1n vi\u1ebft g\u00ec \u0111i..."),t=19,u="/ajax/ufi/upload/",v="/ajax/ufi/sticker_preview/",w=1e3,x="comment_content_change",y=Object.freeze({UPLOAD:"uploading",ENCODE:"encoding"}),z=5572,A=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,B=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotBlock.react").__setRef("UFIAddComment.react")),C=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotFailedDialog.react").__setRef("UFIAddComment.react")),D=!1,E=!1,F=!1;c=function(c){babelHelpers.inheritsLoose(d,c);d.renderEditCommentBox=function(a,b,c){a=babelHelpers["extends"]({},a);delete a.addcommentautoflip;delete a.collapseaddcomment;delete a.hideActorPhoto;delete a.issnowlift;delete a.loggedOutLinkConfig;delete a.monitorHeight;delete a.sht;delete a.viewoptionstypeobjects;delete a.viewoptionstypeobjectsorder;return j.jsx(d,{viewerActorID:c.actorforpost,targetID:c.ownerid,groupID:c.grouporeventid,mentionsDataSource:c.mentionsdatasource,contextArgs:a,isEditing:!0,editingComment:b,allowVideoAttachments:c.allowvideoattachments,allowPhotoAttachments:c.allowphotoattachments,allowFileAttachments:c.allowfileattachments,allowStickerAttachments:c.allowstickerattachments,allowGifAttachments:c.allowgifattachments,allowBotMentions:c.allowbotmentions,allowTogglePrivateComments:!1,privateCommentTarget:c.actorname,allowCommentMarkdown:c.iscommentmarkdowneligible,showconstituentbadgev2optin:c.showconstituentbadgev2optin,constituentBanner:c.constituentbanneruri},"editing_comment"+b.id)};function d(d){var e;e=c.call(this,d)||this;e.$4=!1;e.$16=function(a){e.props.isEditing&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&e.context.dispatch(b("UFIAddCommentAction").cancel(e.props.contextArgs));e.$1&&!e.$5&&(b("Run").onBeforeUnload(e.$17),e.$5=!0);var c=b("getActiveElement")();c&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&c.blur()};e.$18=function(a){e.$2&&!e.$4&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(e.$2).setAction("first_input").log(),e.$4=!0),b("UFISharedDispatcher").dispatch(b("UFIAddCommentAction").changeContent(e.props.contextArgs,a,e.$19())),b("Arbiter").inform(x,{fbid:e.$19(),text:a,instanceid:e.props.contextArgs.instanceid,ftentidentifier:e.props.contextArgs.ftentidentifier}),e.props.allowCommentMarkdown&&e.state.commentMarkdownEnabled&&e.$20(a),e.props.contextArgs.messengerCommentPivotsParams&&e.props.contextArgs.messengerCommentPivotsParams.enabled&&e.$21(a),e.state.groupedInputNUXShown&&e.$22()};e.$20=function(a){a=b("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",a).getURI();new(b("AsyncRequest"))(a).setHandler(e.$26).send()};e.$26=function(a){if(!a)return;e.setState({commentMarkdownPreviewContent:a.payload?a.payload.markup:null})};e.$17=function(){if(a.PageTransitions&&!b("UFINavigationCheck").isLeaving(a.PageTransitions))return;if(e.refs&&e.refs.mentionsinput&&e.refs.mentionsinput.hasEnteredText())return h._("B\u1ea1n ch\u01b0a ho\u00e0n t\u1ea5t b\u00ecnh lu\u1eadn. B\u1ea1n c\u00f3 mu\u1ed1n r\u1eddi m\u00e0 kh\u00f4ng ho\u00e0n t\u1ea5t kh\u00f4ng?")};e.$27=function(){e.setState({markdownNUXVisible:!1,gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,privateCommentNUXVisible:!1});window.setTimeout(function(){e.$1&&e.setState({isFocused:!1})},100);if(e.refs.mentionsinput&&e.refs.mentionsinput.hasEnteredText())return;e.setState({isCommenting:!1})};e.$28=function(a){var c=new(b("ClipboardPhotoUploader"))(u,e.$29());e.$30();e.$6=[c.subscribe("upload_start",e.$31),c.subscribe("upload_error",e.$32),c.subscribe("upload_success",function(a,b){e.$33(b)})];c.handlePaste(a)};e.$37=function(a,b){var c=e.props.isEditing||e.state.hasAttachment,d=a.encodedValue&&a.encodedValue.trim(),f=e.state.isLoadingPhoto||e.$38()||e.state.isLoadingFile;if(f||!c&&!d)return!1;else if(!c&&e.state.showMessengerPivot&&e.state.shouldSendAsMessage){f=a.encodedValue=a.encodedValue?a.encodedValue.trim():"";return e.$39(f)}else return e.$40(a,b)};e.$44=function(){e.$34()};e.focus=function(){e.$34();var a={isCommenting:!0,isFocused:!0},c=e.props.contextArgs.loggedOutLinkConfig;c&&c.showAddComment&&b("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(c.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");e.refs.groupedInputButton&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(a,b){a.hasUserSeenMessage(b.MERGE_INPUT_COMPOSER_NUX)||(e.setState({groupedInputNUXShown:!0}),a.markMessageSeenByUser(b.MERGE_INPUT_COMPOSER_NUX))},"UFIAddComment.react");if(e.props.allowGifAttachments&&b("UFIConfig").shouldShowGIFsInCommentsNux&&!D){D=!0;var d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.gifsInCommentsNUXVisible=!0}if(e.props.allowCommentMarkdown&&b("UFIConfig").shouldShowMarkdownCommentNUX&&!b("UFIConfig").shouldShowGIFsInCommentsNux&&!E){E=!0;d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.markdownNUXVisible=!0}if(e.props.allowTogglePrivateComments&&!(e.state.gifsInCommentsNUXVisible||a.gifsInCommentsNUXVisible)&&!(e.state.markdownNUXVisible||a.markdownNUXVisible)&&!F){F=!0;d=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();if(a&&a.should_show_nux){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();e.setState({privateCommentNUXVisible:!0})}}).send()}if(e.state.showConstituentBadgeV2OptIn){d=b("XConstituentBadgeV2OptInDialogController").getURIBuilder().setString("ft_id",e.props.commentsTargetID).getURI();new(b("AsyncRequest"))().setURI(d).send()}e.setState(a);e.markViewerHasInteracted();e.props.onFocus&&e.props.onFocus();b("Arbiter").inform("UFIAddComment/focus",{instanceid:e.props.contextArgs.instanceid,ftentidentifier:e.props.contextArgs.ftentidentifier,isTopLevelComposer:e.props.isTopLevelComposer})};e.$54=function(a,b){e.setState({fileInput:a,fileUploader:b})};e.handleMessengerPivotClick=function(){e.setState(function(a){e.$24(a.shouldSendAsMessage?"pivot disabled":"pivot enabled");return{shouldSendAsMessage:!a.shouldSendAsMessage}}),e.refs.mentionsinput.focus()};e.$55=function(a){m(l.EMOJI),e.refs.mentionsinput.insertEmoji(a)};e.$58=function(a,b){m(l.STICKER),e.onStickerSelected(a,b),e.$59(!1)};e.$56=function(a){m(l.GIF),e.onGifSelected(a),e.$59(!1)};e.$59=function(a){a!==e.state.flyoutShown&&e.setState({flyoutShown:a})};e.$57=function(){e.state.flyoutShown||e.markViewerHasInteracted(),e.state.groupedInputNUXShown&&e.$22()};e.$29=function(){var a=e.props.viewerActorID,c={profile_id:a,target_id:e.props.targetID,source:t};c[b("ActorURI").PARAMETER_ACTOR]=a;return c};e.$33=function(a){if(!e.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?e.setState({attachedPhoto:a,isLoadingPhoto:!1}):e.$32(null)};e.$60=function(){var a=e.props.viewerActorID,c={profile_id:a,target_id:e.props.targetID};c[b("ActorURI").PARAMETER_ACTOR]=a;return c};e.$63=function(a){if(!e.state.isLoadingFile)return;a=a.getPayload();a&&a.fbid?e.setState({attachedFile:a,isLoadingFile:!1}):e.$32(null)};e.$65=function(a,b){if(!e.state.attachedVideo||e.state.videoStatus!==y.ENCODE)return;if(b.obj.progress<e.state.videoProgress)return;b.obj.fbid=b.obj.videoID;if(e.state.attachedVideo.fbid&&e.state.attachedVideo.fbid!==b.obj.fbid)return;e.setState({attachedVideo:b.obj,videoProgress:b.obj.progress,videoStatus:y.ENCODE});e.$78(b.obj.stage)&&e.$79()};e.$66=function(a){e.setState({videoProgress:a})};e.$64=function(a){if(e.state.videoStatus!==y.UPLOAD)return;a&&a.video_id&&(e.setState({videoProgress:0,attachedVideo:a,videoStatus:y.ENCODE}),e.$7.addSubscriptions(new(b("UFIVideoEncodeStatusMonitor"))(a.video_id).subscribe(function(){e.setState({videoProgress:100})})))};e.$32=function(a){b("Arbiter").inform("video_upload_cancel",{}),e.state.fileInput&&e.state.fileInput.clear(),e.setState({attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1})};e.$31=function(){e.setState({attachedPhoto:null,isLoadingPhoto:!0})};e.$62=function(){e.setState({attachedFile:null,isLoadingFile:!0})};e.$61=function(){var a,b=e.state.fileInput?e.state.fileInput.input:null;b=b?b.files[0]:null;b&&o.createObjectURL&&(a=o.createObjectURL(b));e.setState({attachedVideo:null,videoStatus:y.UPLOAD,videoFileURL:a,videoProgress:0,isVideoFileTranscodedGIF:Boolean(b&&b.type==="image/gif")})};e.$80=function(a){if(!e.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?e.$77({attachedSticker:a,isLoadingPhoto:!1}):(b("Bootloader").loadModules(["Dialog"],function(a){var b=h._("D\u00e1n nh\u00e3n kh\u00f4ng th\u00e0nh c\u00f4ng"),c=h._("\u0110\u00e3 x\u1ea3y ra m\u1ed9t l\u1ed7i khi \u0111\u00ednh k\u00e8m nh\u00e3n d\u00e1n.");new a().setTitle(b).setBody(c).setButtons(a.OK).show()},"UFIAddComment.react"),e.$68(null))};e.$68=function(a){e.setState({attachedSticker:null,isLoadingPhoto:!1,hasAttachment:!1})};e.$67=function(a){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.appendAction("FLEXIBLE_STARS_WWW_FUNNEL","dismissed_star_attachment"),a.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react"),b("ExclamationStarsActions.react").flyoutStarsUnselected(),e.$32(a)};e.onStickerSelected=function(a,b){if(e.props.isEditing||e.refs.mentionsinput.hasEnteredText()){e.$76(a);return}e.sendSticker(a,b)};e.onStarsSelected=function(a,c){b("ExclamationStarsActions.react").flyoutStarsSelected(),e.setState({attachedStars:{gift:c,previewImageSrc:null,metadata:a,userTippedQuantity:a,matchingQuantity:0,promotionEvent:null,type:"SEND_STARS"}})};e.$49=function(){e.setState({markdownNUXVisible:!1})};e.$22=function(){e.setState({groupedInputNUXShown:!1})};e.$53=function(){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();e.setState({privateCommentNUXVisible:!1})};e.$46=function(){e.setState({colorfulCommentsNUXShown:!1})};e.onGifSelected=function(a){if(e.props.isEditing||e.refs.mentionsinput.hasEnteredText()){e.$77({attachedGIF:a});e.preprocessGIF(a);return}e.sendGIF(a)};e.$69=function(a,b){e.setState(function(c){c[a]=b;return{mentionsData:c}},function(){e.props.contextArgs.messengerCommentPivotsParams&&e.props.contextArgs.messengerCommentPivotsParams.enabled&&e.$23()})};e.$1=!1;var f=e.props.editingComment,g=f.attachment,i=g?g.type:null,j=i==="photo"?g:null;e.state={attachedPhoto:f.photo_comment||j,attachedVideo:f.video_comment||null,attachedFile:f.file_comment||null,attachedSticker:i=="sticker"?g:null,attachedGIF:i=="gif"?g:null,attachedStars:i=="SEND_STARS"?g:null,colorfulCommentsNUXShown:!1,commentMarkdownPreviewContent:f.body?f.body.markup||null:null,commentMarkdownEnabled:f.body?f.body.markdown_enabled||!1:!1,currentThreadedFacecastCommentID:b("UFIThreadedFacecastCommentsStore").getCommentID(d.contextArgs.instanceid),addCommentNUXShown:e.props.contextArgs.permalinkAddCommentNuxShown||!1,commentPrivacy:f.privacy_value||e.props.replyCommentPrivacy||0,showConstituentBadgeV2OptIn:Boolean(e.props.showConstituentBadgeV2OptIn),constituentBannerState:String(e.props.constituentBanner),exclamationStarsData:null,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:!1,fileInput:null,fileUploader:null,flyoutShown:!1,isCommenting:!1,isLoadingPhoto:!1,isLoadingFile:!1,showFeaturedProductsButton:e.props.contextArgs.shouldShowFeaturedProductsButton||!1,isFocused:Boolean(e.props.isEditing),gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,markdownNUXVisible:!1,privateCommentNUXVisible:!1,inCommercialBreak:!1,showFailedMessageDialog:!1,showMessengerPivot:!1,shouldLoadFlexibleStars:!1,shouldSendAsMessage:!1,isSendingMessage:!1,hasAttachment:!1,mentionsData:{},currentMentionIds:[],currentMentionOffsets:[],selectedInsightPoint:null};j=e.state.attachedPhoto||e.state.attachedVideo||e.state.attachedFile||e.state.attachedGIF||e.state.attachedSticker||e.state.attachedStars;e.state.hasAttachment=!!j;b("Run").onLoad(function(){b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(){},"UFIAddComment.react")});return e}var f=d.prototype;f.$21=function(a){var b=this;this.setState(function(){var c=b.parseTextForMentions(a).map(function(a){return a.uid}),d=b.parseTextForMentions(a).map(function(a){return a.offset});return{currentMentionIds:c,currentMentionOffsets:d}},function(){b.$23()})};f.$23=function(){var a=this;if(this.props.contextArgs.shareLinkConfig&&!this.$19()&&!this.props.isEditing){var b=this.state.currentMentionIds.length>=1,c=this.state.currentMentionOffsets.findIndex(function(a){return a===0})!==-1;if((!b||!c)&&this.state.showMessengerPivot)this.$24("pivot hidden"),this.setState({showMessengerPivot:!1});else if(b&&c){var d=!0;b=!1;c=this.state.currentMentionIds.length;for(var e=0;e<c;e++){var f=this.state.currentMentionIds[e];if(!this.state.mentionsData[f]){b=!0;break}else if(this.state.mentionsData[f]!=="user"){d=!1;break}}b||this.setState(function(b){if(d!==b.showMessengerPivot){a.$25();a.$24(b.showMessengerPivot?"pivot hidden":"pivot shown");return{showMessengerPivot:!b.showMessengerPivot}}return{}})}}};f.$34=function(){this.$2||(this.$2=this.props.viewerActorID+"_"+Date.now(),new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("focus").setFunnelTags(["depth_"+(this.$19()?"1":"0")]).markStart().log())};f.$35=function(){this.$2&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("commit").markEnd().log(),delete this.$2,this.$4=!1)};f.$25=function(){this.$3||(this.$3=""+Date.now(),new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Start").markStart().log())};f.$36=function(){this.$3&&(new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Commit").markEnd().log(),this.$3=null)};f.$24=function(a){this.$3&&new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction(a).log()};f.$40=function(a,c){var d;this.setState({showMessengerPivot:!1});this.$24("comment posted");this.$36();a.encodedValue=a.encodedValue?a.encodedValue.trim():"";this.state.commentMarkdownEnabled?(a.isMarkdown=!0,this.setState({commentMarkdownEnabled:!1,commentMarkdownPreviewContent:null})):this.props.allowCommentMarkdown&&!a.isMarkdown&&(a.isMarkdown=b("textProbablyWritingMarkdown")(a.encodedValue));this.state.commentPrivacy&&(a.privacy_value=this.state.commentPrivacy);this.state.selectedInsightPoint&&(a.selectedInsightPoint=this.state.selectedInsightPoint);this.state.hasAttachment?(a.attachedPhoto=this.state.attachedPhoto,a.attachedVideo=this.state.attachedVideo,a.attachedFile=this.state.attachedFile,a.attachedSticker=this.state.attachedSticker,a.attachedStars=this.state.attachedStars,this.state.attachedGIF&&(this.state.attachedGIF.source?a.attachedShareURL=this.state.attachedGIF.source.url:this.state.attachedGIF.originalImageUrl&&(a.attachedShareURL=this.state.attachedGIF.originalImageUrl)),this.setState({isLoadingPhoto:!1,isLoadingFile:!1,attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedSticker:null,attachedGIF:null,attachedStars:null,hasAttachment:!1})):(a.attachedPhoto=null,a.attachedVideo=null,a.attachedFile=null,a.attachedSticker=null,a.attachedGIF=null,a.attachedShareURL=null,a.attachedStars=null);if(this.props.isEditing)this.context.dispatch(b("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,a,c.target));else if(this.state.attachedStars||!((d=this.state.exclamationStarsData)==null?void 0:d.isLoading)&&((d=this.state.exclamationStarsData)==null?void 0:d.isDetected)&&((d=this.state.exclamationStarsData)==null?void 0:d.errorMessage)==null)this.$41(a);else{var e;d=b("UFICommonInteractionLogger").makeTrackingID();b("UFICommonInteractionLogger").startInteraction((e=b("UFICommonInteractionEvents")).UFI_OPTIMISTIC_COMMENT,d+e.UFI_OPTIMISTIC_COMMENT);b("UFICommonInteractionLogger").startInteraction(e.UFI_PERSISTED_COMMENT,d+e.UFI_PERSISTED_COMMENT);a.trackingID=d;this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$19()))}this.$35();this.$42();return!0};f.$41=function(a){var c,d=this,e=(c=this.state.attachedStars)==null?void 0:c.userTippedQuantity,f=n.NONE;if(((c=this.state.exclamationStarsData)==null?void 0:c.isDetected)&&!((c=this.state.exclamationStarsData)==null?void 0:c.isFlyoutStarsSelected)){f=n.SHORTCUT_TIPPING;e=(c=this.state.exclamationStarsData)==null?void 0:c.spendingUnits}var g=this.props.targetID,h=(c=this.state.attachedStars)==null?void 0:c.matchingQuantity,i=(c=this.state.attachedStars)==null?void 0:(c=c.promotionEvent)==null?void 0:c.id,j=(c=this.state.attachedStars)==null?void 0:(c=c.gift)==null?void 0:c.id;b("ExclamationStarsActions.react").exclamationStarsUndetected();b("ExclamationStarsActions.react").flyoutStarsUnselected();e&&g&&b("Bootloader").loadModules(["VideoStarsSpendMutationWebGraphQLMutation","WebGraphQL","FunnelLogger"],function(c,k,l){b("promiseDone")(k.exec(new c({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),comment:a.encodedValue,payee_id:g,platform:"FB",spending_units:e,matching_units:h,video_id:d.props.commentsTargetID,virtual_gift_id:j,wallet_promotion_id:i,wallet_type:"FB_STARS",spending_subtype:f}}),{actorID:d.props.viewerActorID,batchName:null}),function(a){b("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.digital_content_wallet_spend)!=null?a.digital_content_wallet_balance:a:a);e!=null&&e>0&&new(b("FanFundingStarsEventsTypedLogger"))().setEvent("stars_send_successful").setContentID(d.props.commentsTargetID).setPageID(g).setStarsQuantity(e).setVirtualGiftID(j).log()},function(a){e!=null&&e>0&&new(b("FanFundingStarsEventsTypedLogger"))().setEvent("stars_send_unsuccessful").setContentID(d.props.commentsTargetID).setPageID(g).setStarsQuantity(e).setVirtualGiftID(j).log(),d.setState({isSendingMessage:!1,showFailedMessageDialog:!0})}),l.appendActionWithTag("FLEXIBLE_STARS_WWW_FUNNEL","sent_stars",e),l.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react")};f.$39=function(a){var c=this;this.$35();this.$24("begin message send");this.setState({isSendingMessage:!0});var d=b("Bootloader").loadModules(["FantaTabActions","MercurySourceType","XMessengerPivotsController","UFICommentPivotFailedDialog.react"],function(e,f,g,d){f=g.getURIBuilder().setString("comment_body",a).setFBID("ft_ent_identifier",c.props.contextArgs.ftentidentifier).getURI();new(b("AsyncRequest"))(f).setHandler(function(d){var f=[{startIndex:0,changeCount:a.length,changeValue:""}];c.refs.mentionsinput.replaceText("",f);c.setState({showMessengerPivot:!1,isSendingMessage:!1});f=d.payload;f.id&&(f.isGroup?e.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f.id.toString())):e.openTab(b("MercuryIDs").getThreadIDFromUserID(f.id.toString())));c.$24("send succeeded");c.$36()}).setErrorHandler(function(a){c.setState({isSendingMessage:!1,showFailedMessageDialog:!0}),c.$24("send failed")}).send()},"UFIAddComment.react");this.$7.addSubscriptions(d);this.refs.mentionsinput.focus();return!1};f.$38=function(){return this.state.videoStatus===y.UPLOAD||this.state.videoStatus===y.ENCODE&&this.state.videoProgress!==100};f.$30=function(){this.$6&&this.$6.forEach(function(a){a.unsubscribe()})};f.UNSAFE_componentWillMount=function(){var a=this;this.$5=!1;this.$9=b("LitestandStoryInsertionStatus").registerBlocker(function(){return a.state.isCommenting});this.$7&&this.$7.release();this.$7=new(b("SubscriptionsHandler"))();this.$7.addSubscriptions(b("UFICommercialBreakStore").addListener(function(){a.setState({inCommercialBreak:b("UFICommercialBreakStore").getValueFor(a.props.contextArgs.instanceid)})}),b("ConstituentBadgeEventEmitter").addListener("ConstituentBadgeV2OptInModal",function(b){if(!b){a.setState({showConstituentBadgeV2OptIn:!1});return}a.setState({constituentBannerState:b.turn_off?null:a.props.constituentBanner,showConstituentBadgeV2OptIn:!1})}));this.props.allowLiveVideoCommentReplyMode&&(this.props.contextArgs.islivestreaming||this.props.contextArgs.isLiveVOD||this.props.contextArgs.isActiveLivingRoom)&&this.$7.addSubscriptions(b("UFIThreadedFacecastCommentsStore").addListener(function(){var c=a.state.currentThreadedFacecastCommentID,d=b("UFIThreadedFacecastCommentsStore").getCommentID(a.props.contextArgs.instanceid);a.setState({currentThreadedFacecastCommentID:d});d!==c&&a.focus()}));this.$8=null;b("UFIConfig").canPublishLive&&this.$7.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var c=b("UFIComposerIsTypingStore").getValueFor(a.props.contextArgs.ftentidentifier);if(c===null)return;b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(b){a.$8||(a.$8=new b(a.props.contextArgs.ftentidentifier,a.$19(),a.props.viewerActorID)),c?a.$8.attemptPublishStartEvent():a.$8.attemptPublishStopEvent()},"UFIAddComment.react")}))};f.$43=function(){this.$8&&this.$8.destroy(),this.$8=null};f.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.contextArgs.ftentidentifier,c=a.contextArgs.ftentidentifier;(c!==b||this.props.replyCommentID!==a.replyCommentID||this.props.viewerActorID!==a.viewerActorID)&&this.$43()};f.componentWillUnmount=function(){var a=this;b("Bootloader").loadModules(["TextDelightInComposerLogger"],function(b){b.endFunnel(a.$19()||a.props.contextArgs.ftentidentifier)},"UFIAddComment.react");this.$1=!1;this.$30();this.$11&&b("Arbiter").unsubscribe(this.$11);this.$10&&b("Arbiter").unsubscribe(this.$10);this.$12&&b("Arbiter").unsubscribe(this.$12);this.$13&&b("Arbiter").unsubscribe(this.$13);this.$14&&b("Arbiter").unsubscribe(this.$14);this.$15&&b("Arbiter").unsubscribe(this.$15);this.$9&&this.$9.unsubscribe();this.$9=null;this.$7&&this.$7.release();this.$43()};f.$45=function(){var a=this;if(!this.state.colorfulCommentsNUXShown)b("IdentityBadgeUtils").isEligibleForColorComments(this.props.feedback,this.props.contextArgs)&&b("gkx")("900398")&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(b,c){b.hasUserSeenMessage(c.GAMES_COLORFUL_COMMENTS)||(a.setState({colorfulCommentsNUXShown:!0}),b.markMessageSeenByUser(c.GAMES_COLORFUL_COMMENTS))},"UFIAddComment.react");else return j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.mentionsinput},shown:this.state.colorfulCommentsNUXShown,position:"above",width:"auto",alignment:"center",onCloseButtonClick:this.$46,children:h._("B\u00ecnh lu\u1eadn c\u1ee7a Fan c\u1ee9ng, Ng\u01b0\u1eddi \u1ee7ng h\u1ed9 v\u00e0 G\u01b0\u01a1ng m\u1eb7t th\u00e2n quen s\u1ebd \u0111\u01b0\u1ee3c n\u00eau b\u1eadt trong v\u00e0i gi\u00e2y.")});return null};f.$47=function(){var a=this;return this.state.gifsInCommentsNUXVisible&&this.refs.gif_button?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.gif_button},shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right",children:h._("B\u1ea1n hi\u1ec7n c\u00f3 th\u1ec3 th\u00eam GIF v\u00e0o b\u00ecnh lu\u1eadn")}):null};f.$48=function(){var a=this;return this.state.markdownNUXVisible?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.markdownButton},shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$49,children:h._("[FB-Only] Markdown in Comments! Click to enable.")}):null};f.$50=function(){var a=this;return this.state.groupedInputNUXShown?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.groupedInputButton},shown:this.state.groupedInputNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$22,children:h._("\u0110\u0103ng nh\u00e3n d\u00e1n, bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac v\u00e0 t\u1ec7p GIF")}):null};f.$51=function(){var a=this;return this.state.addCommentNUXShown?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FBAmbientPulseNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.mentionsinput},dialogShown:!1,position:"left",shown:this.state.addCommentNUXShown}):null};f.$52=function(){var a=this;return this.state.privateCommentNUXVisible?j.jsxs(b("BootloadedComponent.react"),{alignment:"right",bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.privacy_icon},onCloseButtonClick:this.$53,position:"above",shown:this.state.privateCommentNUXVisible,width:"auto",children:[j.jsx(b("XUIText.react"),{display:"block",weight:"bold",children:h._("B\u00ecnh lu\u1eadn ri\u00eang t\u01b0")}),j.jsx(b("XUIText.react"),{display:"block",children:h._("Add a comment that only {user} will see",[h._param("user",this.props.privateCommentTarget)])})]}):null};f.render=function(){var a=this,c=this.props.contextArgs.loggedOutLinkConfig,d=!0;c&&c.showAddComment&&(d=!1);c=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&d&&!this.props.contextArgs.hideActorPhoto;var f=null;this.props.subtitle?f=j.jsx("span",{className:r,children:this.props.subtitle}):!this.state.isFocused&&this.props.isEditing?f=j.jsx("span",{className:r,children:h._("{cancel}",[h._param("cancel",j.jsx(b("Link.react"),{onClick:function(){return a.context.dispatch(b("UFIAddCommentAction").cancel(a.props.contextArgs))},children:h._("H\u1ee7y")}))])}):this.props.isEditing?f=j.jsx("span",{className:r,children:h._("Nh\u1ea5n Esc \u0111\u1ec3 {cancel}.",[h._param("cancel",j.jsx(b("Link.react"),{onMouseDown:function(){return a.context.dispatch(b("UFIAddCommentAction").cancel(a.props.contextArgs))},children:h._("h\u1ee7y")}))])}):this.props.peopleOutsideCommunityInCommentNotice&&this.state.isFocused?f=j.jsxs("div",{className:"fcg fsm _2pid",children:[j.jsx(b("Badge.react"),{type:"work_non_coworker"},"noncoworker"),j.jsx("span",{className:"_2pir _4zk5",children:j.jsx(b("TextWithEntities.react"),{ranges:this.props.peopleOutsideCommunityInCommentNotice.ranges,text:this.props.peopleOutsideCommunityInCommentNotice.text})})]}):this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI&&!this.props.contextArgs.isActiveLivingRoom&&(f=j.jsx("span",{className:r,children:h._("Nh\u1ea5n Enter \u0111\u1ec3 \u0111\u0103ng.")}));var g=null,l=null,m=null,n=null,o=null,t=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF||this.state.attachedStars,u=null,v=null,w=null,x=null,z=b("cr:682211")?j.jsx(b("cr:682211"),{ref:"groupedInputButton",allowGifAttachments:!!this.props.allowGifAttachments,allowStickerAttachments:!!this.props.allowStickerAttachments,customStickerOwnerID:this.props.targetID,flyoutShown:this.state.flyoutShown,onEmojiSelect:this.$55,onGifSelect:this.$56,onLinkClick:this.$57,onStickerSelect:this.$58,toggleFlyout:this.$59}):null,A=null;this.props.contextArgs.shouldCreateFeaturedProductsButton&&(this.state.showFeaturedProductsButton&&(A=j.jsx(b("UFILiveShoppingFeaturedProductsButton.react"),{buttonClassName:"_r1a",onClick:function(){return a.markViewerHasInteracted()},onSelect:function(){},videoID:this.props.contextArgs.ftentidentifier})));var C=b("cr:682211")?null:j.jsx(b("EmojiInputButton.react"),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){return a.markViewerHasInteracted()},onSelect:function(b){a.refs.mentionsinput.insertEmoji(b)}});this.props.allowCommentMarkdown&&(n=j.jsx(b("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var b=!a.state.commentMarkdownEnabled;a.setState({commentMarkdownEnabled:b});a.refs.mentionsinput&&b&&a.$20(a.refs.mentionsinput.getText())}}));!b("cr:682211")&&this.props.allowStickerAttachments&&!t&&(l=j.jsx(b("UFIStickerButton.react"),{ref:"sticker_button",customStickerOwnerID:this.props.targetID,onStickerSelected:this.onStickerSelected,onStickerFlyoutShow:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()}}));!b("cr:682211")&&this.props.allowGifAttachments&&!t&&(m=j.jsx(b("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){return a.markViewerHasInteracted()},defaultGifSelection:this.props.contextArgs.defaultGifQuery}));if(this.props.allowNativeTipJar&&this.props.tipJarModule&&!this.props.allowFlexibleTipping){var D=this.props.tipJarModule;w=j.jsx(D,{showNux:!0,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID})}if(this.props.allowFlexibleTipping&&this.props.flexibleStarsModule&&(!t||this.state.attachedStars)){D=this.props.flexibleStarsModule;x=j.jsx(D,{actorID:this.props.viewerActorID,canShowNux:!0,feedbackID:(D=this.props.feedback)==null?void 0:D.entidentifier,mentionsinputRef:this.refs.mentionsinput,onStarsSelected:this.onStarsSelected,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID});this.setState({shouldLoadFlexibleStars:!0})}(this.props.allowPhotoAttachments||this.props.allowVideoAttachments||this.props.allowFileAttachments)&&(u=this.$28,g=j.jsx(b("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$29,getFileUploadData:this.$60,prepareForAttachedPhotoPreview:this.$31,prepareForAttachedVideoPreview:this.$61,prepareForAttachedFilePreview:this.$62,allowVideoAttachments:this.props.allowVideoAttachments,allowFileAttachments:this.props.allowFileAttachments,onPhotoUploadComplete:this.$33,onFileUploadComplete:this.$63,onVideoUploadComplete:this.$64,onVideoEncodeUpdate:this.$65,onVideoUploadUpdate:this.$66,setFileInput:this.$54,targetId:this.props.targetID,onClick:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()},attachment:t,viewerActorID:this.props.viewerActorID}));D=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX);t="addComment_"+this.props.contextArgs.ftentidentifier;var E;this.$19()?E=this.props.contextArgs.replyPlaceholderText||q:this.props.contextArgs.placeholderText?E=this.props.contextArgs.placeholderText:this.props.contextArgs.isActiveLivingRoom?E=s:E=p;var F=this.props.contextArgs.viewoptionstypeobjects,G=this.props.contextArgs.viewoptionstypeobjectsorder;this.props.attachedPhoto&&!this.props.subtitle&&(f=null);var H;(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===y.UPLOAD||this.state.attachedFile||this.state.isLoadingFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars)&&(H=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("span",{}),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedFile:this.state.attachedFile,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,attachedStars:this.state.attachedStars,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$32,onRemoveAttachedStarsPreview:this.$67,onRemoveAttachedStickerPreview:this.$68,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,isLoadingFile:this.state.isLoadingFile,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF}));var I=this.props.contextArgs.mentionsinput,J=null,K=null,L=null;I&&(J=I.inputComponent,K=I.viewComponent,L=I.viewProps);I=this.props.editingComment.body;I=I?b("MentionsInputUtils").generateDataFromTextWithEntities(I):null;var M=null;this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled&&(M=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("span",{}),markup:this.state.commentMarkdownPreviewContent}));J=J?j.jsx(J,{disableInitTextarea:!d,replyCommentID:this.$19(),initialData:I,placeholder:E,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:K,viewProps:L,viewOptionsTypeObjects:F,viewOptionsTypeObjectsOrder:G,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$37,onDummyFocus:this.$44,onFocus:this.focus,onBlur:this.$27,onContentChange:this.$18,onPaste:u,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI,isLivingRoom:this.props.contextArgs.isActiveLivingRoom,isStreamerHub:this.props.contextArgs.isStreamerHub,showMessengerPivot:this.state.showMessengerPivot&&!this.state.hasAttachment,updateMentionsData:this.$69}):null;d=this.state.showMessengerPivot&&!this.state.hasAttachment?j.jsx(j.Suspense,{fallback:j.jsx("div",{className:"_6fr-"}),children:j.jsx(B,{contextArgs:this.props.contextArgs,isActive:this.state.shouldSendAsMessage,isSending:this.state.isSendingMessage,onClick:this.handleMessengerPivotClick})}):null;I=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;E=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs;K=k&&this.props.allowBotMentions&&this.props.groupID?j.jsx(k,{groupID:this.props.groupID,onSelect:function(b){return a.insertMention(b)}}):null;L=this.state.selectedInsightPoint&&j.jsx(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!1,formattedValue:this.state.selectedInsightPoint.formattedValue});F=j.jsxs("div",{className:"UFICommentContainer",children:[j.jsxs("div",{className:"_fmi"+(I?" _613v":"")+" UFIInputContainer",children:[L,d,J,j.jsxs("div",{className:"_fmk"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" _6fry":"")+" UFICommentAttachmentButtons _5op2"+(E?" _15i7":"")+(E?" _2kwm":""),children:[E?this.$70():null,A,K,o,C,n,g,m,l,z,v,w,x]})]}),M,H,f]});var N={};if(c){var O=this.props.contextArgs.livingRoomID;this.props.contextArgs.isLivingRoom==!0&&O!=null&&b("Bootloader").loadModules(["LivingRoomActions","LivingRoomLoggerAction","LivingRoomStoreInitializer","LivingRoomTypedLogger","UFICentralUpdates"],function(a,c,d,e,f){f.subscribe("actor-changed",function(c,e){a.setAddVideoDialogTab(O,i.SEARCH),a.updatePresentUsers(O,b("immutable").List()),a.updatePresentUserCount(O,0),a.close(O),d.initialize(O,e.actorID,"UFI_VOICE_ACTOR_CHANGE","UFIAddComment")}),N.onActorChange=function(a,b){new e().setLivingRoomID(O).setLivingRoomAction(c.VOICE_SELECTOR_ACTOR_CHANGE).updateExtraData({oldActorID:a,newActorID:b}).log()}},"UFIAddComment.react");F=j.jsxs(b("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowNativeTipJar?" UFITipJarEnabledInput":"")+(this.props.allowFlexibleTipping?" UFIFlexibleStarsEnabledInput":""),children:[j.jsx("div",{className:"UFIReplyActorPhotoWrapper"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" _6fr_":""),onClick:this.focus,role:"presentation",children:j.jsx(b("UFIActorIconContainer.react"),babelHelpers["extends"]({},N,{actorID:this.props.viewerActorID,actorSelectorConfig:this.props.contextArgs.actorSelectorConfig,isLivingRoom:this.props.contextArgs.isLivingRoom,overlayActorSelectorOnUFIPhoto:this.props.contextArgs.overlayActorSelectorOnUFIPhoto}))}),F]})}G=j.jsxs("div",{ref:function(b){return a.rootNode=b},id:t,className:b("joinClasses")("UFIRow _4oep UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.state.inCommercialBreak?" hidden_elem":""),this.props.className),onKeyDown:this.$16,"data-ft":D,children:[this.$71(),this.$72(),this.$73(),F,this.$47(),this.$48(),this.$50(),this.$51(),this.$45(),this.$74()]});u=b("ifRequired")("LiveVideoQuickComments.react",function(a){return a});I=this.props.contextArgs.liveVideoQuickCommentsConfig!=null&&(!this.props.contextArgs.shouldSyncQuickCommentVisibilityWithPinnedComment||this.props.isLivePinnedCommentVisible===!0)&&u!=null?j.jsx(u,{contextArgs:this.props.contextArgs,videoID:this.props.contextArgs.liveVideoQuickCommentsConfig.videoID,modes:this.props.contextArgs.liveVideoQuickCommentsConfig.modes}):null;return I?j.jsxs("div",{children:[I,G]}):G};f.componentDidUpdate=function(a,b){if(!b.attachedPhoto&&this.state.attachedPhoto||!b.attachedSticker&&this.state.attachedSticker||!b.attachedVideo&&this.state.attachedVideo||!b.attachedFile&&this.state.attachedFile||!b.attachedGIF&&this.state.attachedGIF||!b.attachedStars&&this.state.attachedStars||!b.isCommenting&&this.state.isCommenting){var c=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars;this.setState({hasAttachment:!!c});this.refs.mentionsinput.focus()}a.viewerActorID!==this.props.viewerActorID&&(this.state.fileInput&&this.state.fileInput.clear(),this.state.fileUploader&&this.state.fileUploader.setData(this.$29()),this.$32());!b.shouldLoadFlexibleStars&&this.state.shouldLoadFlexibleStars&&this.$75()};f.componentDidMount=function(){var a=this;this.$1=!0;if(this.props.contextArgs.source===1){var c=this.props.replyCommentID!=null;c?b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","legacy"):b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","legacy")}this.$20=b("throttle")(this.$20,w,this);this.$12=b("Arbiter").subscribe("UFIComment/insertComposerPayload/"+this.props.contextArgs.ftentidentifier,function(b,c){if(!c||c.instanceid!==void 0&&c.instanceid!==a.props.contextArgs.instanceid||!a.props.isTopLevelComposer)return;a.focus();c.mention!==void 0&&a.insertMention(c.mention);c.emojitext!==void 0&&a.insertEmojiText(c.emojitext);c.stickerid!==void 0&&a.$76(c.stickerid)});this.$13=b("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/selectGif",function(b,c){if(!c||a.$19())return;a.focus();a.$77({attachedGIF:c.gif});a.preprocessGIF(c.gif)});this.$14=b("Arbiter").subscribe("InsightsComments/"+this.props.contextArgs.ftentidentifier+"/selectedInsightsPoint/",function(c,d){if(!d)return;a.setState({selectedInsightPoint:d.selectedInsightPoint});c=b("ReactDOM").findDOMNode(a.refs.mentionsinput);c!==null&&d.selectedInsightPoint&&c instanceof Element&&b("DOMScroll").ensureVisible(c,null,null,null,function(){window.setTimeout(function(){return a.refs.mentionsinput.focus()})})});(this.props.contextArgs.shouldCreateFeaturedProductsButton||!1)&&(this.$15=b("Arbiter").subscribe("LiveVideoInteractiveAlert/liveShoppingFeaturedProductAlertReceived",function(b,c){a.setState({showFeaturedProductsButton:!0})}));b("ExclamationStarsDispatcher.react").explicitlyRegisterStores([b("ExclamationStarsStore.react")]);this.state.shouldLoadFlexibleStars&&this.$75();if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments&&!this.props.allowFileAttachments)return;this.$19()===null&&(this.$10=b("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(b){a.refs.mentionsinput.focus()}),this.props.contextArgs.issnowlift&&(this.$11=b("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(b,c){b={clipboardData:{items:[c]}};a.$28(b)})))};f.$72=function(){return this.state.constituentBannerState&&!this.$19()?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentingAsConstituentHeader.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),uri:this.props.constituentBanner}):null};f.$71=function(){var a=this.props,c=a.contextArgs;a=a.isTopLevelComposer;var d=c.conversationGuideParams;d=d?d.trackingID:null;return a&&b("cr:719006")?j.jsx(b("cr:719006"),{position:"above",trackingID:d,contextArgs:c,ufiContextDispatch:this.context.dispatch,isComposerFocused:this.state.isFocused}):null};f.$70=function(){var a=this,c=this.props.isEditing&&this.props.editingComment.privacy_value===1,d=this.$19()&&this.props.replyCommentPrivacy===1,e=!c&&!d&&this.props.allowTogglePrivateComments;if(!c&&!d&&!this.props.allowTogglePrivateComments||e)return null;e?c=h._("Chuy\u1ec3n quy\u1ec1n ri\u00eang t\u01b0"):d?c=h._("Only you and {user} will be able to see your reply",[h._param("user",this.props.privateCommentTarget)]):c=h._("Ch\u1ec9 m\u00ecnh b\u1ea1n v\u00e0 {user} c\u00f3 th\u1ec3 xem b\u00ecnh lu\u1eadn n\u00e0y",[h._param("user",this.props.privateCommentTarget)]);return j.jsxs(b("Link.react"),{"aria-label":c,className:"_r1a UFICommentPrivacyButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":c,onClick:function(){a.markViewerHasInteracted(),e&&a.setState(function(a){return{commentPrivacy:a.commentPrivacy===1?0:1}})},role:"button",children:[j.jsx("div",{ref:"privacy_icon",className:"UFICommentPrivacyIcon"+(!e||this.state.commentPrivacy===1?" UFICommentPrivacyIconActive":"")}),e?this.$52():null]})};f.$73=function(){return this.props.isEditing||this.state.commentPrivacy!==1?null:this.$19()?j.jsx("div",{className:"_2tpi",children:h._("Replying privately to {=[user]}",[h._param("=[user]",j.jsx("strong",{children:h._("{user}",[h._param("user",this.props.privateCommentTarget)])}))])}):j.jsx("div",{className:"_2tpi",children:h._("Only you and {=[user]} can see this",[h._param("=[user]",j.jsx("strong",{children:h._("{user}",[h._param("user",this.props.privateCommentTarget)])}))])})};f.$74=function(){var a=this;return this.state.showFailedMessageDialog?j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(C,{contextArgs:this.props.contextArgs,onHide:function(){a.setState({showFailedMessageDialog:!1}),a.refs.mentionsinput.focus()},showFailedDialog:this.state.showFailedMessageDialog})}):null};f.insertMention=function(a){var b=this;this.refs.mentionsinput&&this.refs.mentionsinput.insertMention&&(this.refs.mentionsinput.insertMention(a),window.setTimeout(function(){return b.refs.mentionsinput.focus()}))};f.insertEmojiText=function(a){this.refs.mentionsinput.getText().trim()===""?this.refs.mentionsinput.insertEmoticon(a.trim()+" "):this.refs.mentionsinput.insertEmoticon(a)};f.$78=function(a){return a==="finish"};f.$79=function(){this.state.fileInput&&this.state.fileInput.clear()};f.$77=function(a){if(!b("CurrentUser").isWorkUser())this.setState(a);else{var c={attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedSticker:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1};this.setState(babelHelpers["extends"]({},c,a))}};f.$76=function(a){this.setState({attachedSticker:null,isLoadingPhoto:!0}),new(b("AsyncRequest"))(v).setData({sticker_id:a}).setErrorHandler(this.$68).setHandler(this.$80).send()};f.sendSticker=function(a,c){a={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:a},privacy_value:this.state.commentPrivacy};this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$19()))};f.isPromotionMatchingEnabled=function(a){return a!=null&&a.isEnabled&&a.type==="SPEND_MATCH"};f.$42=function(){this.setState({addCommentNUXShown:!1})};f.preprocessGIF=function(a){var c=b("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({gif_url:a.source.url}).send()};f.sendGIF=function(a){a={encodedValue:"",visibleValue:"",attachedShareURL:a.source.url,privacy_value:this.state.commentPrivacy};this.rootNode&&this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,this.rootNode,this.$19()))};f.parseTextForMentions=function(a){var b=[],c;while(c=A.exec(a)){c={uid:c[1],text:c[2],offset:c.index,length:c[2].length,weakreference:!1,entity:{uid:c[1],weakreference:!1}};b.push(c);A.lastIndex=c.offset+c.length}return b};f.markViewerHasInteracted=function(){this.props.markViewerHasInteracted&&this.props.markViewerHasInteracted()};f.$19=function(){return this.props.replyCommentID||this.state.currentThreadedFacecastCommentID};d.getStores=function(){return[b("ExclamationStarsStore.react")]};d.calculateState=function(a){var c;a=babelHelpers["extends"]({},a);a.exclamationStarsData={isDetected:(c=b("ExclamationStarsStore.react")).isExclamationStarsDetected(),isLoading:c.isLoading(),spendingUnits:c.getSpendingUnits(),errorMessage:c.getErrorMessage(),isFlyoutStarsSelected:c.isFlyoutStarsSelected()};return a};f.$81=function(){var a=this;b("ExclamationStarsActions.react").startFetchBalance();b("Bootloader").loadModules(["VideoStarsWalletQueryWebGraphQLQuery","WebGraphQL"],function(c,d){b("promiseDone")(d.exec(new c({})),function(a){b("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.viewer)!=null?(a=a.digital_content_wallet)!=null?a.digital_content_wallet_balance:a:a:a)},function(c){b("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)})},"UFIAddComment.react")};f.$75=function(){var a=this,c=this.props.targetID;c&&this.props.allowShortcutTipping&&(b("ExclamationStarsActions.react").enableExclamationStars(),b("Bootloader").loadModules(["GameTippingCustomTipMetaDataQueryWebGraphQLQuery","WebGraphQL","nullthrows"],function(d,e,f){b("promiseDone")(e.exec(new d({input:{page_id:c}})),function(a){a=(a=a)!=null?a.game_tipping_custom_tip_meta_data:a;if(a){a=a.map(function(a){var b;return{min:f((b=a)!=null?b.min:b),max:f((b=a)!=null?b.max:b),color:f((b=a)!=null?b.main_color:b)}});b("ExclamationStarsActions.react").completeFetchExclamationStarsMetadata(a,a[0].min)}},function(c){b("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)}),a.$81()},"UFIAddComment.react"))};return d}(j.Component);c.contextTypes={dispatch:b("prop-types").func};e.exports=b("FluxContainer").create(c)}),null);
__d("GamesVideoCommunityModerationController",["fbt","Bootloader","Event","ImmutableObject","React","ReactDOM","RelayHooks","Run","UFICentralUpdates","UFIComments","UFIConstants","qex","requireCond","cr:1171644","cr:1156646","cr:1156647"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=null;a=function(){function a(a,c){var d=this;this.$4=function(){b("ReactDOM").unmountComponentAtNode(d.$3)};this.$1=a;this.$2=c;b("Bootloader").loadModules(["Tahoe"],function(a){a=a.get();a=a&&a.getView();d.$3=a&&a.getLiveAlertSidePaneOverlayNode()},"GamesVideoCommunityModerationController")}var c=a.prototype;c.registerGamingModerationRulesNux=function(){var a=this,c,d=function(){return c&&c.remove()},e=function(){if(b("cr:1156647")==null||a.$2==null||a.$3==null||!b("qex")._("1250762"))return;var c=h.jsx(h.Suspense,{fallback:h.jsx("span",{}),children:h.jsx(b("cr:1156647"),{moderationRulesData:a.$2,onConfirm:function(){a.$4(),d()},onDismiss:a.$4})});b("ReactDOM").render(c,a.$3)};b("Bootloader").loadModules(["Tahoe"],function(d){d=d.get();c=b("Event").listen(a.$1,"click",e);d&&d.addEvent(c)},"GamesVideoCommunityModerationController")};c.subscribeToCommentRemovalEvents=function(c,d){var e=this,f=this.$3;if(b("cr:1171644")==null||f==null)return;b("Bootloader").loadModules(["RelayFBEnvironment","VideoCommunityModerationSubscription"],function(b,f){f.subscribe(b,{video_id:c},{onNext:function(b){var c;c=b==null?void 0:(c=b.video_community_moderation_subscribe)==null?void 0:c.community_moderation_event;var f=c==null?void 0:c.moderated_comment;if((c==null?void 0:c.comment_moderation_action)==="REMOVE"){if((f==null?void 0:f.community_moderation_state)==="REMOVED"){a.setCommentCommunityModerationStateToRemoved(f==null?void 0:(c=f.feedback)==null?void 0:c.legacy_api_post_id);if(b==null?void 0:(c=b.video_community_moderation_subscribe)==null?void 0:c.is_author_banned){c=f==null?void 0:(c=f.author)==null?void 0:c.id;c&&a.setBannedAuthorCommentsCommunityModerationStateToRemoved(c)}}if((f==null?void 0:(c=f.author)==null?void 0:c.id)===d){e.showCommentRemovedDialog(b==null?void 0:(f=b.video_community_moderation_subscribe)==null?void 0:(c=f.community_moderation_event)==null?void 0:(b=c.moderated_comment)==null?void 0:(f=b.feedback)==null?void 0:f.legacy_api_post_id)}}}})},"GamesVideoCommunityModerationController")};c.removeComment=function(a,c,d){var e=this,f=this.getDialogLabel(c);if(b("cr:1156646")==null||this.$2==null||this.$3==null||f==null)return;var g=function(f){e.$4(),b("Bootloader").loadModules(["RelayFBEnvironment","RemoveCommunityModerationEventMutation"],function(b,e){e=e.removeCommunityModeratedComment;e(b,a,f,c,d)},"GamesVideoCommunityModerationController"),e.$4()};f=h.jsx(h.Suspense,{fallback:h.jsx("span",{}),children:h.jsx(b("cr:1156646"),{commentID:a,dialogLabel:f,moderationRulesData:this.$2,onDelete:g,onDismiss:this.$4})});b("ReactDOM").render(f,this.$3)};c.getDialogLabel=function(a){switch(a){case"NONE":return g._("G\u1ee1 b\u00ecnh lu\u1eadn");case"MUTE":return g._("C\u1ea5m ng\u01b0\u1eddi d\u00f9ng \u0111\u0103ng");case"STREAM_BAN":return g._("C\u1ea5m kh\u1ecfi bu\u1ed5i ph\u00e1t tr\u1ef1c ti\u1ebfp");case"PAGE_BAN":return g._("C\u1ea5m tr\u00ean Trang")}};c.shouldSubscribeToCommunityModerationEvents=function(a){return a.source===41};c.showCommentRemovedDialog=function(a){var c=this;if(b("cr:1171644")==null)return;b("Bootloader").loadModules(["RelayFBEnvironment"],function(d){var e=function(a){return h.jsx(h.Suspense,{fallback:h.jsx("span",{}),children:h.jsx(b("RelayHooks").RelayEnvironmentProvider,{environment:d,children:h.jsx(b("cr:1171644"),{commentLegacyToken:a,moderationRulesData:c.$2,onDismiss:c.$4})})})};c.$3&&b("ReactDOM").render(e(a),c.$3)},"GamesVideoCommunityModerationController")};a.get=function(){return i};a.setCommentCommunityModerationStateToRemoved=function(a){a=b("UFIComments").getComment(a);a&&typeof a!=="string"&&this.$5(a)};a.setBannedAuthorCommentsCommunityModerationStateToRemoved=function(a){var c=this;b("UFIComments").getCommentsForAuthor(a).forEach(function(a){return c.$5(a)})};a.init=function(c,d){i=new a(c,d),b("Run").onLeave(function(){i=null})};a.registerGamingModerationRulesNux=function(){var a=this.get();a&&a.registerGamingModerationRulesNux()};a.subscribeToCommentRemovalEvents=function(a,b){var c=this.get();c&&c.subscribeToCommentRemovalEvents(a,b)};a.$5=function(a){var c=babelHelpers["extends"]({},a);c.communityModerationState="REMOVED";b("UFIComments").setComment(a.id,new(b("ImmutableObject"))(c));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[c]})};return a}();e.exports=a}),null);
__d("ShareNowConstants",["fbt"],(function(a,b,c,d,e,f,g){a=g._("Kh\u00f4ng th\u1ec3 chia s\u1ebb b\u00e0i vi\u1ebft n\u00e0y v\u00e0o th\u1eddi \u0111i\u1ec3m n\u00e0y. Vui l\u00f2ng th\u1eed l\u1ea1i sau.");f.error=a;b=g._("Chia s\u1ebb c\u1ee7a b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c \u0111\u0103ng.");f.success=b}),null);
__d("UFICommentLikeCount.react",["cx","fbt","ActorURI","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","ReactionIconClassNames","URI","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=function(a,c,d){a=new(i||(i=b("URI")))("/ajax/like/tooltip.php").setQueryData({comment_fbid:a.fbid,comment_from:a.author,comment_likecount:a.likecount||0,comment_id:a.id,cache_buster:a.likeconfirmhash||0});c&&a.addQueryData({viewas:c});return b("ActorURI").create(a,d)};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.comment,c=a.likecount||0,d=b("NumberFormat").formatInteger(c);c=h._({"*":"{number} l\u01b0\u1ee3t th\u00edch","_1":"1 l\u01b0\u1ee3t th\u00edch"},[h._plural(c,"number")]);var e=b("ProfileBrowserTypes").LIKES;a={id:a.fbid};var f=k(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),g=j.jsx("span",{className:"UFICommentReactionIconContainer",children:j.jsx("i",{className:b("joinClasses")(b("ReactionIconClassNames").reactions.like,b("ReactionIconClassNames").icon,b("ReactionIconClassNames").sizes[16])})});d=j.jsx("span",{children:d});var i="UFICommentLikeButton UFISutroLikeCount",l=b("ProfileBrowserLink").constructDialogURI(e,a).toString();e=b("ProfileBrowserLink").constructPageURI(e,a).toString();a="dialog";var m=this.props.contextArgs.loggedOutLinkConfig;m&&m.showLikeLink&&(l=m.likeAjaxifyURI,e="#");return j.jsxs("a",{ajaxify:l,"aria-label":c,className:i,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f.toString(),href:e,rel:a,role:"button",children:[g,d]})};return c}(j.Component);a.propTypes={actorForPost:b("prop-types").string,comment:b("prop-types").object.isRequired,contextArgs:b("prop-types").object.isRequired};e.exports=a}),null);
__d("UFICommentLikeLink.react",["cx","fbt","React","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="ufi_comment_like_link",k="ufi_reply_like_link";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getCanRender=function(a){return!!(a&&(a.canviewerreact||a.viewercanlike||a.hasviewerliked))};var d=c.prototype;d.render=function(){var a=this.props.comment,b=this.props.feedback,c=this.props.contextArgs;if(!this.constructor.getCanRender(a))return null;if(a.canviewerreact)return i.jsx("span",{className:"_6a _3-me",children:this.$1(a,b,c)});else if(a.viewercanlike||a.hasviewerliked)return this.$2(a,b,c);return null};d.$1=function(a,c,d){var e=null;b("UFIConfig").reactionsHasCommentsNux&&(e={nuxKey:"reactions_comments",titleOverride:h._("M\u1edbi! B\u00e0y t\u1ecf c\u1ea3m x\u00fac v\u1ec1 b\u00ecnh lu\u1eadn"),textOverride:h._("Di chu\u1ed9t qua li\u00ean k\u1ebft Th\u00edch \u0111\u1ec3 xem t\u1ea5t c\u1ea3 c\u1ea3m x\u00fac."),nuxType:"like_click"});return i.jsx(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},d,{ftentidentifier:a.id}),comment:a,nuxConfig:e,reaction:a.viewerreaction,supportedReactions:c.supportedreactions,ftIdentifier:d.ftentidentifier})};d.$2=function(a,c,d){var e=this;c=d.loggedOutLinkConfig;var f=b("TrackingNodes").getTrackingInfo(a.hasviewerliked?b("TrackingNodes").types.UNLIKE_LINK:b("TrackingNodes").types.LIKE_LINK),g=a.hasviewerliked?h._("B\u1ecf th\u00edch b\u00ecnh lu\u1eadn n\u00e0y n\u1eefa"):h._("Th\u00edch b\u00ecnh lu\u1eadn n\u00e0y"),l=a.parentcommentid?k:j;l=!a.hasviewerliked||c?h._("Th\u00edch"):h._("B\u1ecf th\u00edch");var m=null,n=null;c&&c.showLikeLink&&(m="dialog",n=c.likeAjaxifyURI);return i.jsx("a",{className:"UFILikeLink","data-ft":f,"data-testid":void 0,href:"#",rel:m,ajaxify:n,onClick:function(c){return e.context.dispatch(b("UFICommentAction").toggleLike(d,a,c.target))},role:"button",title:g,children:l})};return c}(i.Component);a.propTypes={comment:(c=b("prop-types")).object.isRequired,contextArgs:c.object.isRequired,feedback:c.object.isRequired};a.contextTypes={dispatch:c.func};e.exports=a}),null);
__d("UFICommentMetadata.react",["ix","cx","fbt","BootloadedComponent.react","Image.react","JSResource","Middot.react","React","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=b("UFIConstants").UFIStatus;a="ufi_comment_timestamp";var m="UFIFailureMessageIcon",n="UFIFailureMessage",o="uiLinkSubtle",p=function(a){a=a.status;return a===l.FAILED_ADD||a===l.FAILED_EDIT};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.editLinkRef=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.comment,e=c.onRetrySubmit;c=c.isAuthorPinnedComment;var f,h,l=d.timestamp;if(p(d))f=[k.jsxs("span",{className:n,children:[k.jsx("i",{className:m}),i._("Kh\u00f4ng th\u1ec3 \u0111\u0103ng b\u00ecnh lu\u1eadn.")]},"failure"),d.allowRetry&&e?[" ",k.jsx("a",{onClick:e,href:"#",role:"button",children:i._("Th\u1eed l\u1ea1i")},"rety-submit")]:null];else if(c){e=k.jsxs("span",{children:[k.jsx(b("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:g("606470")}),i._("\u0110\u00e3 ghim")]});h=e;this.props.showPermalink&&(h=this.$1(e))}else if(l){c=k.jsx(b("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:l.time,text:l.text,useLargerTimeUnits:!0,verbose:l.verbose});h=c;this.props.showPermalink&&(h=this.$1(c))}e=null;if(d.originalTimestamp){l=new(j||(j=b("URI")))("/ajax/edits/browser/comment").addQueryData({comment_token:d.id}).toString();e=[!this.props.displayVerticalCommentVote&&k.jsx(b("Middot.react"),{},"middot-editNote"),k.jsx("a",{ajaxify:l,className:"uiLinkSubtle"+(this.props.displayVerticalCommentVote?" _6hmt":""),"data-hover":"tooltip","data-tooltip-content":i._("Hi\u1ec3n th\u1ecb l\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda"),href:"#",ref:function(b){return a.editLinkRef=b},rel:"dialog",role:"button",title:i._("Hi\u1ec3n th\u1ecb l\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda"),children:i._("\u0110\u00e3 ch\u1ec9nh s\u1eeda")},"edit-link")]}c=null;d.attachment_status&&!p(d)&&(c=k.jsxs("span",{children:[k.jsx(b("Middot.react"),{},"middot-creator"),k.jsx("span",{className:"UFISutroCommentTimestamp",children:d.attachment_status})]}));l=null;var o=d.creator_data;o&&(l=[k.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx(b("XUISpinner.react"),{size:"small"}),bootloadLoader:b("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:o.creatorID,creatorType:o.creatorType,creatorName:o.creatorName,labelType:o.labelType,pageID:o.pageID,profileURI:o.profileURI},"creator"),k.jsx(b("Middot.react"),{},"middot-creator")]);o=null;d.body&&d.body.markdown_enabled&&d.body.markup&&(o=[k.jsx(b("Middot.react"),{},"middot-markdownNote"),k.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("a",{className:"uiLinkSubtle",children:i._("\u0110\u00e3 \u0111\u1ecbnh d\u1ea1ng")}),bootloadLoader:b("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:d},"markdown-link")]);d=null;this.props.showEditNux&&(d=k.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:k.jsx(b("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return k.jsxs("span",{children:[l,h,f,e,o,d,c]})};d.$1=function(a){var c=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SOURCE),d=this.props.permalink?this.props.permalink:null;return k.jsx("a",{className:o,href:d,"data-ft":c,"data-testid":void 0,target:this.props.permalinkTarget,children:a},"timestamp-message")};return c}(k.Component);e.exports=c}),null);
__d("UFICommentReactionCount.react",["cx","ActorURI","ClientIDs","React","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.comment,c={entidentifier:a.id,reactioncount:a.reactioncount,reactioncountmap:a.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},d="UFICommentLikeButton"+(this.props.showLiveStreamingRedesign&&a.hasviewerliked?" UFILiveCommentRedesignLikedButton":"")+" UFISutroLikeCount",e="UFICommentReactionsBling _4ar- _ipn",f=b("ActorURI").create(b("XUFIReactionsSocialSentenceTooltipController").getURIBuilder().setString("ft_ent_identifier",a.id).setString("client_id",b("ClientIDs").getNewClientID()).setInt("user_count",a.reactioncount).getURI(),this.props.actorForPost),g=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),i=b("UFIReactionsProfileBrowserUtils").getPageURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),j=this.props.contextArgs.loggedOutLinkConfig;j&&j.showLikeLink&&(g=j.likeAjaxifyURI,i="#");return h.jsx("a",{ajaxify:g,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f,"data-tooltip-offsety":"-3",href:i,rel:"dialog",role:"button",children:h.jsx(b("UFIReactionsBlingTokens.react"),{className:e,feedback:c,contextArgs:this.props.contextArgs,max:3,noLinks:!0,size:"16",children:h.jsx("span",{className:d,children:a.reactioncountreduced})})})};return c}(h.Component);a.propTypes={actorForPost:(c=b("prop-types")).string,comment:c.object.isRequired,contextArgs:c.object.isRequired,supportedReactions:c.array,showLiveStreamingRedesign:c.bool};e.exports=a}),null);
__d("XUFISubscribeCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/subscribe/",{})}),null);
__d("UFICommentSubscribeLink.react",["fbt","AsyncRequest","React","XUFISubscribeCommentController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){c=a.call(this,b,c)||this;b=b.comment.issubscribed;c.state={isSubscribed:b?b:!1};return c}var d=c.prototype;d.render=function(){var a=this,b=g._("\u0110\u0103ng k\u00fd b\u00ecnh lu\u1eadn n\u00e0y"),c=g._("\u0110\u0103ng k\u00fd"),d=g._("H\u1ee7y \u0111\u0103ng k\u00fd b\u00ecnh lu\u1eadn n\u00e0y"),e=g._("H\u1ee7y \u0111\u0103ng k\u00fd");return h.jsx("a",{href:"#",role:"button",title:this.state.isSubscribed?d:b,onClick:function(){return a.onLinkClick()},children:this.state.isSubscribed?e:c})};d.onLinkClick=function(){var a=this,c=this.props.comment,d=b("XUFISubscribeCommentController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({comment_id:c.fbid,ft_ent_identifier:c.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod("POST").setHandler(function(b){a.setState({isSubscribed:!a.state.isSubscribed})}).setErrorHandler(function(a){}).send()};return c}(h.Component);e.exports=a}),null);
__d("UFIFeedbackPinnedCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=h._("B\u1ecf ghim b\u00ecnh lu\u1eadn"),d=h._("Ghim b\u00ecnh lu\u1eadn"),e=function(){a.contextArgs.isActiveLivingRoom==!0?b("LiveVideoPinnedCommentUtils").toggleFeedbackCommentPin(a):b("LiveVideoPinnedCommentUtils").toggleCommentPin(a)};return i.jsx("a",{className:"uiLink",href:"#",onClick:e,children:a.isPinned?c:d})}}),null);
__d("UFILiveVODUnpinCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.$1.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(d.props.commentID,d.props.pinEventID,d.props.contextArgs))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))()};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){return i.jsx("a",{className:"uiLink",href:"#",onClick:this.$2,children:h._("B\u1ecf ghim b\u00ecnh lu\u1eadn")})};return c}(i.Component);e.exports=a}),null);
__d("UFIPrivateReplyIndicator.react",["fbt","PagesPrivateReplyConstants","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("PagesPrivateReplyConstants").Status;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.willRender=function(a){return a===i.ALREADY_REPLIED};var c=b.prototype;c.render=function(){return this.props.replyStatus===i.ALREADY_REPLIED?h.jsx("span",{children:g._("Trang \u0111\u00e3 tr\u1ea3 l\u1eddi ri\u00eang")}):null};return b}(h.Component);e.exports=a}),null);
__d("UFIPrivateReplyLink.react",["cx","fbt","ActorURI","BootloadedComponent.react","JSResource","Link.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesPrivateReplyConstants","React","XPagesMessagingPrivateReplyDialogController","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("PagesPrivateReplyConstants").Status,k=b("PagesPrivateReplyConstants").Type,l=b("keyMirror")(k),m=!1,n=new Set(),o=new Set();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){var a=d.$6();b("PagesLogger").log(d.props.context.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:d.props.activityID,messenger_entry_point:"private_reply",activity_type:a})},c)||babelHelpers.assertThisInitialized(d)}c.willRender=function(a,b){if(!a)return!1;return a.hasReplyPermission&&b===a.pageID?!0:!1};var d=c.prototype;d.render=function(){var a=this.props.context;if(a.hasReplyPermission&&this.props.actorID===a.pageID){if(a.status===j.REPLYABLE)return this.$2();else if(a.status===j.ALREADY_REPLIED)return this.$3();return this.$4()}return null};d.$7=function(){var a=this;if(!this.props.shouldShowNuxToPage||m)return null;if(n.has(this.props.activityID)){m=!0;return i.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("span",{className:"hidden_elem"}),bootloadLoader:b("JSResource")("UFICommentPrivateReplyNux.react").__setRef("UFIPrivateReplyLink.react"),nuxContext:function(){return a.$1},activityType:this.props.context.activityType,nuxKey:"pages_comment_pr_nux",shouldShowGeneralNuxContent:this.props.shouldShowGeneralNuxContent})}else n.add(this.props.activityID);return null};d.$2=function(){var a=this,c=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",this.props.activityID).getURI(),this.props.context.pageID);o.has(this.props.activityID)||(b("PagesLogger").log(this.props.context.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:this.props.activityID,messenger_entry_point:"private_reply",activity_type:this.$6()}),o.add(this.props.activityID));return i.jsxs(b("Link.react"),{className:"_50u0 _60p- _14hj",onClick:this.$5,href:c,ref:function(b){a.$1=b},rel:"dialog",children:[this.$8(),this.$7()]})};d.$4=function(){var a;switch(this.props.context.status){case j.EXPIRED:a=h._({"comments":"B\u1ea1n kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn ph\u1ea3n h\u1ed3i b\u00ecnh lu\u1eadn t\u1eeb h\u01a1n 7 ng\u00e0y tr\u01b0\u1edbc.","reviews":"B\u1ea1n kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn ph\u1ea3n h\u1ed3i b\u00e0i \u0111\u00e1nh gi\u00e1 t\u1eeb h\u01a1n 7 ng\u00e0y tr\u01b0\u1edbc.","posts":"B\u1ea1n kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn ph\u1ea3n h\u1ed3i b\u00e0i vi\u1ebft t\u1eeb h\u01a1n 7 ng\u00e0y tr\u01b0\u1edbc."},[h._enum(this.$9(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case j.NOT_USER_CREATED:a=h._("Trang kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn ri\u00eang t\u01b0 cho c\u00e1c Trang kh\u00e1c.");break;case j.CANNOT_MESSAGE:a=h._("Ng\u01b0\u1eddi n\u00e0y kh\u00f4ng th\u1ec3 nh\u1eadn tin nh\u1eafn tr\u1ea3 l\u1eddi t\u1eeb Trang c\u1ee7a b\u1ea1n.");break}return i.jsx("span",{className:"_50u0 _50u4 _60p-","data-hover":a?"tooltip":null,"data-tooltip-content":a,children:this.$8()})};d.$3=function(){return i.jsx(b("Link.react"),{className:"_50u0 _14hk _60p-",href:this.props.context.permalink||"#",children:this.props.seeResponseLabel?h._("Xem ph\u1ea3n h\u1ed3i"):this.$8()})};d.$8=function(){return h._("Nh\u1eafn tin")};d.$9=function(){switch(this.props.context.activityType){case k.COMMENT_PAGE_POST:case k.COMMENT_WALL_POST:case k.COMMENT_CUSTOMER_GROUP_USER_POST:case k.COMMENT_REVIEW:return"comments";case k.REVIEW:return"reviews";default:return"posts"}};d.$6=function(){switch(this.props.context.activityType){case k.COMMENT_PAGE_POST:return l.COMMENT_PAGE_POST;case k.COMMENT_WALL_POST:return l.COMMENT_WALL_POST;case k.COMMENT_CUSTOMER_GROUP_USER_POST:return l.COMMENT_CUSTOMER_GROUP_USER_POST;case k.COMMENT_REVIEW:return l.COMMENT_REVIEW;case k.REVIEW:return l.REVIEW;default:return"UNKOWN"}};return c}(i.Component);e.exports=a}),null);
__d("UFICommentActions.react",["ix","cx","fbt","BootloadedComponent.react","FluxContainer","JSResource","Middot.react","PublicConversationsUnicornTypedLogger","React","ReactFragment","UFIAddCommentAction","UFICentralUpdates","UFICommentAction","UFICommentLikeCount.react","UFICommentLikeLink.react","UFICommentMetadata.react","UFICommentReactionCount.react","UFICommentSubscribeLink.react","UFIConfig","UFIConstants","UFIFeedbackPinnedCommentLink.react","UFILivePinnedCommentStore","UFILiveVODUnpinCommentLink.react","UFIPrivateReplyIndicator.react","UFIPrivateReplyLink.react","UFISharedDispatcher","UFIStoryAction","UFIThreadedFacecastCommentsUtils","emptyFunction","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("UFIConstants").UFIStatus,l="fsm fwn fcg UFICommentActions",m="UFIDeletedMessageIcon",n="UFIDeletedMessage";a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("UFILivePinnedCommentStore")]};c.calculateState=function(a,c){a=c.comment;c=b("UFILivePinnedCommentStore").getPinnedCommentID(a.ftentidentifier);a=this.calculatePinActionLinkState(a,c);return{pinActionLinkState:a}};c.calculatePinActionLinkState=function(a,b){if(a.__typename==="local")return"None";return b===a.id?"MayUnpin":"MayPin"};function c(b){var d;d=a.call(this,b)||this;d.state=c.calculateState(null,b);return d}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.comment,e=c.permalink,f=c.feedback,h=c.parentCanComment,o=c.markedAsSpamHere,p=c.showReplyLink,q=c.hideAsSpamForPageAdmin,r=c.translateLink,s=c.isAuthorPinnedComment,t=c.shouldHideAttachment,u=d.status===k.SPAM_DISPLAY,v,w,x,y,z,A,B,C,D,E,F=d.__typename!=="local"&&d.status!==k.LIVE_DELETED&&!d.tipOptionIndex;if(F){(d.needsApproval||d.canAppeal||d.canSecure||d.appealStatus!==null)&&j.jsx("a",{onClick:function(d){return a.context.dispatch(b("UFICommentAction").remove(c.contextArgs,c.comment,d.target,b("emptyFunction")))},href:"#",role:"button",children:i._("X\u00f3a")});u&&!o?(c.viewerCanMarkNotSpam&&(v=j.jsx("a",{onClick:function(e){return a.context.dispatch(b("UFICommentAction").markAsNotSpam(c.contextArgs,d,e))},className:"UFICommentNotSpamLink",href:"#",role:"button",children:i._("B\u1ecf \u1ea9n")})),q&&f.isthreaded&&d.cancomment&&p&&(z=this.renderCommentReply(d))):(w=b("UFICommentLikeLink.react").getCanRender(d)?j.jsx(b("UFICommentLikeLink.react"),{comment:d,contextArgs:c.contextArgs,feedback:f}):null,(f.isthreaded&&d.cancomment&&p||!!d.parentcommentid&&f.cancomment&&h&&!c.isInLiveVideoReplyMode)&&(z=this.renderCommentReply(d)),d.canviewerreact?x=!this.props.hideReactionCount&&d.reactioncount>0?j.jsx(b("UFICommentReactionCount.react"),{comment:d,actorForPost:f.actorforpost,supportedReactions:f.supportedreactions,contextArgs:c.contextArgs}):null:x=!this.props.hideReactionCount&&d.likecount>0?j.jsx(b("UFICommentLikeCount.react"),{comment:d,actorForPost:f.actorforpost,contextArgs:c.contextArgs}):null,A=this.renderMessageReply(d,f));if(!t&&d.attachment&&d.attachment.type==="share"&&!d.attachment.disableRemove&&d.canremove){F="_460h";B=j.jsx("a",{className:F,href:"#",onClick:function(e){return a.context.dispatch(b("UFICommentAction").removePreview(c.contextArgs,d,e.target))},role:"button",children:i._("G\u1ee1 b\u1ea3n xem tr\u01b0\u1edbc")})}d.cansubscribe&&(D=j.jsx(b("UFICommentSubscribeLink.react"),{contextArgs:c.contextArgs,comment:d}))}b("UFIConfig").publicConversationsUnicornWhitelist&&(C=j.jsx("a",{className:"share_action_link",href:"#",role:"button",title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function(a){return new(b("PublicConversationsUnicornTypedLogger"))().setCommentFbid(d.fbid).log()},children:"Unicorn"}));u=c.contextArgs.islivestreaming||c.contextArgs.isActiveLivingRoom;o=u?null:j.jsx(b("UFICommentMetadata.react"),{comment:d,onRetrySubmit:function(){return a.context.dispatch(b("UFIAddCommentAction").retrySubmit(c.contextArgs,d))},permalink:e,shortenTimestamp:c.contextArgs.shortenTimestamp,showPermalink:c.showPermalink,contextArgs:c.contextArgs,helpUri:this.props.editNuxHelpUri,showEditNux:!this.props.hasSeenEditNux,onEditNuxCloseClick:this.props.onEditNuxCloseClick,isAuthorPinnedComment:s,displayVerticalCommentVote:this.props.displayVerticalCommentVote});q=null;if(c.contextArgs.enablePinLiveComments&&!d.tipOptionIndex)if((c.contextArgs.islivestreaming||c.contextArgs.isActiveLivingRoom)&&this.state.pinActionLinkState!=="None")q=j.jsx(b("UFIFeedbackPinnedCommentLink.react"),{commentID:d.id,commentFBID:d.fbid,contextArgs:c.contextArgs,isPinned:this.state.pinActionLinkState==="MayUnpin"});else if(c.contextArgs.isLiveVOD&&this.state.pinActionLinkState==="MayUnpin"){p=b("UFILivePinnedCommentStore").getPinEventID(c.contextArgs.ftentidentifier);p!=null&&(q=j.jsx(b("UFILiveVODUnpinCommentLink.react"),{commentID:d.id,contextArgs:c.contextArgs,pinEventID:p}))}var G={};if(f.customcommentactionlinks){h=function(a){var c=f.customcommentactionlinks[a];if(c.showInMenu)return"continue";a=function(a){return b("UFICentralUpdates").inform(c.type,{comment:d,feedback:f})};G[c.type]=j.jsx("a",{href:"#",onClick:a,role:"button",children:c.title})};for(var H in f.customcommentactionlinks){t=h(H);if(t==="continue")continue}}c.orderingMode==="live_streaming"&&(c.contextArgs.islivestreaming||c.contextArgs.isLiveVOD)&&b("UFIThreadedFacecastCommentsUtils").isEnabled(c.contextArgs)?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):c.orderingMode==="live_streaming"&&c.contextArgs.isActiveLivingRoom&&c.contextArgs.source===49&&b("UFIThreadedFacecastCommentsUtils").isEnabled(c.contextArgs)?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):c.orderingMode==="live_streaming"?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):c.contextArgs.entstream?F=babelHelpers["extends"]({livePinCommentLink:q,metadata:o,likeToggle:w,unicornButton:C,likeCount:x,commentReply:z,translateLink:r,messageReply:A,subscribeComment:D,spamCount:y,spamToggle:v,removePreview:B},G):f.isthreaded?(this.props.displayVerticalCommentVote&&(E=c.renderCommentCloseButton()),F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,translateLink:r,messageReply:A,spamToggle:v,removePreview:B,subscribeComment:D,likeCount:x,spamCount:y},G,{livePinCommentLink:q,metadata:o,commentCloseButton:E})):F=babelHelpers["extends"]({livePinCommentLink:q,metadata:o,likeToggle:w,unicornButton:C,subscribeComment:D,likeCount:x,spamCount:y,commentReply:z,translateLink:r,messageReply:A,spamToggle:v,removePreview:B},G);if(d.status===k.LIVE_DELETED){u=i._("B\u00ecnh lu\u1eadn \u0111\u00e3 \u0111\u01b0\u1ee3c x\u00f3a");e=j.jsx("span",{className:n,children:j.jsx("i",{"aria-label":u,className:m,"data-hover":"tooltip","data-tooltip-content":u,role:"img"})});F.deletionWarning=e}if(d.isApproved){s=i._("B\u00ecnh lu\u1eadn n\u00e0y ban \u0111\u1ea7u \u0111\u01b0\u1ee3c \u0111\u00e1nh d\u1ea5u l\u00e0 spam");F.isApproved=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("Image.react").__setRef("UFICommentActions.react"),bootloadPlaceholder:j.jsx("span",{}),"data-hover":"tooltip","data-tooltip-content":s,"aria-label":s,src:g("119369"),"data-tooltip-alignh":"left"})}p=!0;t={};for(var I in F){h=F[I];h&&(p?t[I]=h:this.props.displayVerticalCommentVote?t[I]=j.jsx("span",{className:"_6hmt",children:h}):t[I]=b("ReactFragment").create({middot:j.jsx(b("Middot.react"),{},"middot-"+I),action:h}),p=!1)}return j.jsx("div",{className:l,children:b("ReactFragment").create(t)})};d.renderCommentReply=function(a){var c=this,d=!this.props.contextArgs.isScheduledLive&&(this.props.contextArgs.islivestreaming||this.props.orderingMode==="live_streaming"&&this.props.contextArgs.isLiveVOD),e=this.props.contextArgs.isActiveLivingRoom,f;d||e?f=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(a,this.props.contextArgs,this.props.feedback):f=function(){var d=c.props,e=d.contextArgs;d=d.feedback;d.isthreaded&&a.cancomment?c.context.dispatch(b("UFIStoryAction").showReplies(e,a.id,a)):a.parentcommentid&&c.context.dispatch(b("UFIStoryAction").showReplies(e,a.parentcommentid,a));d.targetiscomment&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").showComments(e))};return j.jsx("a",{className:"UFIReplyLink _460i","data-testid":void 0,href:"#",onClick:f,role:"button",children:(d||e)&&a.parentcommentid&&!this.props.isInLiveVideoReplyMode?i._("Xem cu\u1ed9c tr\u00f2 chuy\u1ec7n"):i._("Tr\u1ea3 l\u1eddi")})};d.renderMessageReply=function(a,c){if(a.messagereply){if(b("UFIPrivateReplyLink.react").willRender(a.messagereply,c.actorforpost))return j.jsx(b("UFIPrivateReplyLink.react"),{actorID:c.actorforpost,activityID:a.id,context:a.messagereply,seeResponseLabel:!0,shouldShowNuxToPage:this.props.contextArgs.shouldShowPrivateReplyNuxToPage,shouldShowGeneralNuxContent:this.props.contextArgs.shouldShowGeneralPrivateReplyNuxContent});else if(b("UFIPrivateReplyIndicator.react").willRender(a.messagereply.status))return j.jsx(b("UFIPrivateReplyIndicator.react"),{replyStatus:a.messagereply.status})}else if(a.chattobuy){c="_460j";return j.jsx("a",{className:c,href:a.chattobuy,role:"button",rel:"async-dialog",children:i._("Nh\u1eafn tin")})}return null};return c}(j.Component);a.contextTypes={dispatch:b("prop-types").func};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";var h="tip_attachment_support_link";a={_registeredLinks:new Set(),registerFanSupportAttachment:function(a){if(!a)return;a=a.querySelector('[name="'+h+'"]');a&&!this._registeredLinks.has(a)&&(a.addEventListener("mouseover",this._onLinkMouseover.bind(this,a)),a.addEventListener("click",this._onLinkClick.bind(this,a)),this._registeredLinks.add(a))},_onLinkMouseover:function(a){var b="_1k48";this._isSupportOverlayRegistered()?a.classList.remove(b):a.classList.add(b)},_onLinkClick:function(a,b){if(this._isSupportOverlayRegistered()){a=this._getTahoeView();a&&a.toggleSupportOverlay();b.stopPropagation()}},_isSupportOverlayRegistered:function(){var a=this._getTahoeView();return a&&a.isSupportOverlayRegistered()},_getTahoeView:function(){var a=void 0;b("ifRequired")("Tahoe",function(c){b("ifRequired")("TahoeVideoView",function(b){var d=c.get();if(d){d=d.getView();d instanceof b&&(a=d)}})});return a}};e.exports=a}),null);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gifs/in_live_comment/",{})}),null);
__d("XChatCommandResultCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat_command_result/live_comment_attachment/",{})}),null);
__d("XDonationCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser_for_story/live_comment_attachment/",{})}),null);
__d("XFileCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/files_in_comments/live_comment_attachment/",{})}),null);
__d("XMarketplaceEcommProductItemCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace_comments/ecomm_product_item_attachment/",{})}),null);
__d("XTipJarCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/tip_jar/live_comment_attachment/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/in_live_comment/",{})}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","lazyLoadComponent","Link.react","LitestandShareAttachment","Random","React","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XChatCommandResultCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController","XMarketplaceEcommProductItemCommentPreviewController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("lazyLoadComponent")(b("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")),i=b("lazyLoadComponent")(b("JSResource")("PagePrivateReplyMessageCard.react").__setRef("UFICommentAttachment.react")),j=b("React"),k=55;a="ufi_comment_photo";var l=80,m="ufi_comment_sticker";c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(c.props.comment.ufiinstanceid),randomInstanceID:Math.floor(b("Random").random()*1e4)};return c}var d=c.prototype;d.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};d.$3=function(a,b){var c=this.props.allowCustomStickers?k:l,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};d.componentDidMount=function(){var a=this,c=this.$2(this.props.comment);c&&this.renderAttachment(c);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFILocallyComposedCommentStore").addListener(function(){a.setState({localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(a.props.comment.ufiinstanceid)})}))};d.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};d.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};d.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=b("ReactDOM").findDOMNode(this.refs.contents);b("DOM").empty(a)}this.$1&&this.$1.release()};d.renderAttachment=function(a){var c=this;if(this.props.isPinnedLivingRoomPhotoComment)return;if(a&&this.refs&&this.refs.contents&&a.markup){var d=a.markup;b("HTML").isHTML(d.markup)&&(d=b("HTML").replaceJSONWrapper(d.markup).getRootNode());var e=d.parentNode,f=b("ReactDOM").findDOMNode(this.refs.contents);e&&e!==f&&(d=d.cloneNode(!0));if(this.props.disableTheater){e=d.querySelector('a[rel="theater"]');e&&b("DOM").setAttributes(e,{target:"_blank",rel:""})}b("DOM").setContent(f,d);if(a.type=="share"){e="_6m2";e=f&&b("CSS").hasClass(f,e)?f:b("DOMQuery").scry(f,"."+e)[0];e=e?e:f;e instanceof HTMLElement&&b("LitestandShareAttachment").init(e)}else a.type==="TIP_JAR_PAYMENT"&&b("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(d)}else if(a&&a.type=="video"&&!a.markup){f=b("XVideoInLiveCommentPreviewController").getURIBuilder();new(b("AsyncRequest"))(f.getURI()).setMethod("POST").setData({video_id:a.target.id}).setHandler(function(a){c.renderAttachment(a.payload.video_preview.video_comment)}).send()}else a&&a.type=="gif"&&!a.markup?new(b("AsyncRequest"))(b("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="file"&&!a.markup?new(b("AsyncRequest"))(b("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="donation"&&!a.markup?new(b("AsyncRequest"))(b("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="TIP_JAR_PAYMENT"&&!a.markup?new(b("AsyncRequest"))(b("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="chat_command_result"&&!a.markup?new(b("AsyncRequest"))(b("XChatCommandResultCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a!=null&&a.type=="marketplace_ecomm_product_item"&&!a.markup&&new(b("AsyncRequest"))(b("XMarketplaceEcommProductItemCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send()};d.renderSticker=function(a){var c=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return j.jsx(b("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:j.jsx(b("XUISpinner.react"),{}),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:c.height,sourceURI:e,sourceWidth:c.width,testID:m})};d.renderPhoto=function(a){var c="_2rn3 _4-eo";return j.jsx("div",{className:"_4iv9",children:j.jsx(b("Link.react"),{className:c,"data-testid":void 0,rel:"theater",href:a.metadata.url,children:j.jsx("div",{style:{height:a.metadata.height},children:j.jsx(b("Image.react"),{src:a.metadata.preview_uri})})})})};d.renderShare=function(a){return j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};d.renderLivePlaceInfo=function(a){return j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};d.renderPlaceInfo=function(a){var c=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return j.jsx(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:j.jsx(b("XUISpinner.react"),{}),bootloadLoader:b("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:c,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};d.renderUpsellInfo=function(a){if(a.subtype){if(a.subtype=="question_triggered_page_msg")return j.jsx(j.Suspense,{fallback:j.jsx(b("XUISpinner.react"),{}),children:j.jsx(h,babelHelpers["extends"]({},a))});if(a.subtype=="private_reply_user_msg")return j.jsx(j.Suspense,{fallback:j.jsx(b("XUISpinner.react"),{}),children:j.jsx(i,babelHelpers["extends"]({},a))})}return j.jsx("span",{})};d.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};d.render=function(){var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result"||a.type==="marketplace_ecomm_product_item")return j.jsx("div",{ref:"contents",id:this.$4(a.type),children:j.jsx(b("XUISpinner.react"),{})});else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return j.jsx("div",{ref:"contents"});return j.jsx("span",{})};return c}(j.Component);e.exports=c}),null);
__d("UFISocialContext.react",["fbt","HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=27;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.topMutualFriend,c=this.props.otherMutualCount,d=this.props.commentAuthor,e=b("HovercardLink").constructEndpoint(a).toString();e=i.jsx("a",{href:a.uri,"data-hovercard":e,children:a.name},"top");var f=d.name.length+a.name.length,h;if(c===0)h=g._("B\u1ea1n b\u00e8 v\u1edbi {name}",[g._param("name",e)]);else if(f<j){c==1?f=g._("1 ng\u01b0\u1eddi kh\u00e1c"):f=g._({"*":"{count} ng\u01b0\u1eddi kh\u00e1c"},[g._param("count",c,[0])]);h=g._("B\u1ea1n b\u00e8 v\u1edbi {name} v\u00e0 {others}",[g._param("name",e),g._param("others",this.getOthersLink(f,d,a))])}else{e=g._({"*":"{count} b\u1ea1n chung"},[g._param("count",c+1,[0])]);h=this.getOthersLink(e,d)}return i.jsx("span",{className:"UFICommentSocialContext",children:h})};d.getOthersLink=function(a,c,d){var e=b("ProfileBrowserTypes").MUTUAL_FRIENDS,f={uid:c.id};c=new(h||(h=b("URI")))("/ajax/mutual_friends/tooltip.php").setQueryData({friend_id:c.id});d&&c.addQueryData({exclude_id:d.id});d=b("ProfileBrowserLink").constructDialogURI(e,f).toString();return i.jsx("a",{ajaxify:d,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":c.toString(),href:b("ProfileBrowserLink").constructPageURI(e,f).toString(),rel:"dialog",children:a},"others")};return c}(i.Component);e.exports=a}),null);
__d("UFICommentAuthorName.react",["ix","cx","Badge.react","BootloadedComponent.react","Image.react","JSResource","React","TrackingNodes","UFIActor.react","UFISocialContext.react","asset","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("GroupMemberBadgeWithTooltip.react").__setRef("UFICommentAuthorName.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.author,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_NAME),e=null,f=a.isAuthorOriginalPoster&&!a.isFeatured;f&&(e=i.jsx("div",{className:"UFIOPIconContainer","data-tooltip-alignh":"center","data-hover":"tooltip","data-tooltip-content":"Original poster",children:i.jsx("i",{className:"UFIOriginalPosterIcon"})},"badge"));return i.jsxs(b("UFIActor.react"),{author:c,"data-ft":d,disableAuthorLink:a.disableAuthorLink,focusOnMount:a.focusOnMount,groupOrEventID:a.groupOrEventID,hovercardLocation:a.hovercardLocation,isAdminViewer:a.isAdminViewer,isAuthorBot:a.isAuthorBot,isAuthorNonCoworker:a.isAuthorNonCoworker,isAuthorWeakReference:a.isAuthorWeakReference,isPublic:this.props.isPublic,dialogUrl:a.dialogUrl,target:this.props.openLinkInNewTab?"_blank":"_self",onClick:this.props.onLinkClickCallback,showHovercard:a.showHovercard,useFirstName:a.useFirstName,children:[e,a.isFeatured?i.jsx(b("Badge.react"),{size:"xsmall",type:"verified"},"badge"):null,this.$1(c),this.$2(c),this.$3(),a.socialContext?i.jsx(b("UFISocialContext.react"),{topMutualFriend:a.authorProfiles[a.socialContext.topmutualid],otherMutualCount:a.socialContext.othermutualcount,commentAuthor:c}):null]},"author")};d.$2=function(a){var c=this.props.constituentBadge;if(c&&c.officeTitle&&c.representativeName&&c.commentId)return i.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:i.jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:c.commentId,ftId:c.ftId,isOwner:c.isOwner,officeTitle:c.officeTitle,representativeName:c.representativeName,representativeId:c.representativeId,upsellEnabled:c.upsellEnabled},"constituentTitle");return this.props.hasConstituentBadge?i.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:i.jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:this.props.commentID},"constituentTitle"):null};d.$1=function(a){return this.props.hasFriendsOnlyBadge?i.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FriendsOnlyBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:i.jsx(b("Image.react"),{src:g("480274"),style:{marginLeft:"3px",verticalAlign:"-1px"}},"friendsOnlyBadge"),viewerIsAuthor:!!this.props.viewerIsAuthor,authorFirstName:a.firstName,commentPrivacyValue:this.props.commentPrivacyValue},"friendsOnlyBadge"):null};d.$3=function(){var a=this.props.groupMemberBadge;return!a?null:i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(j,babelHelpers["extends"]({className:"_2ltv",badgeText:"",renderAsPill:!1,showText:!1},a))},"groupMemberBadge")};return c}(i.Component);a.propTypes={author:(c=b("prop-types")).object.isRequired,authorProfiles:c.object.isRequired,commentID:c.string,commentPrivacyValue:c.number,constituentBadge:c.object,groupMemberBadge:c.object,dialogUrl:c.string,disableAuthorLink:c.bool,focusOnMount:c.bool,groupOrEventID:c.string,hasConstituentBadge:c.bool,hasFriendsOnlyBadge:c.bool,hovercardLocation:c.string,isAdminViewer:c.bool,isAuthorBot:c.bool,isAuthorNonCoworker:c.bool,isAuthorWeakReference:c.bool,isAuthorOriginalPoster:c.bool,isFeatured:c.bool,isPublic:c.bool,showHovercard:c.bool,socialContext:c.object,useFirstName:c.bool,viewerIsAuthor:c.bool,openLinkInNewTab:c.bool,onLinkClickCallback:c.func};e.exports=a}),null);
__d("IntlLang",["UnicodeBidi"],(function(a,b,c,d,e,f){"use strict";f.getLang=a;c={HE:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f"};var g=new RegExp("["+c.HE+"]");function a(a){a=b("UnicodeBidi").firstStrongChar(a);if(a==null)return null;return g.exec(a)?"he":null}}),null);
__d("UFICommentBody.react",["cx","CommentPrivacyValue","IntlLang","Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UFICommentUtils","UFIConfig","UFIConstants","UnicodeBidi","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.commentText,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),e=b("UnicodeBidi").isDirectionLTR(c),f=!e,g=e&&b("Locale").isRTL()?"ltr":f&&!b("Locale").isRTL()?"rtl":null,i=b("IntlLang").getLang(c),j=b("UFICommentUtils").getCommentBodyInterpolator(a.groupOrEventID,a.ufiInstanceID,a.commentFBID,!!a.isLiveStreaming,a.commentPrivacy);j=h.jsx(b("TruncatedTextWithEntities.react"),{className:"UFICommentBody"+(a.showEmojisStandalone?" _iqk":""),interpolator:j,ranges:a.commentRanges,textDelightRanges:a.textDelightRanges,text:c,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:a.maxLength,maxLines:a.maxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,showEmojisStandalone:a.showEmojisStandalone,"data-ft":d,dir:g,lang:i,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:!0,shouldExpand:this.props.shouldExpand},"comment-body");if(a.socialContext)j=h.jsx("div",{children:j},"body");else{c=(e&&b("Locale").isRTL()?"_5wjy":"")+(e&&b("Locale").isRTL()?" _5wjz":"")+(f&&!b("Locale").isRTL()?" _5wj-":"")+(f&&!b("Locale").isRTL()?" _5wj_":"");j=c?h.jsx("div",{className:c,children:j},"body"):[" ",j]}return h.jsx("span",{children:j})};return c}(h.Component);a.propTypes={commentText:(c=b("prop-types")).string.isRequired,commentRanges:c.array,commentPrivacy:c.oneOf(Object.values(b("CommentPrivacyValue"))),textDelightRanges:c.array,showEmojisStandalone:c.bool,groupOrEventID:c.string,maxLength:c.number,maxLines:c.number,socialContext:c.object,markViewerHasInteracted:c.func,ufiInstanceID:c.string,commentFBID:c.oneOfType([c.string,c.number]),isLiveStreaming:c.bool,shouldExpand:c.bool};e.exports=a}),null);
__d("XUICircleDotsButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.label;a=a.tooltip;var e=this.props.title;!this.props.title&&!a&&(e=d);return i.jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:d,title:e,"data-hover":a&&"tooltip","data-tooltip-alignh":a&&"center","data-tooltip-content":a,className:b("joinClasses")(c,"_6eib")}))};return c}(i.Component);e.exports=a;a.defaultProps={label:h._("Qu\u1ea3n l\u00fd")}}),null);
__d("XUIEditButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.label,c=this.props.title;!this.props.title&&!this.props.tooltip&&(c=a);return i.jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:a,title:c,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:b("joinClasses")(this.props.className,"_5upq _5upr")}))};return c}(i.Component);e.exports=a;a.defaultProps={label:h._("Ch\u1ec9nh s\u1eeda")}}),null);
__d("UFICommentMenu.react",["ix","cx","AuthorPinnedCommentLogger","Bootloader","Image.react","React","XUICircleDotsButton.react","XUICloseButton.react","XUIDotsButton.react","XUIEditButton.react","fbglyph","joinClasses","keyMirror","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j,k,l,m,n,o=b("keyMirror")({EDIT:!0,CLOSE:!0,CHEVRON:!0,DOTS:!0,TOOLTIP:!0});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloading:!1,bootloaded:!1,needsExpand:!1},d.onClickGuard=function(a){if(d.state.bootloading)return;else!d.state.bootloaded&&d.props.menuData&&(d.setState({bootloading:!0}),b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react"],function(a,b,c,d){j=a,k=b,l=c,m=c.Item,n=d,this.setState({bootloading:!1,bootloaded:!0,needsExpand:!0})}.bind(babelHelpers.assertThisInitialized(d)),"UFICommentMenu.react"));d.props.onClick&&d.props.onClick(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){return this.state.needsExpand&&!b.needsExpand?!1:!0};d.componentDidUpdate=function(){this.state.needsExpand&&(this.refs.menu.showPopover(),this.props.onMenuShown&&this.props.onMenuShown(),this.setState({needsExpand:!1}))};d.$1=function(){switch(this.props.menuType){case o.EDIT:return b("XUIEditButton.react");case o.CLOSE:return b("XUICloseButton.react");case o.DOTS:return this.props.showRedesign?b("XUICircleDotsButton.react"):b("XUIDotsButton.react");case o.TOOLTIP:return p;case o.CHEVRON:default:return q}};d.$2=function(a){var c=this;return a.map(function(a){var d=c.$3(a.value),e=c.props.commentID||"";a.testid==="ufi_comment_menu_pin_by_author"?b("AuthorPinnedCommentLogger").logPinButtonShown(e.toString()):a.testid==="ufi_comment_menu_unpin_by_author"&&b("AuthorPinnedCommentLogger").logUnpinButtonShown(e.toString());return i.jsxs(m,{className:"_6mdw","data-testid":void 0,value:a.value,children:[d,a.label]},a.value)})};d.$3=function(a){switch(a){case"edit":return i.jsx("div",{className:"_6mdx _6mdy"});case"hide":return i.jsx("div",{className:"_6mdx _6mdz"});case"remove":return i.jsx("div",{className:"_6mdx _6md_"});case"delete_and_block":return i.jsx("div",{className:"_6mdx _6me0"});case"delete_comment_with_feedback":return i.jsx("div",{className:"_6mdx _7dg3"});case"delete_comment_and_remove_commenter":return i.jsx("div",{className:"_6mdx _6me1"});case"mute_member":return i.jsx("div",{className:"_6mdx _6me2"});case"hide_text_delights":return i.jsx("div",{className:"_6mdx _6me3"});case"pin_by_author":return i.jsx("div",{className:"_6mdx _6me4"});case"unpin_by_author":return i.jsx("div",{className:"_6mdx _6mea"});case"live_video_pin":return i.jsx("div",{className:"_6mdx _6meb"});case"live_video_unpin":return i.jsx("div",{className:"_6mdx _6mec"});case"view_edit_history":return i.jsx("div",{className:"_6mdx _6med"});case"report_to_moderator":return i.jsx("div",{className:"_6mdx _8og8"});case"community_moderated_delete":return i.jsx("div",{className:"_6mdx _8p6n"});case"mute":return i.jsx("div",{className:"_6mdx _8p6o"});case"stream_ban":return i.jsx("div",{className:"_6mdx _8p6p"});case"page_ban":return i.jsx("div",{className:"_6mdx _8p6q"});default:return null}};d.render=function(){var a=this.$1();if(this.state.bootloaded){var c=[];this.props.menuData&&c.push.apply(c,this.$2(this.props.menuData));this.props.menuUserSection&&(c&&c.push(i.jsx(n,{},"xui_separator")),c.push.apply(c,this.$2(this.props.menuUserSection)));c=i.jsx(l,{onItemClick:this.props.onAction,children:c});return i.jsx(k,babelHelpers["extends"]({},this.props,{alignh:"right",position:this.props.popoverMenuPosition,layerBehaviors:[j],menu:c,ref:"menu",onShow:this.props.onPopoverMenuShow,onHide:this.props.onPopoverMenuHide,children:i.jsx(a,babelHelpers["extends"]({},this.props,{href:"#",onClick:this.onClickGuard}))}))}else return i.jsx(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_1-be"+(this.props.showPinnedCommentNux?" UFICommentCloseButtonNux":"")),href:"#",onClick:this.onClickGuard}))};return c}(i.Component);a.MenuType=o;a.propTypes={menuData:(c=b("prop-types")).array,menuUserSection:c.array,menuType:c.oneOf(Object.keys(o)).isRequired,onAction:c.func,onClick:c.func,onMenuShown:c.func,commentID:c.string,position:c.oneOf(["above","below","left","right"])};var p=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return i.jsx("a",babelHelpers["extends"]({},this.props,{children:i.jsx(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("126426"),"data-tooltip-alignh":"center"})}))};return a}(i.Component),q=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return i.jsx("a",babelHelpers["extends"]({},this.props,{children:i.jsx(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("125792")})}))};return a}(i.Component);e.exports=a}),null);
__d("UFICommentPlayerStatsCard.react",["cx","fbt","React","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="\xb7";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(){return!1};d.$1=function(a){return i.jsx("span",{children:h._("{Stat Label}: {Stat Value}",[h._param("Stat Label",a.label),h._param("Stat Value",a.value)])})};d.$2=function(a){var c=a.stats.map(this.$1,this),d=[];for(var e=0;e<c.length;e+=2){var f=[];f.push(i.jsx("span",{children:c[e]},"first_stat"));e+1<c.length&&(f.push(i.jsx("span",{children:i.jsxs(b("XUIText.react"),{size:"header3",children:[" ",j," "]})},"separator")),f.push(i.jsx("span",{children:c[e+1]},"second_stat")));d.push(i.jsx("div",{children:f},"stat_row_"+e))}return i.jsxs("div",{className:"_3yk9",children:[i.jsx("div",{children:i.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:a.persona})}),d]})};d.render=function(){var a=this.props.comment.playerStatsCardData;return!a?i.jsx("div",{}):i.jsx("div",{className:"_3yk7",children:this.$2(a)})};return c}(i.Component);e.exports=a}),null);
__d("UFICommentTranslationLink.react",["cx","ContentTranslationStrings","Link.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(!this.props.showTranslation)return h.jsx(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$1()},children:b("ContentTranslationStrings").SEE_TRANSLATION});var c=this.props.translationData;if(!c)return h.jsx("div",{className:"UFITranslateLink",children:h.jsx(b("XUISpinner.react"),{background:"light",size:"small"})});var d=c.translatedText;if(!d||!d.text)return h.jsx("div",{className:"UFITranslationErrorText",children:b("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE});d=this.props.isShowingOriginal||c.trigger==="logged_out_auto_translation";d=d?h.jsx("div",{className:"UFITranslateAttribution",children:b("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED}):h.jsx(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$2()},children:this.props.shownInCommentActions?h.jsxs("div",{children:[h.jsx("span",{children:b("ContentTranslationStrings").SEE_ORIGINAL_LINK}),h.jsx("span",{children:" ("+c.sourceDialectName+")"})]}):b("ContentTranslationStrings").SEE_ORIGINAL_LINK});return d};d.$1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};d.$2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};return c}(h.Component);e.exports=a;a.defaultProps={shownInCommentActions:!1}}),null);
__d("UFICommentTranslationText.react",["cx","React","TruncatedTextWithEntities.react","UFIConfig","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;var c=b.props.translationData;b.state={shouldExpand:b.props.shouldExpand||!!c&&c.trigger==="see_translation"};return b}var d=c.prototype;d.render=function(){var a=this,c=this.props.translationData;if(!c||!this.props.showTranslation)return null;c=c.translatedText;return h.jsx(b("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:c.ranges,text:c.text,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:b("UFIConstants").commentTruncationLength,maxLines:b("UFIConstants").commentTruncationMaxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,dir:c.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return a.setState({shouldExpand:!a.state.shouldExpand})}})};return c}(h.Component);e.exports=a;a.defaultProps={shouldExpand:!1}}),null);
__d("UFICommentVPVTracker.react",["OnVisible.react","React","UFICommentVPVs","UFIConfig","clearTimeout","prop-types","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={timer:null},d.maybeScheduleVPVLogging=function(){if(d.state.timer!==null)return;var a=d.props.comment.id,c=d.props.contextArgs.instanceid;if(b("UFICommentVPVs").hasLoggedVPV(c,a))return;d.setState({timer:b("setTimeout")(function(){b("UFICommentVPVs").logVPV(c,a),d.setState({timer:null})},b("UFIConfig").vpvLoggingTimeout)})},d.cancelScheduledVPVLogging=function(){if(d.state.timer===null)return;b("clearTimeout")(d.state.timer);d.setState({timer:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.comment.id,c=this.props.contextArgs.instanceid,d=this.props.children;c=b("UFICommentVPVs").hasLoggedVPV(c,a);return g.jsx(b("OnVisible.react"),{onVisible:c?null:this.maybeScheduleVPVLogging,onHidden:c?null:this.cancelScheduledVPVLogging,children:d})};d.shouldComponentUpdate=function(a,b){return b.timer===this.state.timer};d.UNSAFE_componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};d.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};return c}(g.Component);a.propTypes={comment:b("prop-types").object.isRequired,contextArgs:b("prop-types").object.isRequired};e.exports=a}),null);
__d("UFICommentVoteArrow.react",["cx","fbt","Arbiter","JSResource","React","UFIConstants","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteFirstArrowNUX.react").__setRef("UFICommentVoteArrow.react")),k=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteNUX.react").__setRef("UFICommentVoteArrow.react")),l="TahoeView/selectCommentTab";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={enableFirstArrowNux:!0};c.arrowRef=null;c.setArrowRef=function(a){c.arrowRef=a,c.$1()&&c.forceUpdate()};return c}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.isFirstComment&&this.props.contextArgs.feedLocationType===131&&(this.setState({enableFirstArrowNux:!1}),b("Arbiter").subscribe(l,function(){return a.setState({enableFirstArrowNux:!0})}))};d.render=function(){var a=this,c=this.props,d=c.arrowType,e=c.hasViewerVoted,f=c.onArrowClick;c=c.UIVersion;var g=d===b("UFIConstants").UFICommentVoteType.UPVOTE,j=g&&e;g=g&&!e;d=d===b("UFIConstants").UFICommentVoteType.DOWNVOTE;var k=d&&e;d=d&&!e;e=g?h._("T\u0103ng b\u1eadc"):d?h._("Gi\u1ea3m b\u1eadc"):void 0;return i.jsxs("a",{"aria-label":e,className:(c===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_4-4u":"")+(j?" _2wdx":"")+(g?" _2wdy":"")+(k?" _2wdz":"")+(d?" _2wd-":""),href:"#",onClick:function(){f(),a.shouldRenderArrowNUX=!0},ref:this.setArrowRef,role:"button",children:[this.$2(),this.$3()]})};d.$2=function(){if(!this.shouldRenderArrowNUX)return null;var a=null;this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&(a=this.props.nuxConfigs.voteArrowNUXV2);return!a||!this.arrowRef?null:i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(k,{context:this.arrowRef,nuxConfig:a,UIVersion:this.props.UIVersion,arrowNUXTextV2:this.props.arrowNUXTextV2})})};d.$1=function(){return Boolean(this.props.isFirstComment&&this.props.nuxConfigs.voteFirstArrowNUXV2&&this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&this.arrowRef&&this.state.enableFirstArrowNux)};d.$3=function(){return!this.$1()?null:i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(j,{context:this.arrowRef,firstArrowNUXTitleV2:this.props.firstArrowNUXTitleV2,firstArrowNUXBodyV2:this.props.firstArrowNUXBodyV2,nuxConfig:this.props.nuxConfigs.voteFirstArrowNUXV2})})};return c}(i.Component);e.exports=a}),null);
__d("UFICommentVoteArrowTooltip.react",["cx","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.UIVersion!==b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE||this.props.displayedArrowTooltipType===b("UFIConstants").UFICommentVoteType.NONE)return null;var a=null;switch(this.props.displayedArrowTooltipType){case b("UFIConstants").UFICommentVoteType.UPVOTE:a=this.props.promoteText;break;case b("UFIConstants").UFICommentVoteType.DOWNVOTE:a=this.props.demoteText;break}return a===null?null:h.jsx("div",{className:"_6cw5",children:a})};return c}(h.Component);e.exports=a}),null);
__d("UFICommentVoteCount.react",["cx","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.voteCount,e=c.voteState,f=c.UIVersion;c=c.voteCountFormatter;var g=e===(a=b("UFIConstants")).UFICommentVoteType.UPVOTE,i=e===a.UFICommentVoteType.DOWNVOTE;e=e===a.UFICommentVoteType.NONE;f=f===a.UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE;a=null;f&&(d<0?i?a=c(-1):a=c(0):a=c(d));return a===null?null:h.jsx("a",{className:(f?"_4-4u":"")+" _14d0"+(g?" _12a5":"")+(i?" _12a6":"")+(e?" _12a7":""),href:"#",children:a})};return c}(h.Component);e.exports=a}),null);
__d("UFICommentVote.react",["cx","React","UFICommentVoteArrow.react","UFICommentVoteArrowTooltip.react","UFICommentVoteCount.react","UFIConstants","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(d){var e;e=a.call(this,d)||this;e.state={displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE};e.$2=function(){e.setState({displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE})};c.disableFirstArrowTooltipDisplay=e.props.nuxConfigs.voteArrowNUXV2!==null;e.$1=b("debounce")(e.$2,e.props.arrowTooltipDisplayTimeMS);return e}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.contextArgs,e=c.feedback,f=c.UIVersion,g=c.voteCount,i=c.voteState,j=c.onUpArrowClick,k=c.onDownArrowClick,l=c.arrowNUXTextV2,m=c.firstArrowNUXTitleV2;c=c.firstArrowNUXBodyV2;var n=this.props.voteCountFormatter(g).length<4;return h.jsxs("div",{className:(f===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_2tm9":"")+(n?" _6jru":"")+(n?"":" _6jrv"),children:[h.jsx(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.UPVOTE,contextArgs:d,feedback:e,hasViewerVoted:i===b("UFIConstants").UFICommentVoteType.UPVOTE,UIVersion:f,onArrowClick:function(){j(),a.$3(b("UFIConstants").UFICommentVoteType.UPVOTE)},isFirstComment:this.props.isFirstComment,arrowNUXTextV2:l,firstArrowNUXTitleV2:m,firstArrowNUXBodyV2:c,nuxConfigs:this.props.nuxConfigs}),h.jsx(b("UFICommentVoteCount.react"),{voteCount:g,voteCountFormatter:this.props.voteCountFormatter,voteState:i,UIVersion:f}),h.jsx(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.DOWNVOTE,contextArgs:d,feedback:e,hasViewerVoted:i===b("UFIConstants").UFICommentVoteType.DOWNVOTE,UIVersion:f,onArrowClick:function(){k(),a.$3(b("UFIConstants").UFICommentVoteType.DOWNVOTE)},arrowNUXTextV2:l,firstArrowNUXTitleV2:m,firstArrowNUXBodyV2:c,nuxConfigs:this.props.nuxConfigs}),this.props.promoteText&&this.props.demoteText&&h.jsx(b("UFICommentVoteArrowTooltip.react"),{displayedArrowTooltipType:this.state.displayedArrowTooltipType,UIVersion:f,promoteText:this.props.promoteText,demoteText:this.props.demoteText})]})};d.$3=function(a){if(c.disableFirstArrowTooltipDisplay){c.disableFirstArrowTooltipDisplay=!1;return}var d=this.state.displayedArrowTooltipType;d===b("UFIConstants").UFICommentVoteType.NONE?this.props.voteState===a?this.$2():this.$4(a):d===a?this.$2():this.$4(a)};d.$4=function(a){this.setState({displayedArrowTooltipType:a}),this.$1()};return c}(h.Component);e.exports=a;a.disableFirstArrowTooltipDisplay=!1;a.defaultProps={arrowTooltipDisplayTimeMS:0,arrowNUXTextV2:"",firstArrowNUXTitleV2:"",firstArrowNUXBodyV2:"",nuxConfigs:{voteArrowNUXV2:null,voteFirstArrowNUXV2:null},voteCountFormatter:function(a){return a.toString()}}}),null);
__d("UFICommentVoteContainer.react",["FluxContainer","React","ReactDOM","UFICommentAction","UFICommentVote.react","UFICommentVoteSyncStore","UFIConstants","intlSummarizeNumber","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=function(a){return b("intlSummarizeNumber")(a)};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("UFICommentVoteSyncStore")]};c.calculateState=function(a,c){return{voteCount:b("UFICommentVoteSyncStore").getVoteCount(c.comment.fbid),voteState:b("UFICommentVoteSyncStore").getVoteState(c.comment.fbid)}};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.comment,e=c.contextArgs,f=c.feedback;c=c.UIVersion;var i=this.state,j=i.voteCount,k=i.voteState,l=b("ReactDOM").findDOMNode(this.refs.trigger);return g.jsx(b("UFICommentVote.react"),{contextArgs:e,feedback:f,UIVersion:c,voteCount:j,voteState:k,onUpArrowClick:function(){return a.$1(e,d,l,k)},onDownArrowClick:function(){return a.$2(e,d,l,k)},isFirstComment:this.props.isFirstComment,promoteText:d.upvoteLabel,demoteText:d.downvoteLabel,arrowTooltipDisplayTimeMS:parseInt(d.voteLabelVisibleDuration*1e3,10),arrowNUXTextV2:d.arrowNUXTextV2,firstArrowNUXTitleV2:d.firstArrowNUXTitleV2,firstArrowNUXBodyV2:d.firstArrowNUXBodyV2,nuxConfigs:d.voteNuxConfigs,voteCountFormatter:h})};d.$1=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.UPVOTE)};d.$2=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.DOWNVOTE)};d.$3=function(a,c,d,e,f){this.context.dispatch(b("UFICommentAction").changeVote(a,c,d,e,f))};return c}(g.Component);a.contextTypes={dispatch:b("prop-types").func};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UFILiveCommentRedesignActions.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","UFIReactionsLinkImpl.react","UFIThreadedFacecastCommentsUtils","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j=b("React");function a(a){var c=a.comment,d=a.commentMenu,e=a.contextArgs,f=a.feedback;if(c.__typename==="local")return null;var h=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(c,e,f);return j.jsxs("div",{className:"_6hz3",children:[j.jsx(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},e,{ftentidentifier:c.id}),comment:c,reaction:c.viewerreaction,supportedReactions:f.supportedreactions,ftIdentifier:e.ftentidentifier,showAlternateButtonForLiveStreamingRedesign:!0}),a.isInLiveVideoReplyMode||!b("UFIThreadedFacecastCommentsUtils").isEnabled(e)?null:j.jsx(b("AbstractButton.react"),{className:"_6hyz",label:i._("Tr\u1ea3 l\u1eddi"),labelIsHidden:!0,onClick:function(a){a.preventDefault(),h&&h()},role:"button",image:j.jsx(b("Image.react"),{src:g("608136")})}),d]})}}),null);
__d("UFILiveCommentTimestamp.react",["cx","fbt","Middot.react","React","ShimButton.react","TimeOffset","Tooltip.react","UFIVideoPlayerRegistry","VideoTimestampsClicksWWWTypedLogger","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.comment,d=a.contextArgs;a=a.isInLiveVideoReplyMode;a=c.parentcommentid&&a;var e=null;if(!a){var f=typeof c.videoTimeOffset==="number"?c.videoTimeOffset:0;e=i.jsx(b("ShimButton.react"),{className:"_39g5",form:"link",onClick:function(a){a.preventDefault();a=new(b("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(f).setIsContentTimestamp(!0);c.__typename==="local"?a.setLocalCommentFeedbackID(c.ftentidentifier):a.setCommentID(c.fbid);a.log();b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(d.instanceid,f)},children:b("TimeOffset").timeToTimestamp(f)})}c.postedLiveState==="Live"?a=i.jsx(b("Tooltip.react"),{tooltip:h._("B\u00ecnh lu\u1eadn \u0111\u01b0\u1ee3c \u0111\u0103ng trong khi video \u0111ang ph\u00e1t tr\u1ef1c ti\u1ebfp"),children:i.jsx(b("Middot.react"),{className:"_5rr7"})}):c.postedLiveState==="OnDemand"?a=i.jsx(b("Tooltip.react"),{tooltip:h._("B\u00ecnh lu\u1eadn \u0111\u01b0\u1ee3c \u0111\u0103ng sau khi video tr\u1ef1c ti\u1ebfp k\u1ebft th\u00fac"),children:i.jsx(b("Middot.react"),{className:"_5rra"})}):a=i.jsx(b("Middot.react"),{className:"_5rra"});return i.jsxs("span",{children:[a,e]})};return c}(i.Component);a.propTypes={comment:(c=b("prop-types")).shape({fbid:c.string,__typename:c.string,postedLiveState:c.oneOf(["Live","OnDemand"]),videoTimeOffset:c.number,parentcommentid:c.string}).isRequired,contextArgs:c.shape({instanceid:c.string.isRequired}).isRequired,isInLiveVideoReplyMode:c.bool.isRequired};e.exports=a}),null);
__d("UFIReactionBadgeDecorator.react",["cx","React","UFICommentReactionCount.react","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=270,j=180,k=200;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootElement=null,c.renderAtBottomCanceller=null,c.state={renderAtBottom:!0},c.$1=function(a){c.rootElement=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.onRenderAtBottomChange&&this.props.onRenderAtBottomChange(this.state.renderAtBottom);var c=i;this.props.contextArgs.source===17?c=j:this.props.contextArgs.source===41&&(c=k);var d=!0;this.renderAtBottomCanceller=b("queryThenMutateDOM")(function(){d=a.rootElement!=null&&a.rootElement.offsetWidth>=c||a.props.isFullWidthAttachment===!0},function(){a.renderAtBottomCanceller=null,d||(a.setState({renderAtBottom:!1}),a.props.onRenderAtBottomChange&&a.props.onRenderAtBottomChange(!1))})};d.componentWillUnmount=function(){this.renderAtBottomCanceller&&this.renderAtBottomCanceller.cancel()};d.render=function(){var a,c=this.props.comment.reactioncount>0&&this.props.contextArgs.feedLocationType!=182&&this.props.contextArgs.feedLocationType!=130?h.jsx(b("UFICommentReactionCount.react"),{comment:this.props.comment,actorForPost:this.props.feedback.actorforpost,supportedReactions:this.props.feedback.supportedreactions,contextArgs:this.props.contextArgs,showLiveStreamingRedesign:this.props.showLiveStreamingRedesign}):null;return h.jsxs("div",{className:"_10la"+(this.state.renderAtBottom?" _10lg":"")+(this.props.isFlexibleWidthAttachment?" _t-l":"")+(this.props.isFullWidthAttachment?" _3qr8":"")+("comment_place_info"===((a=this.props.comment)!=null?(a=a.attachment)!=null?a.type:a:a)?" _m_9":""),ref:this.$1,children:[this.props.children,h.jsx("div",{className:"_10lo"+(this.props.comment.reactioncount?" _10lp":""),children:c})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoTipJarCommentBackground.react",["ix","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=[g("99652"),g("99653"),g("99654")];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i[parseInt(this.props.tipOptionIndex,10)];return a?h.jsx(b("Image.react"),{src:a}):null};return c}(h.Component);e.exports=a}),null);
__d("XGamesVideoModeratorDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/moderator/",{page:{type:"String"},ref_key:{type:"String"},ref:{type:"String"},external_ref:{type:"Enum",defaultValue:"unknown",enumType:1},no_cs_redirect:{type:"Bool",defaultValue:!1}})}),null);
__d("XUFIEditCommentNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/edit/nux/",{})}),null);
__d("UFIComment.react",["ix","cx","fbt","requireCond","requireDeferred","Arbiter","AsyncRequest","BootloadedComponent.react","Bootloader","CurrentUser","Dialog","EmojiRenderer","FluxContainer","FRXServerFbt.react","cr:1157215","GamesVideoCommunityModerationController","HovercardLink","HTML","IdentityBadges.react","IdentityBadgeUtils","Image.react","InlineBlock.react","JSResource","LiveVideoPinnedCommentUtils","LivingRoomProfileTileBadge.react","LoadingDialog.react","NFXContextFactory","NFXURI","QE2Logger","React","ReactDOM","ShareNowConstants","ShimButton.react","SubscriptionsHandler","SutroBlingBarGatingConfig","SutroPhase2GatingConfig","Text.react","TrackingNodes","UFIActorIconContainer.react","UFICentralUpdates","UFICommentAction","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentLiveVideoAnnouncementImage.react","UFICommentMenu.react","UFICommentPlayerStatsCard.react","UFIComments","UFICommentTranslationLink.react","UFICommentTranslationText.react","UFICommentUtils","UFICommentVoteContainer.react","UFICommentVPVDTracker.react","UFICommentVPVTracker.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIConfig","UFIConstants","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFILiveCommentRedesignActions.react","UFILiveCommentTimestamp.react","UFILivePinnedCommentStore","UFIODSLogger","UFIReactionBadgeDecorator.react","UFIRootRegistry","UFISharedDispatcher","UFIThreadedFacecastCommentsUtils","URI","VideoTipJarCommentBackground.react","XGamesVideoModeratorDashboardController","XRapidReportingDialogController","XUFIEditCommentNuxController","XUIButton.react","XUIText.react","asset","emptyFunction","fbglyph","gkx","joinClasses","keyMirror","prop-types","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("requireDeferred")("PresenceStatus"),l=b("React"),m=(j||(j=b("URI"))).goURIOnNewWindow,n=b("UFIConstants").UFIStatus,o="share_on_comment_v1",p=b("keyMirror")({edit:!0,hide:!0,remove:!0,embed:!0,manageConstituentBadge:!0,delete_and_block:!0,delete_comment_with_feedback:!0,delete_comment_and_remove_commenter:!0,mute_member:!0,hide_text_delights:!0,bulk_review:!0,pin_by_author:!0,live_video_pin:!0,live_video_unpin:!0,report:!0,report_to_moderator:!0,community_moderated_delete:!0,mute:!0,stream_ban:!0,page_ban:!0,moderator_dashboard:!0});a="ufi_comment_close_button";c="ufi_highlighted_comment";d="ufi_comment_menu_delete";f="ufi_comment_menu_edit";h="ufi_comment_menu_hide";var q="ufi_comment_menu_report";a="ufi_comment_menu_embed";c="ufi_comment_menu_manage_constituent_badge";var r="ufi_comment_menu_delete_and_block",s="ufi_comment_menu_delete_comment_and_remove_commenter",t="ufi_comment_menu_delete_comment_with_feedback",u="ufi_comment_menu_mute_member",v="ufi_comment_hide_text_delights",w="ufi_comment_menu_pin_by_author",x="ufi_comment_menu_unpin_by_author",y="ufi_comment_menu_live_video_pin",z="ufi_comment_menu_live_video_unpin",A="ufi_comment_menu_report_to_moderator",B="ufi_comment_menu_community_moderated_delete",C="ufi_comment_menu_mute",D="ufi_comment_menu_stream_ban",E="ufi_comment_menu_page_ban",F="ufi_comment_menu_moderator_dashboard",G={testid:d,value:p.remove,label:i._("X\u00f3a b\u00ecnh lu\u1eadn...")},H={testid:f,value:p.edit,label:i._("Ch\u1ec9nh s\u1eeda...")},I={testid:h,value:p.hide,label:i._("\u1ea8n b\u00ecnh lu\u1eadn")},J={testid:a,value:p.embed,label:i._("Nh\u00fang")},K={testid:r,value:p.delete_and_block,label:i._("X\u00f3a b\u00ecnh lu\u1eadn v\u00e0 ch\u1eb7n ng\u01b0\u1eddi d\u00f9ng...")},L={testid:t,value:p.delete_comment_with_feedback,label:i._("G\u1ee1 b\u00ecnh lu\u1eadn")},M={testid:s,value:p.delete_comment_and_remove_commenter,label:i._("X\u00f3a b\u00ecnh lu\u1eadn v\u00e0 th\u00e0nh vi\u00ean")},N={testid:d,value:p.remove,label:i._("X\u00f3a...")},O={testid:c,value:p.manageConstituentBadge,label:i._("Qu\u1ea3n l\u00fd huy hi\u1ec7u c\u1eed tri")},P={testid:u,value:p.mute_member,label:i._("C\u1ea5m th\u00e0nh vi\u00ean \u0111\u0103ng")},Q={testid:u,value:p.mute_member,label:i._("B\u1ecf c\u1ea5m th\u00e0nh vi\u00ean \u0111\u0103ng")},R={testid:v,value:p.hide_text_delights,label:i._("G\u1ee1 hi\u1ec7u \u1ee9ng v\u0103n b\u1ea3n")},S={testid:v,value:p.hide_text_delights,label:i._("Th\u00eam hi\u1ec7u \u1ee9ng v\u0103n b\u1ea3n")},T={testid:w,value:p.pin_by_author,label:i._("Ghim b\u00ecnh lu\u1eadn")},U={testid:x,value:p.pin_by_author,label:i._("B\u1ecf ghim b\u00ecnh lu\u1eadn")},V={testid:y,value:p.live_video_pin,label:i._("Ghim b\u00ecnh lu\u1eadn")},W={testid:z,value:p.live_video_unpin,label:i._("B\u1ecf ghim b\u00ecnh lu\u1eadn")},X={testid:A,value:p.report_to_moderator,label:i._("B\u00e1o c\u00e1o v\u1edbi ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t")},Y={testid:B,value:p.community_moderated_delete,label:i._("X\u00f3a b\u00ecnh lu\u1eadn")},aa={testid:C,value:p.mute,label:i._("C\u1ea5m b\u00ecnh lu\u1eadn")},ba={testid:D,value:p.stream_ban,label:i._("C\u1ea5m kh\u1ecfi video \u0111ang ph\u00e1t")},ca={testid:E,value:p.page_ban,label:i._("C\u1ea5m tr\u00ean Trang")},da={testid:F,value:p.moderator_dashboard,label:i._("\u0110i \u0111\u1ebfn b\u1ea3ng \u0111i\u1ec1u khi\u1ec3n d\u00e0nh cho ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t")},ea=14,Z=3,$=null,fa=function(a){a=a.status;return a===n.FAILED_ADD||a===n.FAILED_EDIT},ga=function(a,b){return!!a.tipOptionIndex&&b==="newsstand"};function ha(a){return a.commenterIsFOF!==void 0&&a.userIsMinor!==void 0&&a.reportLink!==void 0&&a.isBroadcast!==void 0&&a.showStreamBanControls!==void 0}f=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getReportActionMenuData=function(){var a=this.props.contextArgs.frxActionTitle;return{testid:q,value:p.report,label:a?l.jsx(b("FRXServerFbt.react"),{blob:a}):null}};function d(c){var d;d=a.call(this,c)||this;d.$1=null;d.$3=function(a){d.context.dispatch(b("UFICommentAction").markAsSpam(d.props.contextArgs,d.props.comment,a.target)),d.setState({markedAsSpamHere:!0})};d.$14=function(a){d.context.dispatch(b("UFICommentAction").markAsNotSpam(d.props.contextArgs,d.props.comment,a)),d.setState({markedAsSpamHere:!1})};d.$15=function(a){d.$16(a,function(){return d.setState({isInlinePageDeleted:!0})})};d.$17=function(a){d.context.dispatch(b("UFICommentAction").remove(d.props.contextArgs,d.props.comment,a.target,b("emptyFunction")))};d.$23=function(a){d.context.dispatch(b("UFICommentAction").inlineBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineBanned:!0})};d.$24=function(a){d.context.dispatch(b("UFICommentAction").undoInlineBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineBanned:!1})};d.$25=function(a){d.context.dispatch(b("UFICommentAction").inlineStreamBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineStreamBanned:!0})};d.$26=function(a){d.context.dispatch(b("UFICommentAction").undoInlineStreamBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineStreamBanned:!1})};d.$27=function(a){d.context.dispatch(b("UFICommentAction").inlineSuspension(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid,900)),d.setState({isInlineSuspended:!0})};d.$28=function(a){d.context.dispatch(b("UFICommentAction").undoInlineSuspension(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineSuspended:!1})};d.$31=function(a,c){var e=c.item,f=e.getValue();window.setTimeout(function(){var c=this.props,d=c.comment,g=c.contextArgs;c=c.feedback;if(f===p.remove)this.$17(a);else if(f===p.delete_and_block)this.$18(e);else if(f===p.delete_comment_with_feedback)this.$19(a);else if(f===p.delete_comment_and_remove_commenter)this.$20(a);else if(f===p.edit)this.context.dispatch(b("UFICommentAction").edit(g,d));else if(f===p.hide)this.$3(a);else if(f===p.report)this.$4(a);else if(f===p.report_to_moderator)this.$7(a);else if(f===p.community_moderated_delete)this.$8(a);else if(f===p.mute)this.$9(a);else if(f===p.stream_ban)this.$10(a);else if(f===p.page_ban)this.$11(a);else if(f===p.moderator_dashboard)this.$12(a);else if(f===p.mute_member)this.$21(a);else if(f===p.bulk_review)this.context.dispatch(b("UFICommentAction").bulkReview(g,d));else if(f===p.hide_text_delights)this.$22(a);else if(f===p.embed)this.context.dispatch(b("UFICommentAction").embed(g,d));else if(f===p.manageConstituentBadge)this.context.dispatch(b("UFICommentAction").manageConstituentBadge(g,d));else if(f===p.pin_by_author)this.context.dispatch(b("UFICommentAction").pinByAuthor(g,d,!d.ispinnedbyauthor));else if(f===p.live_video_pin||f===p.live_video_unpin){var h=f===p.live_video_unpin;if(h&&g.isLiveVOD){var i=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);i!=null&&this.$2.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(d.id,i,g))}else b("LiveVideoPinnedCommentUtils").toggleCommentPin({commentFBID:d.fbid,commentID:d.id,contextArgs:g,isPinned:h})}else b("UFICentralUpdates").inform(f,{comment:d,feedback:c})}.bind(babelHelpers.assertThisInitialized(d)),0)};d.$32=function(){d.setState({showPinnedCommentNux:!1})};d.$35=function(a){d.setState({renderReactionBadgeAtBottom:a})};var e=c.comment;c=c.contextArgs;d.state={isHighlighting:e.highlightcomment,wasHighlighted:e.highlightcomment,markedAsSpamHere:!1,isInlinePageDeleted:!1,isInlineBanned:!1,isInlineSuspended:!1,isInlineStreamBanned:!1,loggedLiveUpdate:!1,showBody:!1,hideSpamComment:!1,loadingDialogWhenSharing:!1,isHiddenInStreamingBecauseParentIsHidden:!1,hasSeenEditNux:!0,editNuxHelpUri:"",liveStreamingRedesignPopoverMenuShown:!1,renderReactionBadgeAtBottom:!0,showPinnedCommentNux:!!c.shouldShowPinnedCommentNux,authorPresenceStatus:0};return d}d.getStores=function(){return[b("UFILivePinnedCommentStore")]};d.calculateState=function(a,c){c=b("UFILivePinnedCommentStore").getPinnedCommentID(c.contextArgs.ftentidentifier);return babelHelpers["extends"]({},a,{currentPinnedCommentID:c})};c.$4=function(a){b("CurrentUser").isWorkUser()?this.$5(a):this.$6(a)};c.$7=function(a){var c=this;b("Bootloader").loadModules(["RelayFBEnvironment","ReportCommunityModerationEventMutation"],function(a,b){b=b.reportComment;b(a,c.props.comment.fbid,function(){})},"UFIComment.react")};c.$8=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"NONE")};c.$9=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"MUTE",900)};c.$10=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"STREAM_BAN")};c.$11=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"PAGE_BAN")};c.$12=function(a){a=b("XGamesVideoModeratorDashboardController").getURIBuilder().getURI();m(a)};c.$6=function(a){a=b("XRapidReportingDialogController").getURIBuilder().setString("context",this.$13()).getURI();new(b("AsyncRequest"))(a).send()};c.$5=function(a){new(b("AsyncRequest"))().setURI(b("NFXURI").withContextString(this.$13())).send()};c.$13=function(){var a="feed";this.props.contextArgs.location==="event"?a="event":this.props.feedback.isownerpage?a="page":this.props.feedback.grouporeventid&&this.props.feedback.grouporeventid.length>0&&(a="group");return b("NFXContextFactory").withEntReportable({reportable_ent_token:this.props.comment.fbid,story_location:a,entry_point:"comment"})};c.$16=function(a,c,d){d===void 0&&(d=!1),this.context.dispatch(b("UFICommentAction").remove(this.props.contextArgs,this.props.comment,a.target,c,d))};c.$18=function(a){this.context.dispatch(b("UFICommentAction").removeAndBlock(this.props.contextArgs,this.props.comment,a,b("emptyFunction")))};c.$19=function(a){this.context.dispatch(b("UFICommentAction").deleteCommentWithFeedback(this.props.contextArgs,this.props.comment,a.target))};c.$20=function(a){this.context.dispatch(b("UFICommentAction").delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};c.$21=function(a){this.context.dispatch(b("UFICommentAction").mute_member(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};c.$22=function(a){var c=this;this.context.dispatch(b("UFICommentAction").toggle_text_delights(this.props.contextArgs,this.props.comment,a.target));b("Bootloader").loadModules(["TextDelightNUXLogger"],function(a){a.menuItemClick(c.props.comment.fbid)},"UFIComment.react")};c.$29=function(a){this.$30()&&this.setState({liveStreamingRedesignPopoverMenuShown:a})};c.$33=function(){return[H,N]};c.$34=function(){this.setState({showBody:!1}),this.props.comment.translationdata||this.context.dispatch(b("UFICommentAction").translate(this.props.contextArgs,this.props.comment,"see_translation"))};c.$36=function(){var a=null,c=null,d=null,e=null,f=b("UFICommentMenu.react").MenuType.CLOSE,g=this.props,h=g.comment;g=g.contextArgs;var j=h.canEditConstituentTitle,k=h.canembed&&b("UFIConfig").showCommentEmbedOption,l=h.canremove&&h.candeleteandblockcommenter,m=!1,n=!1,o=!1;if(this.$30()&&g.enablePinLiveComments&&!h.tipOptionIndex&&h.__typename!=="local"){var p=h.id===this.state.currentPinnedCommentID;if(g.islivestreaming)m=!p,n=p;else if(g.isLiveVOD&&p){p=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);n=p!=null}}g=this.props.contextArgs.feedLocationType===66?!1:this.props.hideAsSpamForPageAdmin;p=this.props.contextArgs.feedLocationType===36&&this.props.feedback.isownerpage;var q=this.props.comment.candeletecommentwithfeedback;q=q?L:G;var r=!this.props.viewerIsAuthor&&(!h.canremove||p||b("CurrentUser").isWorkUser()&&b("gkx")("967282"));h.canremove&&!g?this.props.viewerIsAuthor&&h.canedit?(e=k?i._("Ch\u1ec9nh s\u1eeda, x\u00f3a ho\u1eb7c nh\u00fang"):i._("Ch\u1ec9nh s\u1eeda ho\u1eb7c x\u00f3a"),f=b("UFICommentMenu.react").MenuType.EDIT,j?(c=[O],c=c.concat(this.$33())):c=this.$33()):this.props.showRemoveReportMenu?(k?e=r?i._("G\u1ee1, \u1ea9n, b\u00e1o c\u00e1o ho\u1eb7c nh\u00fang n\u1ed9i dung n\u00e0y"):i._("G\u1ee1, \u1ea9n ho\u1eb7c nh\u00fang n\u1ed9i dung n\u00e0y"):e=r?i._("G\u1ee1, \u1ea9n ho\u1eb7c b\u00e1o c\u00e1o n\u1ed9i dung n\u00e0y"):i._("G\u1ee1 ho\u1eb7c \u1ea9n n\u1ed9i dung n\u00e0y"),c=[q,I],r&&(c.push(this.getReportActionMenuData()),o=!0)):this.props.feedback.customcommentactionlinks?(e=k?i._("G\u1ee1"):i._("G\u1ee1 ho\u1eb7c nh\u00fang"),c=[q],f=b("UFICommentMenu.react").MenuType.EDIT):(e=k?i._("G\u1ee1 ho\u1eb7c nh\u00fang"):i._("G\u1ee1"),!k&&!l&&!m&&!n?a=this.$17:c=[N]):this.props.feedback.customcommentactionlinks&&!p?(e=k?i._("\u1ea8n ho\u1eb7c nh\u00fang"):i._("\u1ea8n"),c=[I],f=b("UFICommentMenu.react").MenuType.EDIT):h.canreport&&(k?e=r?i._("\u1ea8n, b\u00e1o c\u00e1o ho\u1eb7c nh\u00fang n\u1ed9i dung n\u00e0y"):i._("\u1ea8n ho\u1eb7c nh\u00fang"):e=r?i._("\u1ea8n ho\u1eb7c b\u00e1o c\u00e1o n\u1ed9i dung n\u00e0y"):i._("\u1ea8n"),c=[I],r&&(c.push(this.getReportActionMenuData()),o=!0));k&&(c||(c=[]),c.push(J),f=b("UFICommentMenu.react").MenuType.CHEVRON);h.canremove&&h.canviewerremovecommenter&&(d||(d=[]),d.push(M));l&&(c||(c=[]),c.push(K));typeof h.ispinnedbyauthor==="boolean"&&(h.canviewerpin&&!h.ispinnedbyauthor&&(c||(c=[]),c.push(T)),h.canviewerunpin&&h.ispinnedbyauthor&&(c||(c=[]),c.push(U)));if(m||n){c||(c=[]);g=m?V:W;c.length>0&&c[0]===H?c.splice(1,0,g):c.unshift(g);e=i._("Ki\u1ec3m duy\u1ec7t b\u00ecnh lu\u1eadn")}h.canmutemembers&&!this.props.viewerIsAuthor&&(d||(d=[]),h.ismuted?d.push(Q):d.push(P));h.canedit&&this.props.viewerIsAuthor&&this.$37(h)&&(c||(c=[]),h.text_delights_are_hidden?c.push(S):c.push(R));if(this.props.feedback.customcommentactionlinks)for(var s in this.props.feedback.customcommentactionlinks){j=this.props.feedback.customcommentactionlinks[s];if(!j.showInMenu)continue;c||(c=[]);c.push({testid:j.type,value:j.type,label:j.title})}q=c?c.length:0;p=d?d.length:0;(q+p>1||f===b("UFICommentMenu.react").MenuType.CLOSE)&&(f=b("UFICommentMenu.react").MenuType.DOTS);r=b("GamesVideoCommunityModerationController").get();r&&r.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs)&&(this.props.viewerIsAuthor?(c=this.$33(),e=i._("Ch\u1ec9nh s\u1eeda, x\u00f3a ho\u1eb7c nh\u00fang")):!this.props.comment.authorIsModerator?(c=[I],this.props.feedback.canviewermoderate?(c.push(Y,aa,ba,ca,da),e=i._("\u1ea8n ho\u1eb7c ki\u1ec3m duy\u1ec7t b\u00ecnh lu\u1eadn n\u00e0y")):(e=i._("\u1ea8n ho\u1eb7c b\u00e1o c\u00e1o b\u00ecnh lu\u1eadn n\u00e0y"),c.push(X)),h.canreport&&c.push(this.getReportActionMenuData())):c=[this.getReportActionMenuData()],c.push(J));return{closeTooltip:e,menuType:f,onClick:a,menuData:c,menuUserSection:d,reportActionPossible:o}};c.$38=function(){var a=this,c=b("XUFIEditCommentNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setHandler(function(b){a.setState({hasSeenEditNux:!!b.payload.seen_nux,editNuxHelpUri:b.payload.help_uri})}).send()};c.$37=function(a){if(a.body&&a.body.ranges&&a.canhidetextdelights){for(var b=0;b<a.body.ranges.length;b++)if(a.body.ranges[b].campaign)return!0;return a.text_delights_are_hidden}return!1};c.$39=function(){var a=this;if(this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.props.inReviewView)return l.jsx("div",{});var c=this.$36(),d=c.onClick,e=c.menuData,f=c.menuUserSection,g=c.closeTooltip;c=c.menuType;var h=null;this.props.comment.canedit&&this.props.viewerIsAuthor&&this.$37(this.props.comment)&&(h=l.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:l.jsx("div",{}),bootloadLoader:b("JSResource")("TextDelightNUX.react").__setRef("UFIComment.react"),container:this,contextRef:function(){return a.refs.comment_menu},nuxId:5551,instance:this.props.comment.fbid,children:i._("B\u1ea1n ki\u1ec3m so\u00e1t \u0111\u01b0\u1ee3c vi\u1ec7c b\u1ea1n v\u00e0 b\u1ea1n b\u00e8 c\u00f3 nh\u00ecn th\u1ea5y m\u00e0u v\u0103n b\u1ea3n v\u00e0 ho\u1ea1t \u1ea3nh tr\u00ean b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng.")}),d===null&&(d=function(c){b("Bootloader").loadModules(["TextDelightNUXLogger"],function(b){b.menuClick(a.props.comment.fbid)},"UFIComment.react")}));var j="UFICommentCloseButton"+(d===null&&e===null?" hdn":"")+(h!==null?" UFICommentCloseButtonNux":"")+"",k=null,m=null;this.props.contextArgs.viewas&&(k="/ajax/profile/link_disabled_in_viewas.php",m="dialog",d=null);var n=this.$40(),o=this.$30(),p=function(a){d!=null&&d(a)},q=b("GamesVideoCommunityModerationController").get();q=q&&q.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs);k=l.jsx(b("UFICommentMenu.react"),{ajaxify:k,"aria-label":g,className:j,"data-testid":void 0,onClick:p,rel:m,tooltip:g,menuUserSection:f,menuData:e,menuType:c,onMenuShown:this.$32,onAction:this.$31,popoverMenuPosition:o||q?"above":null,ref:"comment_menu",showRedesign:o,showPinnedCommentNux:this.state.showPinnedCommentNux,onPopoverMenuShow:function(){return a.$29(!0)},onPopoverMenuHide:function(){return a.$29(!1)},commentID:this.props.comment.fbid});return l.jsxs("span",{className:(n?"":"_36rj")+(n?" _2tm9":"")+(n?" _4-4u":"")+(n?" _6cdx":"")+(this.state.liveStreamingRedesignPopoverMenuShown||((j=this.props.contextArgs.liveVideoCommentRedesignConfig)==null?void 0:j.alwaysShowButtons)?" _6jcy":""),children:[o?l.jsx(b("UFILiveCommentRedesignActions.react"),{contextArgs:this.props.contextArgs,comment:this.props.comment,commentMenu:k,feedback:this.props.feedback,isInLiveVideoReplyMode:!!this.props.isInLiveVideoReplyMode}):k,h,this.$41()]})};c.$41=function(){var a=this,c=this.state.showPinnedCommentNux;return c?l.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:l.jsx("div",{}),bootloadLoader:b("JSResource")("UFIGroupsPinnedCommentsNux.react").__setRef("UFIComment.react"),contextRef:function(){return a.refs.comment_menu},commentID:this.props.comment.fbid}):null};c.componentDidMount=function(){var a=this,c=this.props,d=c.comment,e=c.contextArgs;c=c.orderingMode;this.$2=new(b("SubscriptionsHandler"))();if(e.source===1){var f=!!d.parentcommentid;f?b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","legacy"):b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","legacy")}d.trackingID&&this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(d.trackingID+b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);if(this.state.isHighlighting){var g=e.feedLocationType===137,h=b("ReactDOM").findDOMNode(this),i=d.body&&d.body.text;i&&(h=this.$1);var j=parseInt(d.scrolltopoffset||0,10);this.$2.addSubscriptions(b("Bootloader").loadModules(["UFIScrollHighlight"],function(a){window.setTimeout(function(){b("UFIRootRegistry").isSnowliftNode(e.rootid)||g?g?a.actOnWorkplaceHubSnowliftElem(h,j):a.actOnSnowliftElem(h,j):a.actOn(h,j,i)},0)},"UFIComment.react"));this.setState({isHighlighting:!1})}d.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").mounted(e,{comment:d,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);f=function(b,c){return a.setState({markedAsSpamHere:!0})};b("Arbiter").subscribe("bulk_actions_hidden",f);var l=d.parentcommentid;if(c==="live_streaming"&&!!l){this.$2.addSubscriptions(b("UFICentralUpdates").subscribe("update-actions",function(c,d){if(!d.actions)return;d.actions.forEach(function(c){switch(c.actiontype){case"fa-type:confirm-remove":if(c.commentid===l){c=b("UFIComments").getComment(l);a.setState({isHiddenInStreamingBecauseParentIsHidden:c?c.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}break;default:return}})}));f=b("UFIComments").getComment(l);this.setState({isHiddenInStreamingBecauseParentIsHidden:f?f.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}e.enableCommentPresence&&!this.props.viewerIsAuthor&&this.$2.addSubscriptions(k.onReady(function(b){var c=function(){a.setState({authorPresenceStatus:b.get(d.author)})};a.$2.addSubscriptions(b.subscribe("change",c));c()}))};c.componentDidUpdate=function(a){this.props.comment.trackingID&&a.isOptimisticallyRendered&&!this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(this.props.comment.trackingID+b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT),this.props.comment.originalTimestamp&&this.props.comment.canedit&&this.state.editNuxHelpUri===""&&this.$38(),a.comment.attachment==null&&this.props.comment.attachment!=null&&b("Arbiter").inform("ufi/commentChanged",{ftentidentifier:this.props.contextArgs.ftentidentifier})};c.componentWillUnmount=function(){var a=this;this.props.comment.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").unmounted(a.props.contextArgs,{comment:a.props.comment,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);this.$2.release()};c.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return a.comment!==c.comment||a.showReplyLink!==c.showReplyLink||a.isFirst!==c.isFirst||a.isLast!==c.isLast||a.isFirstCommentComponent!==c.isFirstCommentComponent||a.isLastCommentComponent!==c.isLastCommentComponent||a.isFirstComponent!==c.isFirstComponent||a.isLastComponent!==c.isLastComponent||a.isFeatured!==c.isFeatured||a.hasPartialBorder!==c.hasPartialBorder||a.showTranslation!==c.showTranslation||a.shouldTranslateAllVisibleComments!==c.shouldTranslateAllVisibleComments||b.wasHighlighted!==d.wasHighlighted||b.isHighlighting!==d.isHighlighting||b.markedAsSpamHere!==d.markedAsSpamHere||b.isInlinePageDeleted!==d.isInlinePageDeleted||b.isInlineBanned!==d.isInlineBanned||b.isInlineStreamBanned!==d.isInlineStreamBanned||b.isInlineSuspended!==d.isInlineSuspended||b.showBody!==d.showBody||b.hideSpamComment!==d.hideSpamComment||b.loadingDialogWhenSharing!==d.loadingDialogWhenSharing||b.isHiddenInStreamingBecauseParentIsHidden!==d.isHiddenInStreamingBecauseParentIsHidden||b.hasSeenEditNux!==d.hasSeenEditNux||b.currentPinnedCommentID!==d.currentPinnedCommentID||b.showPinnedCommentNux!==d.showPinnedCommentNux||a.livingRoomPresenceBadge!==c.livingRoomPresenceBadge};c.$30=function(){var a=this.props.contextArgs.liveVideoCommentRedesignConfig;return!!a&&a.showRedesign&&this.props.orderingMode==="live_streaming"};c.render=function(){var a=this;if(this.state.isHiddenInStreamingBecauseParentIsHidden)return null;var c=this.props,d=c.contextArgs,e=c.comment;c=c.feedback;var f=e.status===n.DELETED,g=e.status===n.LIVE_DELETED,h=e.status===n.SPAM_DISPLAY;this.state.hideSpamComment;if(f)return null;f=this.state.markedAsSpamHere;var j=this.state.isInlinePageDeleted,k=this.props.hideAsSpamForPageAdmin,m=this.props.communityModerationState,o=this.state.isInlineBanned,p=this.state.isInlineStreamBanned,q=this.state.isInlineSuspended,r=b("GamesVideoCommunityModerationController").get();if(m==="REMOVED"&&b("cr:1157215")!=null)return l.jsx(b("cr:1157215"),{authorIsViewer:this.props.viewerIsAuthor,menuData:[N],onCommentMenuAction:this.$31,onClick:this.props.viewerIsAuthor?function(){r&&r.showCommentRemovedDialog(e.id)}:null});e.islive&&!this.state.loggedLiveUpdate&&this.setState({loggedLiveUpdate:!0});m=ha(e);var s=!e.status&&(e.isunseen||e.__typename==="local");if(!e.status&&c.lastseentime){var t=e.originalTimestamp||(e.timestamp||{}).time||0;s=s||t>c.lastseentime}t=d.markedcomments;t&&t[e.legacyid]&&(s=!0);(this.props.orderingMode==="live_streaming"||this.props.isLivePinnedComment)&&(s=!1);c="UFIRow"+(this.props.inReviewView?" UFICommentInReview":"")+(this.props.isFirst?" _48ph":"")+(this.props.isLast?" UFILastComment":"")+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(!this.$40()&&(this.props.isFirstComponent||b("SutroBlingBarGatingConfig").enabled&&this.props.isFirstCommentComponent)?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.props.isLivePinnedComment?" UFILivePinnedComment":"");t=i._("B\u00ecnh lu\u1eadn");var u=i._("Tr\u1ea3 l\u1eddi b\u00ecnh lu\u1eadn");u=e.parentcommentid?u:t;if(m)if($){t=null;m=null;var v=null,w=null,x=null,y=null;k?(v=o?this.$24:this.$23,w=p?this.$26:this.$25,y=q?this.$28:this.$27,j?t=i._("B\u1ea1n \u0111\u00e3 x\u00f3a b\u00ecnh lu\u1eadn n\u00e0y \u0111\u1ec3 kh\u00f4ng ai c\u00f3 th\u1ec3 xem."):f&&(t=i._("Gi\u1edd ch\u1ec9 c\u00f3 ng\u01b0\u1eddi \u0111\u00e3 vi\u1ebft b\u00e0i vi\u1ebft n\u00e0y v\u00e0 b\u1ea1n b\u00e8 c\u1ee7a h\u1ecd m\u1edbi nh\u00ecn th\u1ea5y n\u00f3."),x=this.$15,m=this.$14)):f&&(t=i._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u00e3 b\u1ecb \u1ea9n."),x=this.$15,m=this.$14);r&&r.shouldSubscribeToCommunityModerationEvents(d)&&(v=function(){r.removeComment(a.props.comment.fbid,"PAGE_BAN")},w=function(){r.removeComment(a.props.comment.fbid,"STREAM_BAN")},y=function(){r.removeComment(a.props.comment.fbid,"MUTE",900)},x=function(){r.removeComment(a.props.comment.fbid,"NONE")});if(t)return l.jsx("div",{className:c,role:"article","aria-label":u,children:l.jsx($,{notice:t,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:m,onBanAction:v,onStreamBanAction:w,onSuspendAction:y,onDeleteAction:x,isInlineBanned:o,isInlinePageDeleted:j,isInlineStreamBanned:p,isInlineSuspended:q,hideAsSpamForPageAdmin:k,pageID:this.props.feedback.ownerid})})}else b("Bootloader").loadModules(["UFICommentRemovalControls.react"],function(a){$=a,window.setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),"UFIComment.react");f="comment_"+b("uniqueID")();t=b("joinClasses")(c,"UFIComment"+(fa(e)?" UFICommentFailed":"")+(ga(e,d.location)?" UFITipJarComment":"")+(g||h||this.props.isTranslucent||e.parentNeedsApproval?" UFITranslucentComment":"")+(this.state.isHighlighting?" highlightComment":"")+" _4oep"+(this.props.hasPartialBorder?" UFIPartialBorder":"")+(s?" UFIUnseenItem":"")+(e.isAnnouncement?" UFICommentLiveVideoAnnouncement":"")+(e.isLivingRoomAnnouncement?" UFICommentLivingRoomAnnouncement":""));m=this.renderComment();v=d.mayLogVPVs&&this.props.orderingMode==="ranked_threaded";e.__typename!=="local"&&!e.isAnnouncement&&(v&&(m=l.jsx(b("UFICommentVPVTracker.react"),{comment:e,contextArgs:d,children:m})),m=l.jsx(b("UFICommentVPVDTracker.react"),{renderedComment:{comment:e,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)},contextArgs:this.props.contextArgs,children:m}));return l.jsx("div",{id:f,className:t,role:"article","aria-label":u,"data-testid":void 0,"data-ft":this.props["data-ft"],children:m})};c.$42=function(a,c){c=this.props;var d=c.comment,e=c.feedback,f=d.body?d.body.text:"",g=b("UFICommentUtils").shallowCopyRanges(d.body&&d.body.ranges),h=b("UFICommentUtils").shallowCopyRanges(d.body&&d.body.delight_ranges);f=b("UFICommentUtils").getCommentTextWithTruncatedURIs(g,f);var i=null,j=null;!c.isLocallyComposed&&!this.state.wasHighlighted&&(j=b("UFIConstants").commentTruncationLength,i=b("UFIConstants").commentTruncationMaxLines);if(d.body&&d.body.markdown_enabled&&d.body.markup&&b("HTML").isHTML(d.body.markup))return l.jsx("span",{dangerouslySetInnerHTML:d.body.markup});if(d.isJoinEvent)return l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIJoinEvent.react").__setRef("UFIComment.react"),bootloadPlaceholder:l.jsx("span",{}),comment:d});var k=this.$43(f);return l.jsx(b("UFICommentBody.react"),{socialContext:d.socialcontext,commentText:f,commentRanges:g,commentPrivacy:d.privacy_value,textDelightRanges:h,showEmojisStandalone:k,groupOrEventID:e.grouporeventid,maxLength:j,maxLines:i,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:a,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:d.fbid,isLiveStreaming:c.contextArgs.islivestreaming})};c.$43=function(a){if(!a||a.length>ea*Z)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=Z};c.$44=function(a){var c=this;this.setState({loadingDialogWhenSharing:!0});a=a&&a.shareOptions&&a.shareOptions.shareNowURI?a.shareOptions.shareNowURI:null;a&&new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){c.setState({loadingDialogWhenSharing:!1}),c.$45(a.payload.message||b("ShareNowConstants").success)}).setErrorHandler(function(a){c.setState({loadingDialogWhenSharing:!1}),c.$45(a.payload.message||b("ShareNowConstants").error)}).send()};c.$45=function(a){return new(b("Dialog"))().setBody(a).setAutohide(2500).setModal(!0).show()};c.$46=function(a){return this.$47(a)?l.jsx("span",{className:"UFICommentShareOptionsItem",children:l.jsx(b("XUIButton.react"),{image:l.jsx(b("Image.react"),{src:g("363444")}),label:i._("Nh\u1eafn tin"),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.shareMessageURI?a.shareOptions.shareMessageURI:null,rel:"dialog",use:"default"})}):null};c.$48=function(a){return this.$49(a)?l.jsx("span",{className:"UFICommentShareOptionsItem",children:l.jsx(b("XUIButton.react"),{image:l.jsx(b("Image.react"),{src:g("363577")}),label:i._("Chia s\u1ebb..."),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.sharePostURI?a.shareOptions.sharePostURI:null,rel:"dialog",use:"default"})}):null};c.$50=function(a){var c=this,d=a&&a.shareOptions&&a.shareOptions.privacyText?i._("Chia s\u1ebb ngay ({privacyText})",[i._param("privacyText",a.shareOptions.privacyText)]):"";return this.$51(a)?l.jsx("span",{className:"UFICommentShareOptionsItem",children:l.jsx(b("XUIButton.react"),{image:l.jsx(b("Image.react"),{src:g("113894")}),label:d,href:"#",onClick:function(){return c.$44(a)},use:"default"})}):null};c.$51=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareNowURI!=null};c.$47=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareMessageURI!=null};c.$49=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.sharePostURI!=null};c.$52=function(){return l.jsx("div",{children:i._("Chia s\u1ebb b\u00e0i vi\u1ebft:")})};c.$53=function(a){a=a.contextArgs.shareLinkConfig;var c=this.$50(a),d=this.$48(a);a=this.$46(a);var e=this.$52(),f=this.$54(),g=c||d||a;b("QE2Logger").logExposureForUser(o);return g?l.jsxs("span",{className:"UFICommentShareOptionsContainer",children:[l.jsx("span",{className:"UFICommentShareOptionsDescription",children:e}),l.jsxs("span",{className:"UFICommentShareOptions",children:[c,d,a,f]})]}):null};c.$54=function(){return l.jsx(b("LoadingDialog.react"),{shown:this.state.loadingDialogWhenSharing})};c.$55=function(a,c,d){return c.isLivingRoomAnnouncement?l.jsxs("div",{children:[l.jsx(b("InlineBlock.react"),{alignv:"middle",height:0,children:d}),l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILivingRoomAnnouncementCTA.react").__setRef("UFIComment.react"),bootloadPlaceholder:l.jsx("span",{}),comment:c})]}):l.jsxs("div",{className:"UFICommentLiveVideoAnnouncementBody _4qkn",children:[l.jsx(b("InlineBlock.react"),{alignv:"middle",className:"UFICommentLiveVideoAnnouncementMessage",height:0,children:d}),l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("UFIComment.react"),bootloadPlaceholder:l.jsx("span",{}),comment:c,contextArgs:a})]})};c.renderComment=function(){var a,c=this,d=this.props,e=d.comment,f=d.permalink,h=d.feedback,j=this.state.authorPresenceStatus,k=d.authorProfiles[e.author],m=e.status===n.SPAM_DISPLAY,o=e.status===n.LIVE_DELETED,p=this.$40();m=!(m||o||e.isAnnouncement||p);o=!1;this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1&&(o=!0);var q=h.canremoveall||e.hiddenbyviewer,r=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SMALL_ACTOR_PHOTO),s;if(!d.contextArgs.viewas&&!e.isAnnouncement){if(!k)throw new Error("Got unexpected null author on comment "+JSON.stringify(e)+" with profiles "+JSON.stringify(d.authorProfiles));s=b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(k,h.grouporeventid,e.hovercardlocation?e.hovercardlocation:"ufi",e.isauthorweakreference,{on_public_ufi:h.ispublic}).toString()}var t=e.isAnnouncement?null:l.jsx(b("UFICommentAuthorName.react"),{author:k,authorProfiles:d.authorProfiles,commentID:e.id?e.id.toString():null,commentPrivacyValue:e.privacy_value,constituentBadge:e.constituentTitle,disableAuthorLink:d.contextArgs.disableCommentAuthorLink||h.livegamingdisableauthorlinks,focusOnMount:d.focusOnMount,groupMemberBadge:e.groupmemberbadge,groupOrEventID:h.grouporeventid,isAdminViewer:d.feedback.isadminviewer,isAuthorBot:e.isauthorbot,isAuthorNonCoworker:e.isauthornoncoworker,isAuthorWeakReference:e.isauthorweakreference,isAuthorOriginalPoster:e.isauthororiginalposter,isFeatured:d.isFeatured,isPublic:h.ispublic,dialogUrl:e.dialogurl,hasConstituentBadge:e.hasConstituentBadge,hasFriendsOnlyBadge:e.hasFriendsOnlyBadge,hovercardLocation:e.hovercardlocation,showHovercard:!!s,socialContext:e.socialcontext,openLinkInNewTab:d.contextArgs.islivestreaming||d.contextArgs.isLiveVOD||d.contextArgs.isActiveLivingRoom,viewerIsAuthor:!!d.viewerIsAuthor}),u=this.$42(o,t),v=e.translationdata,w=v&&v.translatedText&&v.translatedText.text,x=!w||this.state.showBody||!!v&&v.trigger==="logged_out_auto_translation";w=this.props.showTranslation&&!v||!!v&&(!x||!w||v.trigger==="logged_out_auto_translation");var y;if(e.isAnnouncement)y=this.$55(d.contextArgs,e,u);else{var z;(e.istranslatable||!!v)&&(z=d.contextArgs.isActiveLivingRoom?d.shouldTranslateAllVisibleComments?l.jsxs("span",{children:[l.jsx(b("UFICommentTranslationText.react"),{shouldExpand:o,showTranslation:d.shouldTranslateAllVisibleComments,translationData:v}),l.jsx("span",{className:"_81y9",children:i._("\u0110\u01b0\u1ee3c d\u1ecbch t\u1ef1 \u0111\u1ed9ng")})]}):null:l.jsx("div",{children:l.jsx(b("UFICommentTranslationText.react"),{shouldExpand:o,showTranslation:w,translationData:v})}));y=l.jsxs("span",{children:[x||d.contextArgs.isActiveLivingRoom&&!d.shouldTranslateAllVisibleComments?u:null,z]})}o=null;d.comment.insightsComment&&(o=l.jsx(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!0,feedbackTargetID:d.contextArgs.ftentidentifier,commentId:d.comment.insightsComment.ufiCommentId,formattedValue:d.comment.insightsComment.insightsComment.formattedValue}));u=null;d.contextArgs.isLiveVOD&&(u=l.jsx(b("UFILiveCommentTimestamp.react"),{comment:e,contextArgs:d.contextArgs,isInLiveVideoReplyMode:!!d.isInLiveVideoReplyMode}));var A=!1;this.props.feedback.isgamingvideo&&this.props.contextArgs.feedLocationType===131&&((a=e.attachment)==null?void 0:a.type)==="share"&&(A=!0);a=A?null:l.jsx(b("UFICommentAttachment.react"),{allowCustomStickers:!0,comment:d.comment,isPinnedLivingRoomPhotoComment:this.props.isLivePinnedComment&&d.contextArgs.isActiveLivingRoom&&e.photo_comment&&!this.props.isStaticUFILoading});var B=l.jsx(b("UFICommentPlayerStatsCard.react"),{comment:d.comment}),C=k&&k.living_room_presence_badge==="HOST"?l.jsx(b("LivingRoomProfileTileBadge.react"),{asset:null,isSpeaking:!1,size:"regular",useBackgroundColor:!1}):null,D;if(this.state.hideSpamComment)D=l.jsx("div",{});else if(e.isAnnouncement)D=l.jsx(b("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:e.accentColor,contextArgs:d.contextArgs,glyphName:e.glyphName,image:e.image,isJoinEvent:e.isJoinEvent});else{var E=!h.livegamingdisableauthorlinks&&(k.uri||k.isBusinessPersona),F=E?b("UFICommentUtils").annotateProfileURIIfPublic(h.ispublic,k.uri):null;D=l.jsx(b("UFIActorIconContainer.react"),{actorID:e.author});var G=d.contextArgs.islivestreaming||d.contextArgs.isLiveVOD?"_blank":"_self";e.dialogurl?D=l.jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":r,"data-hovercard":s,ajaxify:e.dialogurl,rel:"dialog",target:G,href:F,children:[D,C,l.jsx("div",{className:"UFICommentAuthorPresence"+(j===2?" UFICommentAuthorActive":"")+(C!==null?" UFICommentAuthorLivingRoomHost":"")})]}):E&&(D=l.jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":r,"data-hovercard":s,target:G,href:F,children:[D,C,l.jsx("div",{className:"UFICommentAuthorPresence"+(j===2?" UFICommentAuthorActive":"")+(C!==null?" UFICommentAuthorLivingRoomHost":"")})]}))}E=null;if(this.props.isLivePinnedComment){r=i._("B\u00ecnh lu\u1eadn \u0111\u00e3 ghim");E=l.jsxs("span",{className:"UFILivePinnedCommentLabel",children:[l.jsx(b("Image.react"),{className:"UFILivePinnedCommentGlyph",src:g("139486")}),r]})}G=e.tipOptionIndex?l.jsx(b("VideoTipJarCommentBackground.react"),{tipOptionIndex:e.tipOptionIndex}):null;F=e.body&&e.body.text;j=!1;C=!1;F&&(C=this.$43(e.body.text));r=!this.state.hideSpamComment&&(e.photo_comment||e.video_comment||e.attachment||e.file_comment);r&&C&&(y=l.jsxs("div",{className:"_26f8",children:[y,m?this.$39():null]}));var H=null;if(!this.state.hideSpamComment&&e.privacy_value===1){k=d.viewerIsAuthor?h.actorshortname||h.actorname:k.firstName||k.name;H=l.jsxs("div",{className:"UFIPrivateCommentLabel"+(e.parentcommentid?" UFIPrivateCommentReplyLabel":"")+(!F&&!e.isAnnouncement||C?" UFIPrivateCommentActorOnly":""),children:[l.jsx("div",{className:"UFIPrivateCommentLabelIcon"}),e.parentcommentid?null:l.jsx("div",{className:"UFIPrivateCommentLabelText",children:i._("Ch\u1ec9 m\u00ecnh b\u1ea1n v\u00e0 {user} c\u00f3 th\u1ec3 xem b\u00ecnh lu\u1eadn n\u00e0y",[i._param("user",k)])})]})}k=e.parentcommentauthorid;var I=null;if(k!=null){k=d.authorProfiles[k];if(k&&!d.isInLiveVideoReplyMode&&d.orderingMode==="live_streaming"){k=i._("\u0110ang tr\u1ea3 l\u1eddi {name}",[i._param("name",k.firstName)]);I=l.jsx("div",{className:"_27di",children:this.$30()?l.jsx("a",{className:"_2iep _2iex",href:"#",onClick:b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(e,d.contextArgs,h),children:k}):l.jsx(b("XUIText.react"),{size:"body3",color:"secondary",children:k})})}}k=(F||e.isAnnouncement)&&!C?b("IdentityBadgeUtils").commentColorAnimationClass(e,h,d.contextArgs,d.isOptimisticallyRendered):null;var J=e.identityBadges&&e.identityBadges.length>0?l.jsx(b("IdentityBadges.react"),{badgeColorVariant:k!=null?"TEMPORARY":"NONE",badges:e.identityBadges,canShowMultipleBadges:d.contextArgs.canShowMultipleBadges,commentID:e.fbid}):null;I=l.jsx("span",{className:b("joinClasses")((!F&&!e.isAnnouncement?"UFICommentActorOnly":"")+(F||e.isAnnouncement?" UFICommentActorAndBody":"")+(e.isJoinEvent?" _4ql9":"")+(e.isAnnouncement&&e.ctaAction!=="none"?" _4qla":"")+(C?" _3re2":""),k),ref:function(a){c.$1=a},children:l.jsxs("div",{className:"UFICommentActorAndBodySpacing",children:[I,J,this.state.hideSpamComment?null:t,o,u,t||u?" ":null,H,y]})});o=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments?e.attachment&&(e.attachment.type==="comment_place_info"||e.attachment.type==="comment_product_info"||e.attachment.type==="gif")&&!e.photo_comment&&!e.video_comment:e.attachment&&(e.attachment.type==="share"||e.attachment.type==="comment_place_info"||e.attachment.type==="comment_product_info"||e.attachment.type==="gif")&&!e.photo_comment&&!e.video_comment;var K=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments&&e.attachment&&e.attachment.type==="share";r?a=l.jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,isFlexibleWidthAttachment:K,isFullWidthAttachment:o,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:a}):C?I=l.jsxs("span",{className:b("joinClasses")((!F&&!e.isAnnouncement?"UFICommentActorOnly":"")+(F||e.isAnnouncement?" UFICommentActorAndBody":"")+(e.isJoinEvent?" _4ql9":"")+(C?" _3re2":""),k),ref:function(a){c.$1=a},children:[J,this.state.hideSpamComment?null:t,u,t||u?" ":null,H,l.jsxs("div",{className:"_26f8",children:[l.jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:y}),m?this.$39():null]})]}):I=l.jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:I});j=!0;!F&&a?a=l.jsxs("div",{className:"_26f8",children:[a,m?this.$39():null]}):!C&&(F&&!a||F&&a)&&(I=l.jsxs("div",{className:"_26f8",children:[I,m?this.$39():null]}));var L;(e.istranslatable||!!v)&&(L=l.jsx(b("UFICommentTranslationLink.react"),{translationData:v,showTranslation:w,isShowingOriginal:x,onSeeTranslation:function(){return c.$34()},onSeeOriginal:function(){return c.setState({showBody:!0})},shownInCommentActions:!0}));r=e.isAnnouncement||this.state.hideSpamComment||this.props.inReviewView||this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.$30()?null:l.jsx(b("UFICommentActions.react"),{comment:e,feedback:h,hideReactionCount:j,parentCanComment:d.parentCanComment,permalink:f,viewerCanMarkNotSpam:Boolean(q),showPermalink:d.showPermalink,showReplyLink:d.showReplyLink,translateLink:L,contextArgs:d.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:d.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:d.orderingMode,isInLiveVideoReplyMode:d.isInLiveVideoReplyMode,isAuthorPinnedComment:d.isAuthorPinnedComment,renderCommentCloseButton:function(){return c.$39()},displayVerticalCommentVote:p,hasSeenEditNux:this.state.hasSeenEditNux,editNuxHelpUri:this.state.editNuxHelpUri,onEditNuxCloseClick:function(){c.setState({hasSeenEditNux:!0})},shouldHideAttachment:A});K=b("UFIComments").getCacheVariable("shareOnComment");o=this.props.contextArgs.feedLocationType===131&&this.props.isLocallyComposed&&K&&K[e.ftentidentifier]===e.id&&!e.parentcommentid?this.$53(d):null;k=p?l.jsx(b("UFICommentVoteContainer.react"),{comment:e,contextArgs:d.contextArgs,feedback:h,UIVersion:e.commentVoteUIVersion,isFirstComment:this.props.isFirstCommentComponent}):null;J=this.$30()&&e.reactioncount>0;t=l.jsxs("div",{children:[E,l.jsxs(b("UFIImageBlock.react"),{spacing:"medium",children:[D,l.jsxs("div",{className:p?"UFICommentContentBlockWithVote":"",children:[l.jsxs("div",{className:"UFICommentContentBlock",children:[l.jsxs("div",{className:"UFICommentContent"+(e.surveyGalleryHighlight?" _42wr":"")+(p?" UFICommentVerticalVoteFlexGrow":"")+(J?" UFICommentLiveRedesignBadgedContent":"")+(J&&this.state.renderReactionBadgeAtBottom?" UFICommentLiveRedesignPaddedBadgedContent":""),children:[I,this.state.hideSpamComment?null:a,this.state.hideSpamComment?null:B]}),r,o]}),k]}),G]})]});if(this.props.contextArgs.feedLocationType===159)return l.jsxs("div",{className:"_-ae",children:[l.jsx("div",{className:"_-ac"}),t]});else return t};c.$40=function(){return b("CurrentUser").isWorkUser()&&b("gkx")("1374251")?!this.props.inReviewView&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE:!this.props.inReviewView&&!this.props.contextArgs.islivestreaming&&this.props.orderingMode!=="live_streaming"&&b("gkx")("678268")&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE};return d}(l.Component);f.propTypes={authorProfiles:b("prop-types").object.isRequired,comment:b("prop-types").object.isRequired,contextArgs:b("prop-types").object.isRequired,feedback:b("prop-types").object.isRequired,"data-ft":b("prop-types").string,featuredCommentIDs:b("prop-types").array,focusOnMount:b("prop-types").bool,hasPartialBorder:b("prop-types").bool,hideAsSpamForPageAdmin:b("prop-types").bool,isFeatured:b("prop-types").bool,isFirst:b("prop-types").bool,isFirstCommentComponent:b("prop-types").bool,isFirstComponent:b("prop-types").bool,communityModerationState:b("prop-types").string,isLast:b("prop-types").bool,isLastCommentComponent:b("prop-types").bool,isLastComponent:b("prop-types").bool,isLivePinnedComment:b("prop-types").bool,isLocallyComposed:b("prop-types").bool,isStaticUFILoading:b("prop-types").bool,parentCanComment:b("prop-types").bool,permalink:b("prop-types").string,showPermalink:b("prop-types").bool,showRemoveReportMenu:b("prop-types").bool,showReplyLink:b("prop-types").bool,viewerIsAuthor:b("prop-types").bool,orderingMode:b("prop-types").string,markViewerHasInteracted:b("prop-types").func,showTranslation:b("prop-types").bool,shouldTranslateAllVisibleComments:b("prop-types").bool};f.contextTypes={dispatch:b("prop-types").func};e.exports=b("FluxContainer").create(f,{withProps:!0,pure:!1})}),null);
__d("UFIOrderingModeSelector.react",["cx","invariant","FBLogger","InlineBlock.react","Link.react","PopoverMenu.react","React","ReactXUIMenu"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReactXUIMenu").SelectableMenu,k=b("ReactXUIMenu").SelectableItem;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onMenuItemClick=function(a,b){c.props.onOrderChanged(b.item.getValue())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;if(this.props.orderingModes===null||this.props.orderingModes===void 0||this.props.orderingModes.length===0)return null;var c=this.props.orderingModes.filter(function(b){return b.value==a.props.selectedMode}).map(function(a){return a.name}).pop();c==null&&b("FBLogger")("comments").mustfix("Invalid ordering mode "+this.props.selectedMode+". Available modes: "+this.props.orderingModes.map(function(a){return a.value}).join(", ")+" on feedback target "+(this.props.contextArgs?this.props.contextArgs.ftentidentifier:"(unknown)"));c||h(0,5064);var d=i.jsx(j,{className:"_4tju",onItemClick:this.onMenuItemClick,children:this.props.orderingModes.map(function(b){return i.jsx(k,{value:b.value,label:b.name,selected:b.value===a.props.selectedMode,children:i.jsxs("div",{className:"_3scm",children:[i.jsx("div",{className:"_3scn",children:b.name}),i.jsx("div",{className:"_3sco",children:b.description})]})},b.value)})});return i.jsx("div",{className:"_3scp",children:i.jsx(b("InlineBlock.react"),{children:i.jsx(b("PopoverMenu.react"),{className:"_3scs",menu:d,alignh:this.props.alignh||"right",children:i.jsxs(b("Link.react"),{children:[c,i.jsx("div",{className:"_3sct"})]})})})})};return c}(i.Component);e.exports=a}),null);
__d("CommentsOrderingModeSelectorUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAvailableOrders=function(a){this.$1.available_orders=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEndOrder=function(a){this.$1.end_order=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setPostOwnerFbid=function(a){this.$1.post_owner_fbid=a;return this};c.setStartOrder=function(a){this.$1.start_order=a;return this};return a}();c={available_orders:!0,end_order:!0,post_fbid:!0,post_owner_fbid:!0,start_order:!0};e.exports=a}),null);
__d("UFIOrderingModeSelectorContainer.react",["CommentsOrderingModeSelectorUsageTypedLogger","Random","React","SubscriptionsHandler","UFIConfig","UFIInstanceAction","UFIOrderingModeSelector.react","UFIOrderingModeStore","UFISharedDispatcher","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedMode:b("UFIOrderingModeStore").getState().get(d.props.contextArgs.instanceid)},d.$1=null,d.onOrderChanged=function(a){var c=d.props.feedback;if(c.orderingmodes&&b("UFIConfig").logChangeOrderingModeUsageSampleRate>b("Random").random()){var e=c.orderingmodes.map(function(a){return a.value});new(b("CommentsOrderingModeSelectorUsageTypedLogger"))().setStartOrder(d.state.selectedMode).setEndOrder(a).setPostFbid(c.commentstargetfbid).setPostOwnerFbid(c.ownerid).setAvailableOrders(e).log()}b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").changeOrderingMode(d.props.contextArgs,a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFIOrderingModeStore").addListener(function(){if(!a.$1)return;a.setState({selectedMode:b("UFIOrderingModeStore").getState().get(a.props.contextArgs.instanceid)})}))};d.componentWillUnmount=function(){this.$1&&(this.$1.release(),this.$1=null)};d.shouldComponentUpdate=function(a,b){return this.state.selectedMode!==b.selectedMode};d.render=function(){return g.jsx(b("UFIOrderingModeSelector.react"),{alignh:this.props.alignh||"right",onOrderChanged:this.onOrderChanged,orderingModes:this.props.feedback.orderingmodes,selectedMode:this.state.selectedMode,contextArgs:this.props.contextArgs})};return c}(g.Component);a.propTypes={feedback:(c=b("prop-types")).shape({defaultcommentorderingmode:c.string.isRequired,orderingmodes:c.arrayOf(c.shape({name:c.string.isRequired,description:c.string.isRequired,selected:c.bool.isRequired,value:c.string.isRequired})).isRequired,commentstargetfbid:c.string.isRequired,ownerid:c.string.isRequired}).isRequired,contextArgs:c.object.isRequired,alignh:c.string};e.exports=a}),null);
__d("UFIReactionsSocialSentence.react",["cx","ActorURI","BanzaiLogger","Bootloader","React","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionTooltipController"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSentenceClick=function(a){if(d.props.reactionsLink)return;var c=d.props.feedback,e=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:c.actorforpost,feedbackTargetID:c.entidentifier}).toString();b("BanzaiLogger").log("WebReactionsBlingLoggerConfig",{feedback_id:c.entidentifier,"interface":"www",action:"click",target_type:"social_sentence"});var f=a.currentTarget;b("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(e,f,"dialog")},"UFIReactionsSocialSentence.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){var c=a.actorforpost;a=a.entidentifier;return{"data-hover":"tooltip","data-tooltip-uri":b("ActorURI").create(b("XUFIReactionTooltipController").getURIBuilder().setString("ft_ent_identifier",a).getURI(),c)}};d.render=function(){var a=this.props.feedback,c=this.props.contextArgs,d=a.likesentences,e=a.reactioncountreduced,f=a.reactionsentences,g=a.viewerreaction,i=a.reactioncount||0;g=g?i>3:i>2;var j=null;g&&(j=this.$1(a));g=null;f&&f.current?g=f.current.text:d&&d.current?g=d.current.text:e!=="0"&&(g=e);f=null;g&&(f=h.jsx("span",{className:"_4arz",children:h.jsx("span",babelHelpers["extends"]({},j,{children:g}))}));d=null;i&&(d=h.jsx("span",{"aria-hidden":!!f,className:"_1g5v",children:h.jsx("span",babelHelpers["extends"]({},j,{children:e}))}));g=b("UFIReactionsProfileBrowserUtils").getPageURI({actorID:a.actorforpost,feedbackTargetID:a.entidentifier});this.props.reactionsLink&&(g=this.props.reactionsLink);i=c&&c.source===41;return h.jsx("div",{className:"_1vaq",children:h.jsx("div",{className:"_ipp",children:h.jsx(b("UFIReactionsBlingTokens.react"),{className:"_4ar- _ipn",contextArgs:c,feedback:a,max:3,children:h.jsxs("a",{className:"_2x4v",href:g,onClick:this.onSentenceClick,rel:"ignore",role:"button",children:[d,i?null:f]})})})})};return c}(h.Component);e.exports=a}),null);
__d("XUFICommentTooltipController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/tooltip/",{ft_ent_identifier:{type:"String",required:!0},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("XUFIShareTooltipController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/share/tooltip/",{ft_ent_identifier:{type:"String",required:!0},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("UFIReactionsBlingSocialSentence.react",["csx","cx","fbt","ActorURI","BanzaiLogger","Bootloader","BootloadOnRender.react","DOMQuery","JSResource","LazyComponent.react","NumberFormat","PagesPrivateReplyConstants","React","SutroPhase2GatingConfig","Tooltip.react","UFIPrivateReplyIndicator.react","UFIReactionsSocialSentence.react","URI","XUFICommentTooltipController","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","XUFIShareTooltipController","renderCrosspostedTooltipText"],(function(a,b,c,d,e,f,g,h,i){var j,k=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onCommentsClick=function(a){d.props.onCommentClick&&(d.props.onCommentClick(a),a.preventDefault()),d.logCountAction("comments","click")},d.onSeensClick=function(a){var c=d.props.feedback,e=b("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",c.entidentifier).getURI();e=b("ActorURI").create(e,c.actorforpost);d.launchDialog(e.toString(),a.currentTarget);d.logCountAction("seens","click");a.preventDefault()},d.onSharesClick=function(a){if(d.isCompactSearch())return;var c=d.props.feedback,e=c.sharefbid||c.targetfbid;e=b("ActorURI").create(new(j||(j=b("URI")))("/ajax/shares/view").setQueryData({target_fbid:e}),c.actorforpost);d.launchDialog(e.toString(),a.currentTarget);d.logCountAction("shares","click");a.preventDefault()},d.onViewsClick=function(a){d.logCountAction("views","click")},d.onViewsHover=function(a){d.canSeeConsolidatedTooltip()&&d.logCountAction("views","hover")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.launchSnowlift=function(a,c){b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(a,c)},"UFIReactionsBlingSocialSentence.react")};d.launchDialog=function(a,c){b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(a,c,"dialog")},"UFIReactionsBlingSocialSentence.react")};d.logCountAction=function(a,c){b("BanzaiLogger").log("WebReactionsBlingLoggerConfig",{feedback_id:this.props.feedback.entidentifier,"interface":"www",action:c,target_type:"count",target_subtype:a})};d.renderComments=function(){var a=this.props.contextArgs.islivestreaming;if(!this.props.commentCount||!this.props.aboveUFI&&this.props.contextArgs.feedbackMode==="expanded"&&!a||this.props.contextArgs.disableCommentAndLikeForGroupAds||this.props.aboveUFI&&!this.props.commentCount)return null;a=isNaN(this.props.feedback.commentcountreduced)&&!a?this.props.feedback.commentcountreduced:b("NumberFormat").formatInteger(this.props.commentCount);var c=b("ActorURI").create(b("XUFICommentTooltipController").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost);return k.jsx("div",{className:"_36_q",children:k.jsxs("a",{className:"_ipm _-56","data-comment-prelude-ref":this.props["data-comment-prelude-ref"],"data-ft":this.props["data-ft"],"data-hover":"tooltip","data-tooltip-uri":c,href:this.props.href,onClick:this.onCommentsClick,role:"button",children:[this.props.children,i._({"Comment":"{count} b\u00ecnh lu\u1eadn","Comments":"{count} b\u00ecnh lu\u1eadn"},[i._param("count",a),i._enum(this.props.commentCount===1?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})])]})})};d.renderSeens=function(){if(this.props.contextArgs.entstream||!this.props.feedback.seencount)return null;var a=this.props.feedback,c=a.seencount,d;a.seenbyall&&!a.disable_seen_by_everyone?d=i._("M\u1ecdi ng\u01b0\u1eddi \u0111\u00e3 xem"):c===1?d=i._("1 ng\u01b0\u1eddi \u0111\u00e3 xem"):d=i._("{count} ng\u01b0\u1eddi \u0111\u00e3 xem",[i._param("count",c)]);c=new(j||(j=b("URI")))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:a.entidentifier});var e=b("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",a.entidentifier).getURI();e=b("ActorURI").create(e,a.actorforpost);return k.jsx("div",{className:"_36_q",children:k.jsx("span",{ref:"seen_by_text",children:k.jsx("a",{href:e,"data-hovercard":c.toString(),className:"_ipm _2x0l",onClick:this.onSeensClick,children:d})})})};d.renderShares=function(){if(!this.props.feedback.sharecountreduced)return null;var a=this.props.feedback.sharefbid||this.props.feedback.targetfbid,c;this.isCompactSearch()&&this.props.href!=null?c=this.props.href:c=b("ActorURI").create(new(j||(j=b("URI")))("/shares/view").setQueryData({id:a}),this.props.feedback.actorforpost);a=b("ActorURI").create(b("XUFIShareTooltipController").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost);return k.jsx("div",{className:"_36_q",children:k.jsx("a",{className:"_ipm _2x0m","data-hover":"tooltip","data-tooltip-uri":a,href:c,onClick:this.onSharesClick,role:"button",children:i._({"*":"{number} l\u01b0\u1ee3t chia s\u1ebb","_1":"1 l\u01b0\u1ee3t chia s\u1ebb"},[i._plural(this.props.feedback.sharecount,"number")])})})};d.renderSaves=function(){return!this.props.contextArgs.saveCount||!this.props.contextArgs.saveCollectionId?null:k.jsx("div",{className:"_36_q",children:k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("UFIReactionsSaveDialog.react").__setRef("UFIReactionsBlingSocialSentence.react"),placeholder:k.jsx("div",{}),component:k.jsx(b("LazyComponent.react"),{saveCount:this.props.contextArgs.saveCountReduced,collectionId:this.props.contextArgs.saveCollectionId,buttonText:this.props.contextArgs.saveButtonTitle,storyId:this.props.contextArgs.saveStoryID,isSaveCountLink:this.props.contextArgs.isSaveCountLink})})})};d.renderViews=function(){var a=null;if(!this.props.contextArgs.viewCount&&this.props.contextArgs.source===41){var c=document.getElementById(this.props.contextArgs.rootid);if(c){c=b("DOMQuery").scry(c,"^._1rh0 ._yjk")[0];a=c?c.getAttribute("data-view-count"):null}}c=this.props.contextArgs.viewCount||a;var d=null;this.canSeeConsolidatedTooltip()&&(d=this.renderViewsTooltip());if(!c)return null;a=this.props.contextArgs.viewCount?this.props.contextArgs.viewCountReduced:a;return k.jsx("div",{className:"_36_q",children:k.jsx(b("Tooltip.react"),{tooltip:d,"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-position":"above",className:"_ipm _2x0m",onClick:this.onViewsClick,onMouseOver:this.onViewsHover,children:i._({"View":"{count} l\u01b0\u1ee3t xem","Views":"{count} l\u01b0\u1ee3t xem"},[i._param("count",a),i._enum(c==="1"?"View":"Views",{View:"View",Views:"Views"})])})})};d.canSeeConsolidatedTooltip=function(){var a=this.props.contextArgs.postViewCount,b=this.props.contextArgs.totalPosts,c=this.props.contextArgs.otherPostsViewCount;return!!b&&b>1&&!!a&&!!c};d.isCompactSearch=function(){return this.props.contextArgs.source===40};d.renderViewsTooltip=function(){var a=+this.props.contextArgs.totalPosts||0,c=+this.props.contextArgs.postViewCount||0,d=+this.props.contextArgs.otherPostsViewCount||0;return b("renderCrosspostedTooltipText")({posts:a,postViews:c,otherPostsViews:d})};d.renderPrivateReply=function(){var a=this.props.feedback.messagereplycontext;return!a||a.status!==b("PagesPrivateReplyConstants").Status.ALREADY_REPLIED?null:k.jsx("div",{className:"_36_q",children:k.jsx("span",{className:"_ipm",children:k.jsx(b("UFIPrivateReplyIndicator.react"),{replyStatus:a.status})})})};d.render=function(){var a={feedback:this.props.feedback,contextArgs:this.props.contextArgs,reactionsLink:null};this.props.overrideReactionsLink&&(a.reactionsLink=this.props.href);var c=this.renderComments(),d=this.renderShares(),e=this.renderSaves(),f=this.renderSeens(),g=this.renderViews(),h=this.renderPrivateReply(),i=this.props.feedback.reactioncount,j=b("SutroPhase2GatingConfig").enabled_counts_on_left;if(this.props.contextArgs.viewCount!=null&&(this.props.contextArgs.saveCount!=null||this.props.contextArgs.seenCount!=null))return k.jsxs("div",{className:"_ipn clearfix _-5d"+(j&&i==0?" _lca":""),children:[k.jsxs("div",{className:"_ipo",children:[c,d,k.jsxs("div",{className:"_34i1 _36_q",children:[e,f,g,h]})]}),k.jsx(b("UFIReactionsSocialSentence.react"),babelHelpers["extends"]({},a))]});else return k.jsxs("div",{className:"_ipn clearfix _-5d"+(j&&i==0?" _lca":""),children:[k.jsxs("div",{className:"_ipo",children:[c,d,e,f,g,h]}),k.jsx(b("UFIReactionsSocialSentence.react"),babelHelpers["extends"]({},a))]})};return c}(k.Component);e.exports=a}),null);
__d("FbFeedCommentUFIScroller",["DOMScroll","containsNode","ge","ifRequired"],(function(a,b,c,d,e,f){f.reveal=a;function a(a){if(a){var c=b("ge")("content");c&&b("containsNode")(c,a)?b("DOMScroll").ensureVisible(a,null,60,250):b("ifRequired")("ScrollableArea",function(b){b=b.getInstance(a);b&&b.scrollIntoView(a)})}}}),null);
__d("UFILiveTypingIndicator",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";f.isEnabled=a;function a(){return b("CurrentUser").isLoggedIn()}}),null);
__d("CommunityModerationEventFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","community_moderation_event");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEndTime=function(a){this.$1.end_time=a;return this};c.setOrderingMode=function(a){this.$1.ordering_mode=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setStartTime=function(a){this.$1.start_time=a;return this};c.setTimeSpentID=function(a){this.$1.time_spent_id=a;return this};c.setViewerHasInteracted=function(a){this.$1.viewer_has_interacted=a;return this};return a}();c={end_time:!0,ordering_mode:!0,post_fbid:!0,start_time:!0,time_spent_id:!0,viewer_has_interacted:!0};e.exports=a}),null);
__d("XCommentEmbedPluginEmbedAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/comment-embed/async/embed/dialog/",{comment_id:{type:"String",required:!0},width:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("XGroupsContentRemoveDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/content/remove/dialog/",{group_id:{type:"FBID"},content_id:{type:"FBID"},story_dom_id:{type:"String"},source:{type:"Enum",required:!0,enumType:1},client_id:{type:"String"},comment_id:{type:"String"},ft_ent_identifier:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XVODStreamingCommentsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/vodcomments/",{eft_id:{type:"String",required:!0},target_ufi_instance_id:{type:"String",required:!0},start_time:{type:"Float",required:!0},end_time:{type:"Float",required:!0},should_backfill:{type:"Bool",defaultValue:!1}})}),null);